(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(47167),r=e.i(71645);let n={pm:{name:"시윤",role:"통합 PM",color:"indigo"},"viewster-pm":{name:"준서",role:"Viewster 전담 PM",parent:"pm",color:"pink"},"gary-pm":{name:"도윤",role:"Gary 프로젝트 전담 PM",parent:"pm",color:"emerald"}},a={"viewster-pm":{label:"Viewster",description:"YouTube 기반 리워드 영상 시청 플랫폼",members:[{id:"viewster-be",name:"BE",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"viewster-web",name:"Web",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"viewster-mobile",name:"Mobile",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"viewster-design",name:"Design",role:"UI/UX 디자인",model:"gemini-2.5-pro"},{id:"viewster-qa",name:"QA",role:"품질보증/테스트",model:"gemini-2.5-pro"}]},"gary-pm":{label:"Gary Projects",description:"Nestack, gold-message, lotto-pick 등 개인 프로젝트",members:[{id:"gary-be",name:"BE",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"gary-web",name:"Web",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"gary-mobile",name:"Mobile",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"gary-design",name:"Design",role:"UI/UX 디자인",model:"gemini-2.5-pro"},{id:"gary-qa",name:"QA",role:"품질보증/테스트",model:"gemini-2.5-pro"}]}},i={pm:{text:"text-indigo-500 dark:text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20",ring:"ring-indigo-500/20",chatBorder:"border-l-indigo-500"},"viewster-pm":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"gary-pm":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"}},c=["pm","viewster-pm","gary-pm"],o=l.default.env.NEXT_PUBLIC_API_URL||"";function d(e){let t=n[e.id];return t?{...e,name:t.name,role:t.role,parent:t.parent}:e}let x=l.default.env.NEXT_PUBLIC_API_URL||"",m=l.default.env.NEXT_PUBLIC_API_URL||"",u=l.default.env.NEXT_PUBLIC_API_URL||"";var h=e.i(65150);function f(){let e,l,r,n=(0,s.c)(9),{resolved:a,setTheme:i}=(0,h.useTheme)();n[0]!==a||n[1]!==i?(e=()=>{i("dark"===a?"light":"dark")},n[0]=a,n[1]=i,n[2]=e):e=n[2];let c=e,o="dark"===a?"라이트 모드로 전환":"다크 모드로 전환";return n[3]!==a?(l="dark"===a?(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),n[3]=a,n[4]=l):l=n[4],n[5]!==o||n[6]!==l||n[7]!==c?(r=(0,t.jsx)("button",{onClick:c,className:"flex h-9 w-9 items-center justify-center rounded-xl bg-surface-hover transition-colors hover:bg-surface-light cursor-pointer","aria-label":o,children:l}),n[5]=o,n[6]=l,n[7]=c,n[8]=r):r=n[8],r}function p(e){let l,r,n,a,i,c,o,d,x=(0,s.c)(17),{connected:m}=e;x[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("span",{className:"text-sm font-semibold tracking-tight text-text-primary",children:"Gary Agent Team"}),(0,t.jsx)("span",{className:"rounded-md bg-accent-indigo/10 px-2 py-0.5 text-xs font-medium text-accent-indigo","aria-label":"Dashboard",children:"Dashboard"})]}),x[0]=l):l=x[0];let u=m?"연결됨":"연결 끊김";x[1]!==m?(r=m&&(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-accent-emerald opacity-60"}),x[1]=m,x[2]=r):r=x[2];let h=`relative inline-flex h-2 w-2 rounded-full ${m?"bg-accent-emerald":"bg-accent-rose"}`;x[3]!==h?(n=(0,t.jsx)("span",{className:h}),x[3]=h,x[4]=n):n=x[4],x[5]!==r||x[6]!==n?(a=(0,t.jsxs)("span",{className:"relative flex h-2 w-2 items-center justify-center",children:[r,n]}),x[5]=r,x[6]=n,x[7]=a):a=x[7];let p=m?"연결됨":"연결 끊김";return x[8]!==p?(i=(0,t.jsx)("span",{className:"hidden text-xs font-medium text-text-secondary sm:inline",children:p}),x[8]=p,x[9]=i):i=x[9],x[10]!==u||x[11]!==a||x[12]!==i?(c=(0,t.jsxs)("div",{className:"flex items-center gap-1.5",role:"status","aria-live":"polite","aria-label":u,children:[a,i]}),x[10]=u,x[11]=a,x[12]=i,x[13]=c):c=x[13],x[14]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(f,{}),x[14]=o):o=x[14],x[15]!==c?(d=(0,t.jsxs)("header",{className:"sticky top-0 z-10 flex h-12 shrink-0 items-center justify-between border-b border-border-subtle bg-background/80 px-4 backdrop-blur-xl lg:px-6",role:"banner",children:[l,(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[c,o]})]}),x[15]=c,x[16]=d):d=x[16],d}let b=[{id:"chat",label:"채팅",icon:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{id:"agents",label:"에이전트",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"detail",label:"상세",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,t.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,t.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}];function j(e){let l,r,n=(0,s.c)(5),{activeTab:a,onTabChange:i}=e;return n[0]!==a||n[1]!==i?(l=b.map(e=>{let s=a===e.id;return(0,t.jsxs)("button",{role:"tab","aria-selected":s,"aria-label":e.label,onClick:()=>i(e.id),className:`flex min-h-[48px] flex-1 flex-col items-center justify-center gap-1 px-2 py-2 text-xs font-medium transition-colors ${s?"text-accent-indigo":"text-text-muted hover:text-text-secondary"}`,children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.id)}),n[0]=a,n[1]=i,n[2]=l):l=n[2],n[3]!==l?(r=(0,t.jsx)("nav",{className:"safe-bottom border-t border-border-subtle bg-surface/80 backdrop-blur-lg md:hidden",role:"tablist","aria-label":"모바일 탭 네비게이션",children:(0,t.jsx)("div",{className:"flex",children:l})}),n[3]=l,n[4]=r):r=n[4],r}function g(e){let l,n,a,i,c,o,d,x,m,u,h,f,b,g,y,v=(0,s.c)(42),{connected:k,leftPanel:N,centerPanel:w,rightPanel:_}=e,[L,S]=(0,r.useState)("chat");return v[0]!==k?(l=(0,t.jsx)(p,{connected:k}),v[0]=k,v[1]=l):l=v[1],v[2]!==N?(n=(0,t.jsx)("aside",{className:"w-[280px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:N}),v[2]=N,v[3]=n):n=v[3],v[4]!==w?(a=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:w}),v[4]=w,v[5]=a):a=v[5],v[6]!==_?(i=(0,t.jsx)("aside",{className:"w-[320px] shrink-0 border-l border-border-subtle overflow-y-auto","aria-label":"상세 정보",children:_}),v[6]=_,v[7]=i):i=v[7],v[8]!==n||v[9]!==a||v[10]!==i?(c=(0,t.jsxs)("div",{className:"hidden xl:flex flex-1 min-h-0",children:[n,a,i]}),v[8]=n,v[9]=a,v[10]=i,v[11]=c):c=v[11],v[12]!==N?(o=(0,t.jsx)("aside",{className:"w-[240px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:N}),v[12]=N,v[13]=o):o=v[13],v[14]!==w?(d=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:w}),v[14]=w,v[15]=d):d=v[15],v[16]!==o||v[17]!==d?(x=(0,t.jsxs)("div",{className:"hidden md:flex xl:hidden flex-1 min-h-0",children:[o,d]}),v[16]=o,v[17]=d,v[18]=x):x=v[18],v[19]!==L||v[20]!==w?(m="chat"===L&&(0,t.jsx)("main",{"aria-label":"채팅",className:"h-full",children:w}),v[19]=L,v[20]=w,v[21]=m):m=v[21],v[22]!==L||v[23]!==N?(u="agents"===L&&(0,t.jsx)("section",{"aria-label":"에이전트 목록",className:"h-full",children:N}),v[22]=L,v[23]=N,v[24]=u):u=v[24],v[25]!==L||v[26]!==_?(h="detail"===L&&(0,t.jsx)("section",{"aria-label":"상세 정보",className:"h-full",children:_}),v[25]=L,v[26]=_,v[27]=h):h=v[27],v[28]!==u||v[29]!==h||v[30]!==m?(f=(0,t.jsxs)("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[m,u,h]}),v[28]=u,v[29]=h,v[30]=m,v[31]=f):f=v[31],v[32]!==L?(b=(0,t.jsx)(j,{activeTab:L,onTabChange:S}),v[32]=L,v[33]=b):b=v[33],v[34]!==f||v[35]!==b?(g=(0,t.jsxs)("div",{className:"flex md:hidden flex-1 min-h-0 flex-col",children:[f,b]}),v[34]=f,v[35]=b,v[36]=g):g=v[36],v[37]!==l||v[38]!==g||v[39]!==c||v[40]!==x?(y=(0,t.jsxs)("div",{className:"h-dvh flex flex-col bg-background",children:[l,c,x,g]}),v[37]=l,v[38]=g,v[39]=c,v[40]=x,v[41]=y):y=v[41],y}function y(e){let l,r,n,a,i,c,o,d,x,m,u,h,f,p,b,j,g,y,v,k,N,w=(0,s.c)(22),{className:_}=e;return w[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("polygon",{points:"8,28 16,6 26,24",fill:"#6366f1"}),h=(0,t.jsx)("polygon",{points:"11,26 16,11 23,24",fill:"#a5b4fc"}),p=(0,t.jsx)("polygon",{points:"56,28 48,6 38,24",fill:"#6366f1"}),b=(0,t.jsx)("polygon",{points:"53,26 48,11 41,24",fill:"#a5b4fc"}),j=(0,t.jsx)("circle",{cx:"32",cy:"36",r:"22",fill:"#818cf8"}),g=(0,t.jsx)("ellipse",{cx:"32",cy:"44",rx:"11",ry:"8",fill:"#a5b4fc"}),y=(0,t.jsx)("ellipse",{cx:"24",cy:"33",rx:"5",ry:"5.5",fill:"white"}),v=(0,t.jsx)("ellipse",{cx:"40",cy:"33",rx:"5",ry:"5.5",fill:"white"}),k=(0,t.jsx)("ellipse",{cx:"24",cy:"34",rx:"2.8",ry:"3.5",fill:"#312e81"}),r=(0,t.jsx)("ellipse",{cx:"40",cy:"34",rx:"2.8",ry:"3.5",fill:"#312e81"}),n=(0,t.jsx)("circle",{cx:"25.2",cy:"32.2",r:"1.2",fill:"white"}),a=(0,t.jsx)("circle",{cx:"41.2",cy:"32.2",r:"1.2",fill:"white"}),i=(0,t.jsx)("ellipse",{cx:"32",cy:"41",rx:"2.2",ry:"1.6",fill:"#4338ca"}),c=(0,t.jsx)("path",{d:"M29.5 43.5 Q32 46 34.5 43.5",stroke:"#4338ca",strokeWidth:"1.2",strokeLinecap:"round",fill:"none"}),o=(0,t.jsx)("line",{x1:"10",y1:"41",x2:"24",y2:"42.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),d=(0,t.jsx)("line",{x1:"10",y1:"44",x2:"24",y2:"44",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),x=(0,t.jsx)("line",{x1:"10",y1:"47",x2:"24",y2:"45.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),m=(0,t.jsx)("line",{x1:"54",y1:"41",x2:"40",y2:"42.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),u=(0,t.jsx)("line",{x1:"54",y1:"44",x2:"40",y2:"44",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),f=(0,t.jsx)("line",{x1:"54",y1:"47",x2:"40",y2:"45.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),w[0]=l,w[1]=r,w[2]=n,w[3]=a,w[4]=i,w[5]=c,w[6]=o,w[7]=d,w[8]=x,w[9]=m,w[10]=u,w[11]=h,w[12]=f,w[13]=p,w[14]=b,w[15]=j,w[16]=g,w[17]=y,w[18]=v,w[19]=k):(l=w[0],r=w[1],n=w[2],a=w[3],i=w[4],c=w[5],o=w[6],d=w[7],x=w[8],m=w[9],u=w[10],h=w[11],f=w[12],p=w[13],b=w[14],j=w[15],g=w[16],y=w[17],v=w[18],k=w[19]),w[20]!==_?(N=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:_,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"시윤 아바타",role:"img",children:[l,h,p,b,j,g,y,v,k,r,n,a,i,c,o,d,x,m,u,f]}),w[20]=_,w[21]=N):N=w[21],N}function v(e){let l,r,n,a,i,c,o,d,x,m,u,h,f,p,b,j,g,y=(0,s.c)(18),{className:v}=e;return y[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("circle",{cx:"13",cy:"18",r:"8",fill:"#ec4899"}),x=(0,t.jsx)("circle",{cx:"13",cy:"18",r:"4.5",fill:"#fbcfe8"}),m=(0,t.jsx)("circle",{cx:"51",cy:"18",r:"8",fill:"#ec4899"}),u=(0,t.jsx)("circle",{cx:"51",cy:"18",r:"4.5",fill:"#fbcfe8"}),h=(0,t.jsx)("circle",{cx:"32",cy:"36",r:"22",fill:"#f472b6"}),f=(0,t.jsx)("ellipse",{cx:"32",cy:"46",rx:"12",ry:"9",fill:"#fbcfe8"}),p=(0,t.jsx)("circle",{cx:"24",cy:"32",r:"5",fill:"white"}),b=(0,t.jsx)("circle",{cx:"40",cy:"32",r:"5",fill:"white"}),j=(0,t.jsx)("circle",{cx:"24.5",cy:"32.8",r:"3",fill:"#831843"}),r=(0,t.jsx)("circle",{cx:"40.5",cy:"32.8",r:"3",fill:"#831843"}),n=(0,t.jsx)("circle",{cx:"25.5",cy:"31.4",r:"1.2",fill:"white"}),a=(0,t.jsx)("circle",{cx:"41.5",cy:"31.4",r:"1.2",fill:"white"}),i=(0,t.jsx)("ellipse",{cx:"32",cy:"41.5",rx:"3.5",ry:"2.5",fill:"#be185d"}),c=(0,t.jsx)("path",{d:"M29 44.5 Q32 48 35 44.5",stroke:"#be185d",strokeWidth:"1.3",strokeLinecap:"round",fill:"none"}),o=(0,t.jsx)("ellipse",{cx:"19",cy:"39",rx:"4",ry:"2.5",fill:"#fda4af",opacity:"0.6"}),d=(0,t.jsx)("ellipse",{cx:"45",cy:"39",rx:"4",ry:"2.5",fill:"#fda4af",opacity:"0.6"}),y[0]=l,y[1]=r,y[2]=n,y[3]=a,y[4]=i,y[5]=c,y[6]=o,y[7]=d,y[8]=x,y[9]=m,y[10]=u,y[11]=h,y[12]=f,y[13]=p,y[14]=b,y[15]=j):(l=y[0],r=y[1],n=y[2],a=y[3],i=y[4],c=y[5],o=y[6],d=y[7],x=y[8],m=y[9],u=y[10],h=y[11],f=y[12],p=y[13],b=y[14],j=y[15]),y[16]!==v?(g=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:v,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"준서 아바타",role:"img",children:[l,x,m,u,h,f,p,b,j,r,n,a,i,c,o,d]}),y[16]=v,y[17]=g):g=y[17],g}function k(e){let l,r,n,a,i,c,o,d,x,m,u,h,f,p,b,j,g,y,v,k=(0,s.c)(20),{className:N}=e;return k[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("polygon",{points:"6,30 15,4 28,22",fill:"#10b981"}),u=(0,t.jsx)("polygon",{points:"10,28 15,9 25,22",fill:"#6ee7b7"}),h=(0,t.jsx)("polygon",{points:"58,30 49,4 36,22",fill:"#10b981"}),f=(0,t.jsx)("polygon",{points:"54,28 49,9 39,22",fill:"#6ee7b7"}),p=(0,t.jsx)("ellipse",{cx:"32",cy:"37",rx:"22",ry:"21",fill:"#34d399"}),b=(0,t.jsx)("ellipse",{cx:"32",cy:"46",rx:"13",ry:"10",fill:"#d1fae5"}),j=(0,t.jsx)("ellipse",{cx:"23",cy:"32",rx:"5",ry:"5",fill:"white"}),g=(0,t.jsx)("ellipse",{cx:"41",cy:"32",rx:"5",ry:"5",fill:"white"}),y=(0,t.jsx)("ellipse",{cx:"23.5",cy:"32.5",rx:"2.8",ry:"3.2",fill:"#064e3b"}),r=(0,t.jsx)("ellipse",{cx:"41.5",cy:"32.5",rx:"2.8",ry:"3.2",fill:"#064e3b"}),n=(0,t.jsx)("circle",{cx:"24.5",cy:"31",r:"1.1",fill:"white"}),a=(0,t.jsx)("circle",{cx:"42.5",cy:"31",r:"1.1",fill:"white"}),i=(0,t.jsx)("polygon",{points:"32,40 29.5,43 34.5,43",fill:"#059669"}),c=(0,t.jsx)("path",{d:"M29.5 44.5 Q32 47.5 35.5 45",stroke:"#059669",strokeWidth:"1.3",strokeLinecap:"round",fill:"none"}),o=(0,t.jsx)("ellipse",{cx:"17",cy:"38",rx:"3.5",ry:"2",fill:"#6ee7b7",opacity:"0.7"}),d=(0,t.jsx)("ellipse",{cx:"47",cy:"38",rx:"3.5",ry:"2",fill:"#6ee7b7",opacity:"0.7"}),x=(0,t.jsx)("path",{d:"M19 26.5 Q22 24.5 26 26",stroke:"#059669",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),m=(0,t.jsx)("path",{d:"M38 26 Q42 24.5 45 26.5",stroke:"#059669",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),k[0]=l,k[1]=r,k[2]=n,k[3]=a,k[4]=i,k[5]=c,k[6]=o,k[7]=d,k[8]=x,k[9]=m,k[10]=u,k[11]=h,k[12]=f,k[13]=p,k[14]=b,k[15]=j,k[16]=g,k[17]=y):(l=k[0],r=k[1],n=k[2],a=k[3],i=k[4],c=k[5],o=k[6],d=k[7],x=k[8],m=k[9],u=k[10],h=k[11],f=k[12],p=k[13],b=k[14],j=k[15],g=k[16],y=k[17]),k[18]!==N?(v=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:N,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"도윤 아바타",role:"img",children:[l,u,h,f,p,b,j,g,y,r,n,a,i,c,o,d,x,m]}),k[18]=N,k[19]=v):v=k[19],v}let N={active:"bg-emerald-500",idle:"bg-amber-400",offline:"bg-gray-300"},w={active:"animate-pulse",idle:"",offline:""};function _(e){let l,r=(0,s.c)(3),{status:n,size:a}=e,i=`inline-block rounded-full ${"sm"===(void 0===a?"md":a)?"h-2 w-2":"h-2.5 w-2.5"} ${N[n]} ${w[n]}`;return r[0]!==n||r[1]!==i?(l=(0,t.jsx)("span",{className:i,"aria-label":n}),r[0]=n,r[1]=i,r[2]=l):l=r[2],l}let L={xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-14 w-14",xl:"h-20 w-20"},S={xs:"sm",sm:"sm",md:"md",lg:"md",xl:"md"},$={active:"animate-avatar-bounce",idle:"animate-avatar-breathe",offline:"grayscale opacity-40"};function C(e){let l,r,n,a,i=(0,s.c)(12),{agentId:c,status:o,size:d,showStatus:x}=e,m=void 0===d?"md":d,u=void 0!==x&&x;i[0]!==c?(l=function(e){switch(e){case"pm":default:return y;case"viewster-pm":return v;case"gary-pm":return k}}(c),i[0]=c,i[1]=l):l=i[1];let h=l,f=L[m],p=$[o],b=S[m],j=`${f} ${p} rounded-full transition-all duration-300`;return i[2]!==h||i[3]!==j?(r=(0,t.jsx)(h,{className:j}),i[2]=h,i[3]=j,i[4]=r):r=i[4],i[5]!==b||i[6]!==u||i[7]!==o?(n=u&&(0,t.jsx)("span",{className:"absolute bottom-0 right-0 flex items-center justify-center","aria-hidden":"true",children:(0,t.jsx)(_,{status:o,size:b})}),i[5]=b,i[6]=u,i[7]=o,i[8]=n):n=i[8],i[9]!==r||i[10]!==n?(a=(0,t.jsxs)("span",{className:"relative inline-flex items-center justify-center select-none",children:[r,n]}),i[9]=r,i[10]=n,i[11]=a):a=i[11],a}let T={active:{label:"열일중",dot:"bg-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-500 dark:text-emerald-400",pulse:!0,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},idle:{label:"쉬는중",dot:"bg-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-500 dark:text-amber-400",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 9v6m4-6v6"})})},offline:{label:"오프라인",dot:"bg-gray-400 dark:bg-gray-500",bg:"bg-gray-500/10",border:"border-gray-500/20",text:"text-gray-500",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})})}};function M(e){let l,r,n,a=(0,s.c)(11),{status:i,size:c}=e,o=void 0===c?"md":c,d=T[i],x=`inline-flex items-center gap-1 rounded-full border ${"sm"===o?"px-1.5 py-0.5":"px-2 py-0.5"} ${d.bg} ${d.border}`;a[0]!==d.icon||a[1]!==d.text?(l=(0,t.jsx)("span",{className:d.text,children:d.icon}),a[0]=d.icon,a[1]=d.text,a[2]=l):l=a[2];let m=`font-medium ${"sm"===o?"text-[10px]":"text-[11px]"} ${d.text}`;return a[3]!==d.label||a[4]!==m?(r=(0,t.jsx)("span",{className:m,children:d.label}),a[3]=d.label,a[4]=m,a[5]=r):r=a[5],a[6]!==d.label||a[7]!==x||a[8]!==l||a[9]!==r?(n=(0,t.jsxs)("span",{className:x,role:"status","aria-label":d.label,children:[l,r]}),a[6]=d.label,a[7]=x,a[8]=l,a[9]=r,a[10]=n):n=a[10],n}function B(e){let l,r,n,a,c,o,d,x,m,u,h,f=(0,s.c)(34),{agent:p,selected:b,onClick:j}=e,g=i[p.id];f[0]!==p.id?(l=({pm:"border-l-accent-indigo","viewster-pm":"border-l-accent-pink","gary-pm":"border-l-accent-emerald"})[p.id]??"border-l-accent-indigo",f[0]=p.id,f[1]=l):l=f[1];let y=l,v=`에이전트 ${p.name} 선택`,k=b?`bg-surface-hover ${y}`:"border-l-transparent hover:bg-surface-hover";f[2]!==k?(r=["w-full flex items-center gap-3 px-3 py-3 text-left","min-h-[60px]","transition-all duration-150 ease-in-out","border-l-[3px]","cursor-pointer",k,"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-indigo focus-visible:ring-inset"],f[2]=k,f[3]=r):r=f[3];let N=r.join(" ");f[4]!==p.id||f[5]!==p.status?(n=(0,t.jsx)("span",{className:"shrink-0","aria-hidden":"true",children:(0,t.jsx)(C,{agentId:p.id,status:p.status,size:"md",showStatus:!0})}),f[4]=p.id,f[5]=p.status,f[6]=n):n=f[6];let w="text-text-primary";f[7]!==w?(a=["text-sm font-semibold leading-tight truncate",w],f[7]=w,f[8]=a):a=f[8];let _=a.join(" ");return f[9]!==p.name||f[10]!==_?(c=(0,t.jsx)("span",{className:_,children:p.name}),f[9]=p.name,f[10]=_,f[11]=c):c=f[11],f[12]!==p.status?(o=(0,t.jsx)(M,{status:p.status,size:"sm"}),f[12]=p.status,f[13]=o):o=f[13],f[14]!==c||f[15]!==o?(d=(0,t.jsxs)("span",{className:"flex items-center gap-2 flex-wrap",children:[c,o]}),f[14]=c,f[15]=o,f[16]=d):d=f[16],f[17]!==p.role||f[18]!==g?(x=p.role&&(0,t.jsx)("span",{className:["text-[11px] font-medium leading-tight truncate",g?g.text:"text-text-tertiary"].join(" "),children:p.role}),f[17]=p.role,f[18]=g,f[19]=x):x=f[19],f[20]!==p.currentTask||f[21]!==p.status?(m=p.currentTask&&"active"===p.status&&(0,t.jsx)("span",{className:"text-[10px] text-text-tertiary leading-tight truncate mt-0.5",children:p.currentTask}),f[20]=p.currentTask,f[21]=p.status,f[22]=m):m=f[22],f[23]!==d||f[24]!==x||f[25]!==m?(u=(0,t.jsxs)("span",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[d,x,m]}),f[23]=d,f[24]=x,f[25]=m,f[26]=u):u=f[26],f[27]!==j||f[28]!==b||f[29]!==u||f[30]!==v||f[31]!==N||f[32]!==n?(h=(0,t.jsxs)("button",{type:"button",onClick:j,"aria-pressed":b,"aria-label":v,className:N,children:[n,u]}),f[27]=j,f[28]=b,f[29]=u,f[30]=v,f[31]=N,f[32]=n,f[33]=h):h=f[33],h}function I(e){return"pm"===e.id}function W(e){let l,r,n,a,i,c,o,d,x,m=(0,s.c)(34),{agents:u,selectedAgentId:h,onSelectAgent:f,className:p}=e,b=void 0===p?"":p;if(m[0]!==u||m[1]!==b||m[2]!==f||m[3]!==h){let e,s,d,x,p,j=u.filter(I),g=u.filter(z);m[11]!==u?(e=u.filter(A),m[11]=u,m[12]=e):e=m[12];let y=e.length;m[13]!==b?(s=["flex flex-col bg-surface h-full",b],m[13]=b,m[14]=s):s=m[14],i=s.join(" "),c="에이전트 목록",m[15]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("h2",{className:"text-[11px] font-bold uppercase tracking-widest text-text-tertiary",children:"AI 팀원"}),m[15]=d):d=m[15];let v=`총 ${u.length}명, ${y}명 활성`;m[16]!==y?(x=y>0&&(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse","aria-hidden":"true"}),m[16]=y,m[17]=x):x=m[17],m[18]!==u.length?(p=(0,t.jsx)("span",{className:"text-[10px] font-semibold text-text-secondary tabular-nums",children:u.length}),m[18]=u.length,m[19]=p):p=m[19],m[20]!==v||m[21]!==x||m[22]!==p?(o=(0,t.jsxs)("div",{className:"shrink-0 flex items-center gap-2.5 px-4 py-3.5 border-b border-border-subtle",children:[d,(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-surface-hover border border-border-subtle px-2 py-0.5","aria-label":v,children:[x,p]})]}),m[20]=v,m[21]=x,m[22]=p,m[23]=o):o=m[23],l="flex-1 overflow-y-auto scrollbar-hide",r="list",n="에이전트 선택",a=0===u.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-24 px-4",children:(0,t.jsx)("p",{className:"text-sm text-text-tertiary text-center",children:"에이전트 없음"})}):(0,t.jsxs)(t.Fragment,{children:[j.length>0&&(0,t.jsxs)("div",{role:"group","aria-label":"수석 PM",children:[(0,t.jsx)("div",{className:"px-4 pt-3 pb-1",children:(0,t.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-widest text-text-tertiary/70",children:"Head PM"})}),j.map(e=>(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(B,{agent:e,selected:h===e.id,onClick:()=>f(e.id)})},e.id))]}),j.length>0&&g.length>0&&(0,t.jsx)("div",{className:"mx-3 my-1 h-px bg-border-subtle",role:"separator","aria-hidden":"true"}),g.length>0&&(0,t.jsxs)("div",{role:"group","aria-label":"팀 PM",children:[(0,t.jsx)("div",{className:"px-4 pt-3 pb-1",children:(0,t.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-widest text-text-tertiary/70",children:"Team PMs"})}),g.map(e=>(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(B,{agent:e,selected:h===e.id,onClick:()=>f(e.id)})},e.id))]}),(0,t.jsx)("div",{className:"h-3","aria-hidden":"true"})]}),m[0]=u,m[1]=b,m[2]=f,m[3]=h,m[4]=l,m[5]=r,m[6]=n,m[7]=a,m[8]=i,m[9]=c,m[10]=o}else l=m[4],r=m[5],n=m[6],a=m[7],i=m[8],c=m[9],o=m[10];return m[24]!==l||m[25]!==r||m[26]!==n||m[27]!==a?(d=(0,t.jsx)("div",{className:l,role:r,"aria-label":n,children:a}),m[24]=l,m[25]=r,m[26]=n,m[27]=a,m[28]=d):d=m[28],m[29]!==i||m[30]!==c||m[31]!==o||m[32]!==d?(x=(0,t.jsxs)("div",{className:i,"aria-label":c,children:[o,d]}),m[29]=i,m[30]=c,m[31]=o,m[32]=d,m[33]=x):x=m[33],x}function A(e){return"active"===e.status}function z(e){return!I(e)}let P=l.default.env.NEXT_PUBLIC_API_URL||"",E=0;function D(){return`msg-${Date.now()}-${++E}`}let U={};for(let[e,t]of Object.entries(n))U[t.name]=e;function O(e){return new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})}function H(e){let l,r,n,a,i=(0,s.c)(9),{message:c}=e;return i[0]!==c.content?(l=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:c.content}),i[0]=c.content,i[1]=l):l=i[1],i[2]!==c.timestamp?(r=O(c.timestamp),i[2]=c.timestamp,i[3]=r):r=i[3],i[4]!==r?(n=(0,t.jsx)("p",{className:"mt-1 text-[10px] text-white/60",children:r}),i[4]=r,i[5]=n):n=i[5],i[6]!==l||i[7]!==n?(a=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("div",{className:"max-w-[78%]",children:(0,t.jsxs)("div",{className:"rounded-2xl rounded-tr-sm bg-chat-user-bg px-4 py-2.5 text-sm leading-relaxed text-chat-user-text",children:[l,n]})})}),i[6]=l,i[7]=n,i[8]=a):a=i[8],a}function R(e){let l,r,n,a,c,o,d,x,m=(0,s.c)(21),{message:u}=e,h=u.from.id,f=i[h]??i.pm;m[0]!==h?(l=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(C,{agentId:h,status:"active",size:"xs"})}),m[0]=h,m[1]=l):l=m[1];let p=`mb-1 text-[11px] font-semibold ${f.text}`;m[2]!==u.from.name||m[3]!==p?(r=(0,t.jsx)("p",{className:p,children:u.from.name}),m[2]=u.from.name,m[3]=p,m[4]=r):r=m[4];let b=`rounded-2xl rounded-tl-sm border-l-[3px] bg-chat-agent-bg px-4 py-2.5 text-sm leading-relaxed text-chat-agent-text ${f.chatBorder}`;return m[5]!==u.content?(n=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:u.content}),m[5]=u.content,m[6]=n):n=m[6],m[7]!==u.timestamp?(a=O(u.timestamp),m[7]=u.timestamp,m[8]=a):a=m[8],m[9]!==a?(c=(0,t.jsx)("p",{className:"mt-1 text-[10px] text-text-muted",children:a}),m[9]=a,m[10]=c):c=m[10],m[11]!==b||m[12]!==n||m[13]!==c?(o=(0,t.jsxs)("div",{className:b,children:[n,c]}),m[11]=b,m[12]=n,m[13]=c,m[14]=o):o=m[14],m[15]!==r||m[16]!==o?(d=(0,t.jsxs)("div",{className:"max-w-[78%]",children:[r,o]}),m[15]=r,m[16]=o,m[17]=d):d=m[17],m[18]!==l||m[19]!==d?(x=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[l,d]}),m[18]=l,m[19]=d,m[20]=x):x=m[20],x}function F(e){let l,r,n,a,c,o,d,x,m,u,h,f,p=(0,s.c)(30),{message:b}=e,j=b.from.id,g=b.to?.id??"",y=i[j]??i.pm,v=i[g]??i.pm;p[0]!==j?(l=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(C,{agentId:j,status:"active",size:"xs"})}),p[0]=j,p[1]=l):l=p[1];let k=`font-semibold ${y.text}`;p[2]!==b.from.name||p[3]!==k?(r=(0,t.jsx)("span",{className:k,children:b.from.name}),p[2]=b.from.name,p[3]=k,p[4]=r):r=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("svg",{className:"h-3 w-3 text-text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),p[5]=n):n=p[5];let N=`font-semibold ${v.text}`,w=b.to?.name??"";return p[6]!==N||p[7]!==w?(a=(0,t.jsx)("span",{className:N,children:w}),p[6]=N,p[7]=w,p[8]=a):a=p[8],p[9]!==g?(c=(0,t.jsx)(C,{agentId:g,status:"idle",size:"xs"}),p[9]=g,p[10]=c):c=p[10],p[11]!==r||p[12]!==a||p[13]!==c?(o=(0,t.jsxs)("div",{className:"mb-1 flex items-center gap-1.5 text-[11px]",children:[r,n,a,c]}),p[11]=r,p[12]=a,p[13]=c,p[14]=o):o=p[14],p[15]!==b.content?(d=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:b.content}),p[15]=b.content,p[16]=d):d=p[16],p[17]!==b.timestamp?(x=O(b.timestamp),p[17]=b.timestamp,p[18]=x):x=p[18],p[19]!==x?(m=(0,t.jsx)("p",{className:"mt-1 text-[10px] opacity-60",children:x}),p[19]=x,p[20]=m):m=p[20],p[21]!==d||p[22]!==m?(u=(0,t.jsxs)("div",{className:"rounded-xl bg-chat-inter-bg px-3.5 py-2 text-xs leading-relaxed text-chat-inter-text",children:[d,m]}),p[21]=d,p[22]=m,p[23]=u):u=p[23],p[24]!==u||p[25]!==o?(h=(0,t.jsxs)("div",{className:"max-w-[74%]",children:[o,u]}),p[24]=u,p[25]=o,p[26]=h):h=p[26],p[27]!==l||p[28]!==h?(f=(0,t.jsxs)("div",{className:"flex items-start gap-2 pl-4",children:[l,h]}),p[27]=l,p[28]=h,p[29]=f):f=p[29],f}function K(e){let l,r=(0,s.c)(2),{message:n}=e;return r[0]!==n.content?(l=(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("p",{className:"text-center text-[11px] text-text-muted",children:n.content})}),r[0]=n.content,r[1]=l):l=r[1],l}function Q(e){let l=(0,s.c)(8),{message:r}=e;switch(r.type){case"user-to-agent":{let e;return l[0]!==r?(e=(0,t.jsx)(H,{message:r}),l[0]=r,l[1]=e):e=l[1],e}case"agent-to-user":{let e;return l[2]!==r?(e=(0,t.jsx)(R,{message:r}),l[2]=r,l[3]=e):e=l[3],e}case"agent-to-agent":{let e;return l[4]!==r?(e=(0,t.jsx)(F,{message:r}),l[4]=r,l[5]=e):e=l[5],e}case"system":{let e;return l[6]!==r?(e=(0,t.jsx)(K,{message:r}),l[6]=r,l[7]=e):e=l[7],e}default:return null}}function X(e){let l,n,a,i,o,d,x,m,u,h=(0,s.c)(24),{onSend:f,sending:p}=e,[b,j]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),[v,k]=(0,r.useState)(""),[N,w]=(0,r.useState)(0),_=(0,r.useRef)(null),L=(0,r.useRef)(null);h[0]!==v?(l=e=>!v||e.name.includes(v)||e.id.includes(v),h[0]=v,h[1]=l):l=h[1];let S=c.map(V).filter(l),$=()=>{let e=_.current;e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,120)}px`)},T=()=>{b.trim()&&!p&&(f(b.trim()),j(""),y(!1),_.current&&(_.current.style.height="auto"))},M=e=>{let t=_.current;if(!t)return;let s=t.selectionStart??b.length,l=b.substring(0,s),r=l.lastIndexOf("@");if(-1===r)return;let n=b.substring(s);j(l.substring(0,r)+`@${e} `+n),y(!1),k(""),requestAnimationFrame(()=>{t.focus();let s=r+e.length+2;t.setSelectionRange(s,s),$()})},B=e=>{let t=e.target.value;j(t),$();let s=e.target.selectionStart??t.length,l=t.substring(0,s),r=l.lastIndexOf("@");if(-1!==r&&(0===r||" "===l[r-1]||"\n"===l[r-1])){let e=l.substring(r+1);if(!e.includes(" ")){k(e),y(!0),w(0);return}}y(!1)},I=e=>{if(g&&S.length>0){if("ArrowDown"===e.key){e.preventDefault(),w(e=>(e+1)%S.length);return}if("ArrowUp"===e.key){e.preventDefault(),w(e=>(e-1+S.length)%S.length);return}if("Enter"===e.key||"Tab"===e.key){e.preventDefault(),M(S[N].name);return}if("Escape"===e.key){e.preventDefault(),y(!1);return}}"Enter"!==e.key||e.shiftKey||(e.preventDefault(),T())};h[2]!==g?(n=()=>{if(!g)return;let e=e=>{L.current&&!L.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},a=[g],h[2]=g,h[3]=n,h[4]=a):(n=h[3],a=h[4]),(0,r.useEffect)(n,a);let W=g&&S.length>0&&(0,t.jsxs)("div",{ref:L,className:"absolute bottom-full left-0 mb-2 w-56 rounded-xl border border-border-subtle bg-surface shadow-lg overflow-hidden z-10",children:[S.map((e,s)=>(0,t.jsxs)("button",{type:"button",onClick:()=>M(e.name),className:`flex items-center gap-2.5 w-full px-3 py-2 text-left transition-colors cursor-pointer ${s===N?"bg-accent-indigo/10":"hover:bg-white/[0.04]"}`,children:[(0,t.jsx)(C,{agentId:e.id,status:"active",size:"xs"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-text-primary",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-text-muted",children:e.role})]})]},e.id)),(0,t.jsx)("div",{className:"px-3 py-1.5 border-t border-border-subtle",children:(0,t.jsx)("p",{className:"text-[10px] text-text-muted",children:"@로 에이전트 멘션"})})]});return h[5]!==B||h[6]!==I||h[7]!==b||h[8]!==_||h[9]!==p?(i=(0,t.jsx)("textarea",{ref:_,value:b,onChange:B,onKeyDown:I,placeholder:"메시지를 입력하세요... (@로 에이전트 멘션)",disabled:p,rows:1,"aria-label":"메시지 입력",className:"flex-1 resize-none rounded-xl border border-border-subtle bg-surface-light px-4 py-2.5 text-sm text-text-primary placeholder:text-text-muted focus:border-accent-indigo/40 focus:bg-surface focus:outline-none focus:ring-1 focus:ring-accent-indigo/30 disabled:opacity-50"}),h[5]=B,h[6]=I,h[7]=b,h[8]=_,h[9]=p,h[10]=i):i=h[10],h[11]!==b||h[12]!==p?(o=!b.trim()||p,h[11]=b,h[12]=p,h[13]=o):o=h[13],h[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),h[14]=d):d=h[14],h[15]!==T||h[16]!==o?(x=(0,t.jsx)("button",{type:"button",onClick:T,disabled:o,"aria-label":"전송",className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-accent-indigo text-white transition-colors hover:bg-accent-indigo/80 disabled:cursor-not-allowed disabled:bg-surface-light disabled:text-text-muted",children:d}),h[15]=T,h[16]=o,h[17]=x):x=h[17],h[18]!==x||h[19]!==i?(m=(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[i,x]}),h[18]=x,h[19]=i,h[20]=m):m=h[20],h[21]!==m||h[22]!==W?(u=(0,t.jsx)("div",{className:"px-3 py-3 shrink-0",children:(0,t.jsxs)("div",{className:"relative",children:[W,m]})}),h[21]=m,h[22]=W,h[23]=u):u=h[23],u}function V(e){return{id:e,name:n[e]?.name??e,role:n[e]?.role??""}}function q(){let e,l,r=(0,s.c)(2);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[e,(0,t.jsx)("div",{className:"rounded-2xl rounded-tl-sm bg-chat-agent-bg px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",role:"status","aria-label":"에이전트가 응답 중",children:[(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:0ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:150ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:300ms]"})]})})]}),r[1]=l):l=r[1],l}function G(){let e,l=(0,s.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center px-6",children:[(0,t.jsx)("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-accent-indigo/10",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})})}),(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary",children:"팀에게 메시지를 보내보세요"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-text-muted",children:"@로 에이전트를 멘션하면 지목할 수 있어요"})]}),l[0]=e):e=l[0],e}function J(e){let l,a,i,c,o,d,x,m,u,h,f,p=(0,s.c)(26),{className:b}=e,{messages:j,sending:g,sendMessage:y,clearMessages:v}=function(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),a=(0,r.useRef)(`web-${Date.now()}`),i=(0,r.useCallback)(async e=>{let r=e.trim();if(!r||s)return;let i=function(e){let t=e.match(/@(\S+)/);if(t){let e=t[1];if(U[e])return U[e];if(n[e])return e}return"pm"}(r),c=n[i],o=c?.name??i,d={id:D(),type:"user-to-agent",from:{id:"user",name:"나"},to:{id:i,name:o},content:r,timestamp:Date.now(),status:"sending"};t(e=>[...e,d]),l(!0),t(e=>e.map(e=>e.id===d.id?{...e,status:"sent"}:e));try{let e=await fetch(`${P}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r,sessionId:a.current,agentId:i})});if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),l=s.data?.content||s.content||"응답을 받지 못했습니다.",n={id:D(),type:"agent-to-user",from:{id:i,name:o},to:{id:"user",name:"나"},content:l,timestamp:Date.now(),status:"sent"};t(e=>[...e,n])}catch(s){let e={id:D(),type:"system",from:{id:"system",name:"System"},content:`오류가 발생했습니다: ${s instanceof Error?s.message:"알 수 없는 오류"}`,timestamp:Date.now(),status:"error"};t(t=>[...t,e])}finally{l(!1)}},[s]);return{messages:e,sending:s,sendMessage:i,clearMessages:(0,r.useCallback)(()=>{t([]),a.current=`web-${Date.now()}`},[])}}(),k=(0,r.useRef)(null);p[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{let e=k.current;e&&(e.scrollTop=e.scrollHeight)},p[0]=l):l=p[0],p[1]!==j||p[2]!==g?(a=[j,g],p[1]=j,p[2]=g,p[3]=a):a=p[3],(0,r.useEffect)(l,a);let N=`flex h-full flex-col bg-surface ${b??""}`;return p[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("svg",{className:"h-4 w-4 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),c=(0,t.jsx)("h2",{className:"text-sm font-bold text-text-primary",children:"팀 채팅"}),p[4]=i,p[5]=c):(i=p[4],c=p[5]),p[6]!==j.length?(o=j.length>0&&(0,t.jsx)("span",{className:"rounded-full bg-accent-indigo/10 px-2 py-0.5 text-[10px] font-medium text-accent-indigo",children:j.length}),p[6]=j.length,p[7]=o):o=p[7],p[8]!==o?(d=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i,c,o]}),p[8]=o,p[9]=d):d=p[9],p[10]!==v?(x=(0,t.jsx)("button",{type:"button",onClick:v,className:"rounded-lg px-2.5 py-1 text-xs text-text-tertiary transition-colors hover:bg-surface-hover hover:text-text-primary",children:"새 대화"}),p[10]=v,p[11]=x):x=p[11],p[12]!==d||p[13]!==x?(m=(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border-subtle px-4 py-3 shrink-0",children:[d,x]}),p[12]=d,p[13]=x,p[14]=m):m=p[14],p[15]!==j||p[16]!==g?(u=(0,t.jsx)("div",{ref:k,className:"flex-1 overflow-y-auto px-4 py-4",role:"log","aria-label":"채팅 메시지","aria-live":"polite",children:0!==j.length||g?(0,t.jsxs)("div",{className:"space-y-3",children:[j.map(Y),g&&(0,t.jsx)(q,{})]}):(0,t.jsx)(G,{})}),p[15]=j,p[16]=g,p[17]=u):u=p[17],p[18]!==y||p[19]!==g?(h=(0,t.jsx)("div",{className:"border-t border-border-subtle shrink-0",children:(0,t.jsx)(X,{onSend:y,sending:g})}),p[18]=y,p[19]=g,p[20]=h):h=p[20],p[21]!==u||p[22]!==h||p[23]!==N||p[24]!==m?(f=(0,t.jsxs)("div",{className:N,children:[m,u,h]}),p[21]=u,p[22]=h,p[23]=N,p[24]=m,p[25]=f):f=p[25],f}function Y(e){return(0,t.jsx)(Q,{message:e},e.id)}function Z(e){let l,r,n,a,i,c,o,d=(0,s.c)(8),{className:x}=e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),r=(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),n=(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),a=(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),i=(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),c=(0,t.jsx)("path",{d:"M9 16.5h6"}),d[0]=l,d[1]=r,d[2]=n,d[3]=a,d[4]=i,d[5]=c):(l=d[0],r=d[1],n=d[2],a=d[3],i=d[4],c=d[5]),d[6]!==x?(o=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:x,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r,n,a,i,c]}),d[6]=x,d[7]=o):o=d[7],o}function ee(e){let l,r,n,a,i,c=(0,s.c)(6),{className:o}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),r=(0,t.jsx)("circle",{cx:"9",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),n=(0,t.jsx)("circle",{cx:"12",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),a=(0,t.jsx)("circle",{cx:"15",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),c[0]=l,c[1]=r,c[2]=n,c[3]=a):(l=c[0],r=c[1],n=c[2],a=c[3]),c[4]!==o?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:o,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r,n,a]}),c[4]=o,c[5]=i):i=c[5],i}function et(e){let l,r,n,a,i=(0,s.c)(5),{className:c}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{d:"M12 2l2.09 6.26L21 10l-6.91 1.74L12 18l-2.09-6.26L3 10l6.91-1.74L12 2z"}),r=(0,t.jsx)("path",{d:"M19 3l.75 2.25L22 6l-2.25.75L19 9l-.75-2.25L16 6l2.25-.75L19 3z"}),n=(0,t.jsx)("path",{d:"M5 16l.5 1.5 1.5.5-1.5.5L5 20l-.5-1.5L3 18l1.5-.5L5 16z"}),i[0]=l,i[1]=r,i[2]=n):(l=i[0],r=i[1],n=i[2]),i[3]!==c?(a=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:c,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r,n]}),i[3]=c,i[4]=a):a=i[4],a}function es(e){let l,r,n,a=(0,s.c)(4),{className:i}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"9"}),r=(0,t.jsx)("polyline",{points:"12 7 12 12 15.5 15.5"}),a[0]=l,a[1]=r):(l=a[0],r=a[1]),a[2]!==i?(n=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r]}),a[2]=i,a[3]=n):n=a[3],n}function el(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}let er=[{bg:"bg-violet-500/10",iconBg:"bg-violet-500/15",iconColor:"text-violet-400",valueColor:"text-violet-300"},{bg:"bg-sky-500/10",iconBg:"bg-sky-500/15",iconColor:"text-sky-400",valueColor:"text-sky-300"},{bg:"bg-rose-500/10",iconBg:"bg-rose-500/15",iconColor:"text-rose-400",valueColor:"text-rose-300"},{bg:"bg-amber-500/10",iconBg:"bg-amber-500/15",iconColor:"text-amber-400",valueColor:"text-amber-300"}];function en(e){let l,r,n,a,i,c,o=(0,s.c)(18),{label:d,value:x,sub:m,icon:u,style:h}=e,f=`rounded-2xl ${h.bg} p-3.5`,p=`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg ${h.iconBg} ${h.iconColor}`;o[0]!==u||o[1]!==p?(l=(0,t.jsx)("span",{className:p,"aria-hidden":"true",children:u}),o[0]=u,o[1]=p,o[2]=l):l=o[2],o[3]!==d?(r=(0,t.jsx)("p",{className:"text-[11px] font-medium text-text-tertiary",children:d}),o[3]=d,o[4]=r):r=o[4],o[5]!==l||o[6]!==r?(n=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,r]}),o[5]=l,o[6]=r,o[7]=n):n=o[7];let b=`mt-2 text-xl font-bold tabular-nums ${h.valueColor}`;return o[8]!==b||o[9]!==x?(a=(0,t.jsx)("p",{className:b,children:x}),o[8]=b,o[9]=x,o[10]=a):a=o[10],o[11]!==m?(i=m&&(0,t.jsx)("p",{className:"mt-0.5 text-[10px] leading-tight text-text-muted",children:m}),o[11]=m,o[12]=i):i=o[12],o[13]!==f||o[14]!==n||o[15]!==a||o[16]!==i?(c=(0,t.jsxs)("div",{className:f,children:[n,a,i]}),o[13]=f,o[14]=n,o[15]=a,o[16]=i,o[17]=c):c=o[17],c}function ea(e){let l,r,n,a,i,c,o=(0,s.c)(10),{style:d}=e,x=`animate-pulse rounded-2xl ${d.bg} p-3.5`,m=`h-7 w-7 rounded-lg ${d.iconBg}`;return o[0]!==m?(l=(0,t.jsx)("div",{className:m}),o[0]=m,o[1]=l):l=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("div",{className:"h-2.5 w-14 rounded bg-white/[0.06]"}),o[2]=r):r=o[2],o[3]!==l?(n=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,r]}),o[3]=l,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"mt-2 h-6 w-10 rounded bg-white/[0.06]"}),i=(0,t.jsx)("div",{className:"mt-1 h-2 w-20 rounded bg-white/[0.04]"}),o[5]=a,o[6]=i):(a=o[5],i=o[6]),o[7]!==x||o[8]!==n?(c=(0,t.jsxs)("div",{className:x,"aria-hidden":"true",children:[n,a,i]}),o[7]=x,o[8]=n,o[9]=c):c=o[9],c}function ei(e){let l,r,n,a,i,c,o,d,x,m,u,h,f,p=(0,s.c)(28),{stats:b,loading:j}=e;if(j||!b){let e;return p[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"통계 로딩중",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2.5",children:er.map(ec)})}),p[0]=e):e=p[0],e}let g=b.totalInputTokens+b.totalOutputTokens,y=String(b.totalAgents),v=`${b.activeAgents} active / ${b.idleAgents} idle`;p[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(Z,{className:"h-4 w-4"}),p[1]=l):l=p[1],p[2]!==y||p[3]!==v?(r=(0,t.jsx)(en,{label:"에이전트",value:y,sub:v,icon:l,style:er[0]}),p[2]=y,p[3]=v,p[4]=r):r=p[4];let k=String(b.totalSessions);p[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(ee,{className:"h-4 w-4"}),p[5]=n):n=p[5],p[6]!==k?(a=(0,t.jsx)(en,{label:"세션",value:k,icon:n,style:er[1]}),p[6]=k,p[7]=a):a=p[7],p[8]!==g?(i=el(g),p[8]=g,p[9]=i):i=p[9],p[10]!==b.totalInputTokens?(c=el(b.totalInputTokens),p[10]=b.totalInputTokens,p[11]=c):c=p[11],p[12]!==b.totalOutputTokens?(o=el(b.totalOutputTokens),p[12]=b.totalOutputTokens,p[13]=o):o=p[13];let N=`in ${c} / out ${o}`;if(p[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(et,{className:"h-4 w-4"}),p[14]=d):d=p[14],p[15]!==N||p[16]!==i?(x=(0,t.jsx)(en,{label:"토큰",value:i,sub:N,icon:d,style:er[2]}),p[15]=N,p[16]=i,p[17]=x):x=p[17],p[18]!==b.uptimeMs){var w;let e,t;e=Math.floor((w=b.uptimeMs)/36e5),t=Math.floor(w%36e5/6e4),m=e>0?`${e}h ${t}m`:`${t}m`,p[18]=b.uptimeMs,p[19]=m}else m=p[19];return p[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(es,{className:"h-4 w-4"}),p[20]=u):u=p[20],p[21]!==m?(h=(0,t.jsx)(en,{label:"가동시간",value:m,icon:u,style:er[3]}),p[21]=m,p[22]=h):h=p[22],p[23]!==x||p[24]!==h||p[25]!==r||p[26]!==a?(f=(0,t.jsx)("section",{"aria-label":"시스템 통계",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2.5",children:[r,a,x,h]})}),p[23]=x,p[24]=h,p[25]=r,p[26]=a,p[27]=f):f=p[27],f}function ec(e,s){return(0,t.jsx)(ea,{style:e},s)}function eo(e){let l,r,n,a,i,c,o,d,x,m,u,h=(0,s.c)(28),{label:f,info:p,accentBarColor:b}=e;if(!p)return null;h[0]!==p.utilization?(l=Math.round(p.utilization>1?p.utilization:100*p.utilization),h[0]=p.utilization,h[1]=l):l=h[1];let j=Math.min(100,l);h[2]!==p.resets_at?(r=function(e){if(!e)return"";let t=new Date(e).getTime()-Date.now();if(t<=0)return"곧 리셋";let s=Math.floor(t/36e5),l=Math.floor(t%36e5/6e4);return s>0?`${s}시간 ${l}분`:`${l}분`}(p.resets_at),h[2]=p.resets_at,h[3]=r):r=h[3];let g=r,y=j>=90?"bg-rose-500":j>=70?"bg-amber-500":b;h[4]!==f?(n=(0,t.jsx)("span",{className:"text-text-tertiary",children:f}),h[4]=f,h[5]=n):n=h[5],h[6]!==j?(a=(0,t.jsxs)("span",{className:"font-mono text-text-secondary tabular-nums",children:[j,"%"]}),h[6]=j,h[7]=a):a=h[7],h[8]!==g?(i=g&&(0,t.jsx)("span",{className:"text-text-muted",children:g}),h[8]=g,h[9]=i):i=h[9],h[10]!==a||h[11]!==i?(c=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a,i]}),h[10]=a,h[11]=i,h[12]=c):c=h[12],h[13]!==n||h[14]!==c?(o=(0,t.jsxs)("div",{className:"flex items-center justify-between text-[11px]",children:[n,c]}),h[13]=n,h[14]=c,h[15]=o):o=h[15];let v=`${f} 사용률 ${j}%`,k=`h-full rounded-full transition-all duration-500 ${y}`,N=`${j}%`;return h[16]!==N?(d={width:N},h[16]=N,h[17]=d):d=h[17],h[18]!==d||h[19]!==k?(x=(0,t.jsx)("div",{className:k,style:d}),h[18]=d,h[19]=k,h[20]=x):x=h[20],h[21]!==j||h[22]!==x||h[23]!==v?(m=(0,t.jsx)("div",{className:"h-1.5 overflow-hidden rounded-full bg-white/[0.06]",role:"progressbar","aria-valuenow":j,"aria-valuemin":0,"aria-valuemax":100,"aria-label":v,children:x}),h[21]=j,h[22]=x,h[23]=v,h[24]=m):m=h[24],h[25]!==m||h[26]!==o?(u=(0,t.jsxs)("div",{className:"space-y-1",children:[o,m]}),h[25]=m,h[26]=o,h[27]=u):u=h[27],u}function ed(e){let l,r,n,a,i,c,o=(0,s.c)(18),{account:d}=e,x="claude-viewster"===d.id,m=x?"bg-violet-500":"bg-cyan-500",u=`text-xs font-bold ${x?"text-accent-violet":"text-accent-indigo"}`;return o[0]!==d.label||o[1]!==u?(l=(0,t.jsx)("span",{className:u,children:d.label}),o[0]=d.label,o[1]=u,o[2]=l):l=o[2],o[3]!==d.id?(r=(0,t.jsx)("span",{className:"text-[10px] text-text-muted",children:d.id}),o[3]=d.id,o[4]=r):r=o[4],o[5]!==l||o[6]!==r?(n=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,r]}),o[5]=l,o[6]=r,o[7]=n):n=o[7],o[8]!==d.error||o[9]!==d.usage?(a=d.error&&!d.usage&&(0,t.jsx)("p",{className:"text-[11px] text-text-muted",children:"데이터 없음"}),o[8]=d.error,o[9]=d.usage,o[10]=a):a=o[10],o[11]!==m||o[12]!==d.usage?(i=d.usage&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eo,{label:"5시간",info:d.usage.five_hour,accentBarColor:m}),(0,t.jsx)(eo,{label:"7일",info:d.usage.seven_day,accentBarColor:m}),(0,t.jsx)(eo,{label:"7일 소넷",info:d.usage.seven_day_sonnet,accentBarColor:m})]}),o[11]=m,o[12]=d.usage,o[13]=i):i=o[13],o[14]!==n||o[15]!==a||o[16]!==i?(c=(0,t.jsxs)("div",{className:"space-y-2.5",children:[n,a,i]}),o[14]=n,o[15]=a,o[16]=i,o[17]=c):c=o[17],c}function ex(){let e,l=(0,s.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-1","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-2.5 w-10 rounded bg-white/[0.06]"}),(0,t.jsx)("div",{className:"h-2.5 w-8 rounded bg-white/[0.06]"})]}),(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-white/[0.04]"})]}),l[0]=e):e=l[0],e}function em(){let e,l=(0,s.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-2.5","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-16 rounded bg-white/[0.08]"}),(0,t.jsx)("div",{className:"h-2.5 w-24 rounded bg-white/[0.04]"})]}),(0,t.jsx)(ex,{}),(0,t.jsx)(ex,{}),(0,t.jsx)(ex,{})]}),l[0]=e):e=l[0],e}function eu(e){let l,r,n=(0,s.c)(6),{accounts:a,loading:i}=e;if(i){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량 로딩중",children:(0,t.jsx)("div",{className:"space-y-4",children:[0,1].map(ef)})}),n[0]=e):e=n[0],e}if(0===a.length){let e;return n[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량",children:(0,t.jsx)("p",{className:"text-center text-[11px] text-text-muted py-2",children:"사용량 데이터 없음"})}),n[1]=e):e=n[1],e}return n[2]!==a?(l=a.map(eh),n[2]=a,n[3]=l):l=n[3],n[4]!==l?(r=(0,t.jsx)("section",{"aria-label":"계정 사용량",children:(0,t.jsx)("div",{className:"space-y-4",children:l})}),n[4]=l,n[5]=r):r=n[5],r}function eh(e,s){return(0,t.jsx)("div",{className:s>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(ed,{account:e})},e.id)}function ef(e){return(0,t.jsx)("div",{className:e>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(em,{})},e)}function ep(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function eb(e){let l,r,n,a=(0,s.c)(7),{label:i,value:c}=e;return a[0]!==i?(l=(0,t.jsx)("span",{className:"text-[10px] text-text-muted whitespace-nowrap",children:i}),a[0]=i,a[1]=l):l=a[1],a[2]!==c?(r=(0,t.jsx)("span",{className:"text-xs font-semibold text-text-primary tabular-nums truncate max-w-full",children:c}),a[2]=c,a[3]=r):r=a[3],a[4]!==l||a[5]!==r?(n=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-white/[0.04] px-3 py-2 min-w-0",children:[l,r]}),a[4]=l,a[5]=r,a[6]=n):n=a[6],n}function ej(e){let l,r,n,a,i,c,o,d,x,m,u,h,f,p,b,j,g,y,v,k,N,w,_,L,S=(0,s.c)(61),{agent:$}=e;if(!$){let e;return S[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"에이전트 상세",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-center",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/[0.04] text-text-muted","aria-hidden":"true",children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),(0,t.jsx)("path",{d:"M9 16.5h6"})]})}),(0,t.jsx)("p",{className:"text-sm text-text-muted",children:"에이전트를 선택하세요"})]})}),S[0]=e):e=S[0],e}let T=$.inputTokens+$.outputTokens,B=`${$.name} 에이전트 상세`;S[1]!==$.id||S[2]!==$.status?(l=(0,t.jsx)(C,{agentId:$.id,status:$.status,size:"lg"}),S[1]=$.id,S[2]=$.status,S[3]=l):l=S[3],S[4]!==$.name?(r=(0,t.jsx)("h3",{className:"text-base font-bold text-text-primary",children:$.name}),S[4]=$.name,S[5]=r):r=S[5],S[6]!==$.role?(n=$.role&&(0,t.jsx)("p",{className:"text-xs text-accent-indigo font-medium",children:$.role}),S[6]=$.role,S[7]=n):n=S[7],S[8]!==$.status?(a=(0,t.jsx)(M,{status:$.status,size:"sm"}),S[8]=$.status,S[9]=a):a=S[9],S[10]!==r||S[11]!==n||S[12]!==a?(i=(0,t.jsxs)("div",{className:"space-y-1",children:[r,n,a]}),S[10]=r,S[11]=n,S[12]=a,S[13]=i):i=S[13],S[14]!==l||S[15]!==i?(c=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[l,i]}),S[14]=l,S[15]=i,S[16]=c):c=S[16],S[17]!==$.model?(o=(0,t.jsx)(eb,{label:"모델",value:$.model}),S[17]=$.model,S[18]=o):o=S[18],S[19]!==T?(d=ep(T),S[19]=T,S[20]=d):d=S[20],S[21]!==d?(x=(0,t.jsx)(eb,{label:"총 토큰",value:d}),S[21]=d,S[22]=x):x=S[22],S[23]!==$.lastActivity?(m=function(e){if(!e)return"N/A";let t=Date.now()-e;if(t<6e4)return"방금 전";let s=Math.floor(t/6e4);if(s<60)return`${s}분 전`;let l=Math.floor(s/60);return l<24?`${l}시간 전`:`${Math.floor(l/24)}일 전`}($.lastActivity),S[23]=$.lastActivity,S[24]=m):m=S[24],S[25]!==m?(u=(0,t.jsx)(eb,{label:"마지막 활동",value:m}),S[25]=m,S[26]=u):u=S[26];let I=String($.sessionCount??0);return S[27]!==I?(h=(0,t.jsx)(eb,{label:"세션 수",value:I}),S[27]=I,S[28]=h):h=S[28],S[29]!==x||S[30]!==u||S[31]!==h||S[32]!==o?(f=(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[o,x,u,h]}),S[29]=x,S[30]=u,S[31]=h,S[32]=o,S[33]=f):f=S[33],S[34]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-text-muted",children:"토큰 상세"}),S[34]=p):p=S[34],S[35]!==$.inputTokens?(b=ep($.inputTokens),S[35]=$.inputTokens,S[36]=b):b=S[36],S[37]!==b?(j={label:"입력",value:b,color:"text-sky-400"},S[37]=b,S[38]=j):j=S[38],S[39]!==$.outputTokens?(g=ep($.outputTokens),S[39]=$.outputTokens,S[40]=g):g=S[40],S[41]!==g?(y={label:"출력",value:g,color:"text-violet-400"},S[41]=g,S[42]=y):y=S[42],S[43]!==$.contextTokens?(v=ep($.contextTokens),S[43]=$.contextTokens,S[44]=v):v=S[44],S[45]!==v?(k={label:"컨텍스트",value:v,color:"text-text-secondary"},S[45]=v,S[46]=k):k=S[46],S[47]!==j||S[48]!==y||S[49]!==k?(N=(0,t.jsxs)("div",{className:"rounded-xl bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[p,(0,t.jsx)("dl",{className:"space-y-1.5",children:[j,y,k].map(eg)})]}),S[47]=j,S[48]=y,S[49]=k,S[50]=N):N=S[50],S[51]!==$.currentTask?(w=$.currentTask&&(0,t.jsxs)("div",{className:"rounded-xl border border-accent-indigo/20 bg-accent-indigo/5 p-3 space-y-1",children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-accent-indigo",children:"현재 작업"}),(0,t.jsx)("p",{className:"text-xs text-text-secondary leading-relaxed",children:$.currentTask})]}),S[51]=$.currentTask,S[52]=w):w=S[52],S[53]!==f||S[54]!==N||S[55]!==w||S[56]!==c?(_=(0,t.jsxs)("div",{className:"space-y-4",children:[c,f,N,w]}),S[53]=f,S[54]=N,S[55]=w,S[56]=c,S[57]=_):_=S[57],S[58]!==B||S[59]!==_?(L=(0,t.jsx)("section",{"aria-label":B,children:_}),S[58]=B,S[59]=_,S[60]=L):L=S[60],L}function eg(e){let{label:s,value:l,color:r}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("dt",{className:"text-[11px] text-text-tertiary",children:s}),(0,t.jsx)("dd",{className:`text-[11px] font-mono font-medium tabular-nums ${r}`,children:l})]},s)}function ey(e){let l,r,n,a,i,c,o=(0,s.c)(7),{className:d}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{d:"M12 2v4m-3-1v2m6-2v2"}),r=(0,t.jsx)("rect",{x:"5",y:"6",width:"14",height:"14",rx:"3"}),n=(0,t.jsx)("circle",{cx:"9.5",cy:"13",r:"1.5"}),a=(0,t.jsx)("circle",{cx:"14.5",cy:"13",r:"1.5"}),i=(0,t.jsx)("path",{d:"M9 17h6"}),o[0]=l,o[1]=r,o[2]=n,o[3]=a,o[4]=i):(l=o[0],r=o[1],n=o[2],a=o[3],i=o[4]),o[5]!==d?(c=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:d,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[l,r,n,a,i]}),o[5]=d,o[6]=c):c=o[6],c}function ev(e){let l,r,n=(0,s.c)(3),{className:a}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}),n[0]=l):l=n[0],n[1]!==a?(r=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:a,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:l}),n[1]=a,n[2]=r):r=n[2],r}function ek(e){let l,r,n=(0,s.c)(3),{className:a}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"}),n[0]=l):l=n[0],n[1]!==a?(r=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:a,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:l}),n[1]=a,n[2]=r):r=n[2],r}function eN(e){let l,r,n,a=(0,s.c)(4),{className:i}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r=(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"}),a[0]=l,a[1]=r):(l=a[0],r=a[1]),a[2]!==i?(n=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l,r]}),a[2]=i,a[3]=n):n=a[3],n}function ew(e){let l,r,n,a=(0,s.c)(4),{className:i}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),r=(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"}),a[0]=l,a[1]=r):(l=a[0],r=a[1]),a[2]!==i?(n=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[l,r]}),a[2]=i,a[3]=n):n=a[3],n}function e_(e){let l,r,n=(0,s.c)(3),{open:a,className:i}=e,c=`${i} transition-transform duration-200 ${a?"rotate-90":""}`;return n[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"}),n[0]=l):l=n[0],n[1]!==c?(r=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:c,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:l}),n[1]=c,n[2]=r):r=n[2],r}function eL(){let e,l=(0,s.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 w-24 rounded bg-white/[0.06] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-full rounded-lg bg-white/[0.04] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-full rounded-lg bg-white/[0.04] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-3/4 rounded-lg bg-white/[0.04] animate-pulse"})]}),l[0]=e):e=l[0],e}function eS(e){let l,r,n=(0,s.c)(9),{items:a,icon:i,emptyText:c}=e;if(0===a.length){let e;return n[0]!==c?(e=(0,t.jsx)("p",{className:"text-xs text-text-muted",children:c}),n[0]=c,n[1]=e):e=n[1],e}if(n[2]!==i||n[3]!==a){let e;n[5]!==i?(e=e=>(0,t.jsxs)("li",{className:"flex items-center gap-2 rounded-lg bg-white/[0.03] border border-border-subtle px-2.5 py-2",children:[i,(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-text-primary truncate",children:e.name}),e.sub&&(0,t.jsx)("p",{className:"text-[10px] text-text-muted truncate",children:e.sub})]})]},e.name),n[5]=i,n[6]=e):e=n[6],l=a.map(e),n[2]=i,n[3]=a,n[4]=l}else l=n[4];return n[7]!==l?(r=(0,t.jsx)("ul",{className:"space-y-1.5",children:l}),n[7]=l,n[8]=r):r=n[8],r}function e$(e){let l,r,n,a,i,c=(0,s.c)(16),{tools:o,agentName:d}=e;return c[0]!==o.allowed?(l=o.allowed.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold text-emerald-400 mb-1.5",children:"허용 도구"}),(0,t.jsx)("ul",{className:"space-y-1",children:o.allowed.map(eM)})]}),c[0]=o.allowed,c[1]=l):l=c[1],c[2]!==o.forbidden?(r=o.forbidden.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold text-rose-400 mb-1.5",children:"금지 도구"}),(0,t.jsx)("ul",{className:"space-y-1",children:o.forbidden.map(eT)})]}),c[2]=o.forbidden,c[3]=r):r=c[3],c[4]!==o.cron?(n=o.cron.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold text-sky-400 mb-1.5",children:"Cron 작업"}),(0,t.jsx)("ul",{className:"space-y-1",children:o.cron.map(eC)})]}),c[4]=o.cron,c[5]=n):n=c[5],c[6]!==d||c[7]!==o.allowed.length||c[8]!==o.cron.length||c[9]!==o.forbidden.length?(a=0===o.allowed.length&&0===o.forbidden.length&&0===o.cron.length&&(0,t.jsxs)("p",{className:"text-xs text-text-muted",children:[d,"의 도구 설정 없음"]}),c[6]=d,c[7]=o.allowed.length,c[8]=o.cron.length,c[9]=o.forbidden.length,c[10]=a):a=c[10],c[11]!==l||c[12]!==r||c[13]!==n||c[14]!==a?(i=(0,t.jsxs)("div",{className:"space-y-3",children:[l,r,n,a]}),c[11]=l,c[12]=r,c[13]=n,c[14]=a,c[15]=i):i=c[15],i}function eC(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-xs text-text-secondary",children:[(0,t.jsx)(ew,{className:"h-3 w-3 text-sky-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eT(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-xs text-text-secondary",children:[(0,t.jsx)(eN,{className:"h-3 w-3 text-rose-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eM(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-xs text-text-secondary",children:[(0,t.jsx)(ek,{className:"h-3 w-3 text-emerald-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eB(e){let l,n,a,i,c,o,d,x=(0,s.c)(20),{title:m,count:u,icon:h,defaultOpen:f,children:p}=e,[b,j]=(0,r.useState)(void 0!==f&&f);return x[0]!==b?(l=()=>j(!b),x[0]=b,x[1]=l):l=x[1],x[2]!==m?(n=(0,t.jsx)("span",{className:"text-xs font-semibold text-text-primary flex-1",children:m}),x[2]=m,x[3]=n):n=x[3],x[4]!==u?(a=(0,t.jsx)("span",{className:"text-[10px] font-medium text-text-muted bg-white/[0.06] rounded-full px-2 py-0.5",children:u}),x[4]=u,x[5]=a):a=x[5],x[6]!==b?(i=(0,t.jsx)(e_,{open:b,className:"h-3.5 w-3.5 text-text-muted"}),x[6]=b,x[7]=i):i=x[7],x[8]!==h||x[9]!==l||x[10]!==n||x[11]!==a||x[12]!==i?(c=(0,t.jsxs)("button",{onClick:l,className:"flex items-center gap-2 w-full px-3 py-2.5 text-left hover:bg-white/[0.02] transition-colors cursor-pointer",children:[h,n,a,i]}),x[8]=h,x[9]=l,x[10]=n,x[11]=a,x[12]=i,x[13]=c):c=x[13],x[14]!==p||x[15]!==b?(o=b&&(0,t.jsx)("div",{className:"px-3 pb-3 pt-1 border-t border-border-subtle",children:p}),x[14]=p,x[15]=b,x[16]=o):o=x[16],x[17]!==c||x[18]!==o?(d=(0,t.jsxs)("div",{className:"rounded-xl bg-white/[0.02] border border-border-subtle overflow-hidden",children:[c,o]}),x[17]=c,x[18]=o,x[19]=d):d=x[19],d}function eI(e){let l,r,n,a,i,c,o,d,x,m,u,h=(0,s.c)(27),{environment:f,loading:p,selectedAgentId:b,selectedAgentName:j}=e;if(p&&!f){let e;return h[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(eL,{}),h[0]=e):e=h[0],e}if(!f){let e;return h[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"환경 정보 없음"}),h[1]=e):e=h[1],e}if(b&&f.agentTools[b]){let e,s,l=f.agentTools[b];if(!(l.allowed.length>0||l.forbidden.length>0||l.cron.length>0))return null;h[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-text-muted",children:"도구 설정"}),h[2]=e):e=h[2];let r=j||b;return h[3]!==r||h[4]!==l?(s=(0,t.jsxs)("div",{className:"rounded-xl bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[e,(0,t.jsx)(e$,{tools:l,agentName:r})]}),h[3]=r,h[4]=l,h[5]=s):s=h[5],s}h[6]!==f.plugins?(l=f.plugins.map(eA),h[6]=f.plugins,h[7]=l):l=h[7];let g=l;h[8]!==f.skills?(r=f.skills.map(eW),h[8]=f.skills,h[9]=r):r=h[9];let y=r;return h[10]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(ey,{className:"h-4 w-4 text-accent-indigo shrink-0"}),h[10]=n):n=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(ey,{className:"h-3.5 w-3.5 text-accent-indigo shrink-0"}),h[11]=a):a=h[11],h[12]!==g?(i=(0,t.jsx)(eS,{items:g,icon:a,emptyText:"플러그인 없음"}),h[12]=g,h[13]=i):i=h[13],h[14]!==f.plugins.length||h[15]!==i?(c=(0,t.jsx)(eB,{title:"플러그인",count:f.plugins.length,icon:n,defaultOpen:!0,children:i}),h[14]=f.plugins.length,h[15]=i,h[16]=c):c=h[16],h[17]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(ev,{className:"h-4 w-4 text-amber-400 shrink-0"}),h[17]=o):o=h[17],h[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(ev,{className:"h-3.5 w-3.5 text-amber-400 shrink-0"}),h[18]=d):d=h[18],h[19]!==y?(x=(0,t.jsx)(eS,{items:y,icon:d,emptyText:"스킬 없음"}),h[19]=y,h[20]=x):x=h[20],h[21]!==f.skills.length||h[22]!==x?(m=(0,t.jsx)(eB,{title:"스킬",count:f.skills.length,icon:o,defaultOpen:!1,children:x}),h[21]=f.skills.length,h[22]=x,h[23]=m):m=h[23],h[24]!==m||h[25]!==c?(u=(0,t.jsxs)("div",{className:"space-y-2.5",children:[c,m]}),h[24]=m,h[25]=c,h[26]=u):u=h[26],u}function eW(e){return{name:e.name,sub:e.description||void 0}}function eA(e){return{name:e.name,sub:e.marketplace}}function ez(e){let l,r=(0,s.c)(2),{children:n}=e;return r[0]!==n?(l=(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-text-muted mb-2.5",children:n}),r[0]=n,r[1]=l):l=r[1],l}function eP(e){let l,r,n,a,i,c,o,d,x,m,u,h=(0,s.c)(28),{stats:f,statsLoading:p,accounts:b,usageLoading:j,selectedAgent:g,environment:y,environmentLoading:v,className:k}=e,N=`flex flex-col gap-5 overflow-y-auto px-4 py-5 ${k??""}`;h[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(ez,{children:"통계"}),h[0]=l):l=h[0],h[1]!==f||h[2]!==p?(r=(0,t.jsxs)("div",{children:[l,(0,t.jsx)(ei,{stats:f,loading:p})]}),h[1]=f,h[2]=p,h[3]=r):r=h[3],h[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),a=(0,t.jsx)(ez,{children:"사용량"}),h[4]=n,h[5]=a):(n=h[4],a=h[5]),h[6]!==b||h[7]!==j?(i=(0,t.jsxs)("div",{children:[a,(0,t.jsx)(eu,{accounts:b,loading:j})]}),h[6]=b,h[7]=j,h[8]=i):i=h[8],h[9]!==g?(c=null!==g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ez,{children:"에이전트 상세"}),(0,t.jsx)(ej,{agent:g})]})]}),h[9]=g,h[10]=c):c=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),h[11]=o):o=h[11];let w=g?"도구 & 환경":"시스템 환경";h[12]!==w?(d=(0,t.jsx)(ez,{children:w}),h[12]=w,h[13]=d):d=h[13];let _=g?.id??null,L=g?.name??null;return h[14]!==y||h[15]!==v||h[16]!==_||h[17]!==L?(x=(0,t.jsx)(eI,{environment:y,loading:v,selectedAgentId:_,selectedAgentName:L}),h[14]=y,h[15]=v,h[16]=_,h[17]=L,h[18]=x):x=h[18],h[19]!==d||h[20]!==x?(m=(0,t.jsxs)("div",{children:[d,x]}),h[19]=d,h[20]=x,h[21]=m):m=h[21],h[22]!==N||h[23]!==m||h[24]!==r||h[25]!==i||h[26]!==c?(u=(0,t.jsxs)("div",{className:N,children:[r,n,i,c,o,m]}),h[22]=N,h[23]=m,h[24]=r,h[25]=i,h[26]=c,h[27]=u):u=h[27],u}function eE(){let e,l,n,i,c,h=(0,s.c)(20),{agents:f,selectedAgent:p,selectedAgentId:b,selectAgent:j,loading:y,connected:v}=function(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[c,x]=(0,r.useState)(!0),[m,u]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[p,b]=(0,r.useState)(null),j=(0,r.useRef)(new Map),g=(0,r.useCallback)(async()=>{try{let e=await fetch(`${o}/api/agents`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),r=(s.data??s).map(d);t(r),l(function(e){let t=new Map(e.map(e=>[e.id,e])),s=[];for(let[l,r]of Object.entries(a)){let n=t.get(l);if(!n)continue;let a=r.members.map(t=>{let s=e.find(e=>e.id===t.id);return s?{id:s.id,name:t.name,role:t.role,model:s.model||t.model,status:s.status,isPlaceholder:!1,lastActivity:s.lastActivity,inputTokens:s.inputTokens,outputTokens:s.outputTokens}:{id:t.id,name:t.name,role:t.role,model:t.model,status:"offline",isPlaceholder:!0}});s.push({pm:n,members:a,label:r.label,description:r.description})}return s}(r)),f(!0),u(null);let n=j.current,c=[],x=Date.now();for(let e of r){let t=n.get(e.id);void 0!==t&&t!==e.status&&c.push({time:x,agentName:e.name,status:e.status})}c.length>0&&i(e=>[...c,...e].slice(0,20));let m=new Map;for(let e of r)m.set(e.id,e.status);j.current=m}catch(e){u(e instanceof Error?e.message:"Failed to fetch agents"),f(!1)}finally{x(!1)}},[]);(0,r.useEffect)(()=>{g();let e=setInterval(g,1e4);return()=>clearInterval(e)},[g]);let y=e.find(e=>"pm"===e.id)||null,v=p&&e.find(e=>e.id===p)||null;return{agents:e,teams:s,headPM:y,activities:n,selectedAgent:v,selectedAgentId:p,selectAgent:(0,r.useCallback)(e=>{b(t=>t===e?null:e)},[]),loading:c,error:m,connected:h}}(),{stats:k,loading:N}=function(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0),[n,a]=(0,r.useState)(null),i=(0,r.useCallback)(async()=>{try{let e=await fetch(`${x}/api/stats`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),l=s.data??s;t(l),a(null)}catch(e){a(e instanceof Error?e.message:"Failed to fetch stats")}finally{l(!1)}},[]);return(0,r.useEffect)(()=>{i();let e=setInterval(i,1e4);return()=>clearInterval(e)},[i]),{stats:e,loading:s,error:n}}(),{accounts:w,loading:_}=function(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),n=(0,r.useCallback)(async()=>{try{let e=await fetch(`${m}/api/usage`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json();t(s.data??[])}catch{}finally{l(!1)}},[]);return(0,r.useEffect)(()=>{n();let e=setInterval(n,6e4);return()=>clearInterval(e)},[n]),{accounts:e,loading:s}}(),{environment:L,loading:S}=function(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0),n=(0,r.useCallback)(async()=>{try{let e=await fetch(`${u}/api/environment`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json();t(s.data??null)}catch{}finally{l(!1)}},[]);return(0,r.useEffect)(()=>{n();let e=setInterval(n,3e5);return()=>clearInterval(e)},[n]),{environment:e,loading:s}}();return h[0]!==f||h[1]!==y?(e=y?[]:f,h[0]=f,h[1]=y,h[2]=e):e=h[2],h[3]!==j||h[4]!==b||h[5]!==e?(l=(0,t.jsx)(W,{agents:e,selectedAgentId:b,onSelectAgent:j}),h[3]=j,h[4]=b,h[5]=e,h[6]=l):l=h[6],h[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(J,{}),h[7]=n):n=h[7],h[8]!==S||h[9]!==L||h[10]!==p||h[11]!==k||h[12]!==N||h[13]!==w||h[14]!==_?(i=(0,t.jsx)(eP,{stats:k,statsLoading:N,accounts:w,usageLoading:_,selectedAgent:p,environment:L,environmentLoading:S}),h[8]=S,h[9]=L,h[10]=p,h[11]=k,h[12]=N,h[13]=w,h[14]=_,h[15]=i):i=h[15],h[16]!==v||h[17]!==l||h[18]!==i?(c=(0,t.jsx)(g,{connected:v,leftPanel:l,centerPanel:n,rightPanel:i}),h[16]=v,h[17]=l,h[18]=i,h[19]=c):c=h[19],c}e.s(["default",()=>eE],52683)}]);