(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,s)=>{"use strict";var a=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;s.c=function(e){return a.H.useMemoCache(e)}},932,(e,t,s)=>{"use strict";t.exports=e.r(79474)},52683,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645),l=e.i(47167);let n=l.default.env.NEXT_PUBLIC_API_URL||"",r={pm:{name:"ì‹œìœ¤",role:"í†µí•© PM"},"viewster-pm":{name:"ì¤€ì„œ",role:"Viewster ì „ë‹´ PM",parent:"pm"},"gary-pm":{name:"ë„ìœ¤",role:"Gary í”„ë¡œì íŠ¸ ì „ë‹´ PM",parent:"pm"}},i={"viewster-pm":{label:"Viewster",description:"YouTube ê¸°ë°˜ ë¦¬ì›Œë“œ ì˜ìƒ ì‹œì²­ í”Œëž«í¼",members:[{id:"viewster-be",name:"BE",role:"ë°±ì—”ë“œ ê°œë°œ",model:"claude-sonnet-4-6"},{id:"viewster-web",name:"Web",role:"ì›¹ í”„ë¡ íŠ¸ì—”ë“œ",model:"claude-sonnet-4-6"},{id:"viewster-mobile",name:"Mobile",role:"ëª¨ë°”ì¼ ê°œë°œ",model:"claude-sonnet-4-6"},{id:"viewster-design",name:"Design",role:"UI/UX ë””ìžì¸",model:"gemini-2.5-pro"},{id:"viewster-qa",name:"QA",role:"í’ˆì§ˆë³´ì¦/í…ŒìŠ¤íŠ¸",model:"gemini-2.5-pro"}]},"gary-pm":{label:"Gary Projects",description:"Nestack, gold-message, lotto-pick ë“± ê°œì¸ í”„ë¡œì íŠ¸",members:[{id:"gary-be",name:"BE",role:"ë°±ì—”ë“œ ê°œë°œ",model:"claude-sonnet-4-6"},{id:"gary-web",name:"Web",role:"ì›¹ í”„ë¡ íŠ¸ì—”ë“œ",model:"claude-sonnet-4-6"},{id:"gary-mobile",name:"Mobile",role:"ëª¨ë°”ì¼ ê°œë°œ",model:"claude-sonnet-4-6"},{id:"gary-design",name:"Design",role:"UI/UX ë””ìžì¸",model:"gemini-2.5-pro"},{id:"gary-qa",name:"QA",role:"í’ˆì§ˆë³´ì¦/í…ŒìŠ¤íŠ¸",model:"gemini-2.5-pro"}]}};function o(e){let t=r[e.id];return t?{...e,name:t.name,role:t.role,parent:t.parent}:e}let c=l.default.env.NEXT_PUBLIC_API_URL||"";function d(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}let m=[{bg:"bg-violet-500/10",icon:"bg-violet-500/20 text-violet-400",accent:"text-violet-300"},{bg:"bg-sky-500/10",icon:"bg-sky-500/20 text-sky-400",accent:"text-sky-300"},{bg:"bg-rose-500/10",icon:"bg-rose-500/20 text-rose-400",accent:"text-rose-300"},{bg:"bg-amber-500/10",icon:"bg-amber-500/20 text-amber-400",accent:"text-amber-300"}];function x(e){let a,l,n,r,i,o,c=(0,s.c)(18),{label:d,value:m,sub:x,icon:h,style:u}=e,f=`min-w-[120px] flex-1 rounded-2xl ${u.bg} p-4`,g=`flex h-7 w-7 items-center justify-center rounded-lg text-sm ${u.icon}`;c[0]!==h||c[1]!==g?(a=(0,t.jsx)("span",{className:g,children:h}),c[0]=h,c[1]=g,c[2]=a):a=c[2],c[3]!==d?(l=(0,t.jsx)("p",{className:"text-[11px] font-medium text-gray-400",children:d}),c[3]=d,c[4]=l):l=c[4],c[5]!==a||c[6]!==l?(n=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a,l]}),c[5]=a,c[6]=l,c[7]=n):n=c[7];let p=`mt-2 text-xl font-bold tabular-nums ${u.accent}`;return c[8]!==p||c[9]!==m?(r=(0,t.jsx)("p",{className:p,children:m}),c[8]=p,c[9]=m,c[10]=r):r=c[10],c[11]!==x?(i=x&&(0,t.jsx)("p",{className:"mt-0.5 text-[11px] text-gray-500",children:x}),c[11]=x,c[12]=i):i=c[12],c[13]!==f||c[14]!==n||c[15]!==r||c[16]!==i?(o=(0,t.jsxs)("div",{className:f,children:[n,r,i]}),c[13]=f,c[14]=n,c[15]=r,c[16]=i,c[17]=o):o=c[17],o}function h(e){let a,l,n,r,i=(0,s.c)(5),{style:o}=e,c=`min-w-[120px] flex-1 animate-pulse rounded-2xl ${o.bg} p-4`;return i[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"h-7 w-7 rounded-lg bg-white/5"}),l=(0,t.jsx)("div",{className:"mt-2 h-6 w-10 rounded bg-white/5"}),n=(0,t.jsx)("div",{className:"mt-1 h-3 w-16 rounded bg-white/5"}),i[0]=a,i[1]=l,i[2]=n):(a=i[0],l=i[1],n=i[2]),i[3]!==c?(r=(0,t.jsxs)("div",{className:c,children:[a,l,n]}),i[3]=c,i[4]=r):r=i[4],r}function u(e){let a,l,n,r,i,o,c,h,u,g=(0,s.c)(24),{stats:p,loading:b}=e;if(b||!p){let e;return g[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-1 scrollbar-hide",children:m.map(f)}),g[0]=e):e=g[0],e}let j=String(p.totalAgents),w=`${p.activeAgents} active / ${p.idleAgents} idle`;g[1]!==j||g[2]!==w?(a=(0,t.jsx)(x,{label:"ì—ì´ì „íŠ¸",value:j,sub:w,icon:"ðŸ‘¾",style:m[0]}),g[1]=j,g[2]=w,g[3]=a):a=g[3];let v=String(p.totalSessions);g[4]!==v?(l=(0,t.jsx)(x,{label:"ì„¸ì…˜",value:v,icon:"ðŸ’¬",style:m[1]}),g[4]=v,g[5]=l):l=g[5];let y=p.totalInputTokens+p.totalOutputTokens;g[6]!==y?(n=d(y),g[6]=y,g[7]=n):n=g[7],g[8]!==p.totalInputTokens?(r=d(p.totalInputTokens),g[8]=p.totalInputTokens,g[9]=r):r=g[9],g[10]!==p.totalOutputTokens?(i=d(p.totalOutputTokens),g[10]=p.totalOutputTokens,g[11]=i):i=g[11];let N=`in ${r} / out ${i}`;if(g[12]!==N||g[13]!==n?(o=(0,t.jsx)(x,{label:"í† í°",value:n,sub:N,icon:"âœ¨",style:m[2]}),g[12]=N,g[13]=n,g[14]=o):o=g[14],g[15]!==p.uptimeMs){let e,t,s;t=Math.floor((e=Math.floor(p.uptimeMs/1e3))/3600),s=Math.floor(e%3600/60),c=t>0?`${t}h ${s}m`:`${s}m`,g[15]=p.uptimeMs,g[16]=c}else c=g[16];return g[17]!==c?(h=(0,t.jsx)(x,{label:"ê°€ë™ì‹œê°„",value:c,icon:"â±",style:m[3]}),g[17]=c,g[18]=h):h=g[18],g[19]!==o||g[20]!==h||g[21]!==a||g[22]!==l?(u=(0,t.jsxs)("div",{className:"flex gap-3 overflow-x-auto pb-1 scrollbar-hide",children:[a,l,o,h]}),g[19]=o,g[20]=h,g[21]=a,g[22]=l,g[23]=u):u=g[23],u}function f(e,s){return(0,t.jsx)(h,{style:e},s)}let g={active:{label:"ì—´ì¼ì¤‘",dot:"bg-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",pulse:!0},idle:{label:"ì‰¬ëŠ”ì¤‘",dot:"bg-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-400",pulse:!1},offline:{label:"ì‰¬ëŠ”ì¤‘",dot:"bg-gray-500",bg:"bg-gray-500/10",border:"border-gray-500/20",text:"text-gray-500",pulse:!1}};function p(e){let a,l,n,r=(0,s.c)(9),{status:i,size:o}=e,c=void 0===o?"md":o,d=g[i],m=`inline-flex items-center gap-1 rounded-full border ${"sm"===c?"px-2 py-0.5":"px-2.5 py-0.5"} ${d.bg} ${d.border}`,x=`inline-block rounded-full ${"sm"===c?"h-1.5 w-1.5":"h-2 w-2"} ${d.dot} ${d.pulse?"animate-pulse":""}`;r[0]!==x?(a=(0,t.jsx)("span",{className:x}),r[0]=x,r[1]=a):a=r[1];let h=`font-medium ${"sm"===c?"text-[10px]":"text-[11px]"} ${d.text}`;return r[2]!==d.label||r[3]!==h?(l=(0,t.jsx)("span",{className:h,children:d.label}),r[2]=d.label,r[3]=h,r[4]=l):l=r[4],r[5]!==m||r[6]!==a||r[7]!==l?(n=(0,t.jsxs)("span",{className:m,children:[a,l]}),r[5]=m,r[6]=a,r[7]=l,r[8]=n):n=r[8],n}let b={pm:"text-indigo-400","viewster-pm":"text-violet-400","gary-pm":"text-cyan-400"};function j(e){let a,l,n=(0,s.c)(4),{agents:r}=e;return n[0]!==r?(a=r.map(w),n[0]=r,n[1]=a):a=n[1],n[2]!==a?(l=(0,t.jsx)("div",{className:"rounded-3xl bg-surface ring-1 ring-white/[0.06] p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:a})}),n[2]=a,n[3]=l):l=n[3],l}function w(e,s){var a,l;return(0,t.jsxs)("div",{className:`${s>0?"border-t border-white/[0.04] pt-3":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-100",children:e.name}),(0,t.jsx)(p,{status:e.status,size:"sm"})]}),(0,t.jsx)("p",{className:`mt-1 text-[11px] font-medium ${b[e.id]||"text-indigo-400"}`,children:e.role}),(0,t.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-x-2.5 gap-y-0.5 text-[11px]",children:[(0,t.jsx)("span",{className:"rounded-md bg-white/[0.04] px-1.5 py-0.5 font-mono text-gray-400",children:e.model?.split("/").pop()}),(0,t.jsxs)("span",{className:"text-gray-500",children:["tokens"," ",(0,t.jsx)("span",{className:"text-gray-300 font-mono",children:(a=e.inputTokens+e.outputTokens)>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:String(a)})]}),(0,t.jsxs)("span",{className:"text-gray-500",children:["last"," ",(0,t.jsx)("span",{className:"text-gray-300 font-mono",children:(l=e.lastActivity)?new Date(l).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):"-"})]})]})]},e.id)}let v={sm:{container:"h-8 w-8",body:32},md:{container:"h-12 w-12",body:48},lg:{container:"h-16 w-16",body:64},xl:{container:"h-24 w-24",body:96}},y={ì‹œìœ¤:{active1:[".1.....1.","1C1...1C1",".1111111.",".1111111.",".1W1.1W1.",".111.111.",".1..3..1.","..11111..","21.111.12","...1.1...","...3.3..."],active2:[".1.....1.","1C1...1C1",".1111111.",".1111111.",".1W1.1W1.",".111.111.",".1..3..1.","..11111..",".2.111.2.","....1....","...3.3..."],idle:[".1.....1.","1C1...1C1",".1111111.",".1111111.",".131.131.",".1111111.",".1..1..1.","..11111..","..11111..","..11111..","........."],palette:{1:"#818cf8",2:"#c7d2fe",3:"#312e81",W:"#ffffff",C:"#fda4af"}},ì¤€ì„œ:{active1:[".11...11.",".13...31.","..11111..",".1111111.",".1W1.1W1.",".1112111.",".1C.3.C1.","..11111..",".1112111.","..11.11..","..33.33.."],active2:[".11...11.",".13...31.","..11111..",".1111111.",".1W1.1W1.",".1112111.",".1C.3.C1.","..11111..",".2112112.","..11.11..","..33.33.."],idle:[".11...11.",".13...31.","..11111..",".1111111.",".131.131.",".1112111.",".1C.1.C1.","..11111..","..11111..","..11111..","........."],palette:{1:"#f472b6",2:"#fbcfe8",3:"#9d174d",W:"#ffffff",C:"#fde68a"}},ë„ìœ¤:{active1:["1.......1","11.....11","211111112",".1111111.",".1W1.1W1.",".111.111.",".1C131C1.","..11111..","..11111.1","...1.1.12","...3.3..."],active2:["1.......1","11.....11","211111112",".1111111.",".1W1.1W1.",".111.111.",".1C131C1.","..11111..","2.11111.1","...1.1.11","...3.3.2."],idle:["1.......1","11.....11","211111112",".1111111.",".131.131.",".1111111.",".1C111C1.","..11111..","..11111.1","..11111.11","........."],palette:{1:"#34d399",2:"#a7f3d0",3:"#064e3b",W:"#ffffff",C:"#93c5fd"}}},N=y["ì‹œìœ¤"];function k({name:e,status:s,size:l}){let n=v[l],r=(0,a.useRef)(null),i=(0,a.useRef)(0),o=y[e]||N;return(0,a.useEffect)(()=>{let e=r.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let a=n.body,l=n.body;e.width=2*a,e.height=2*l,t.scale(2,2);let c=document.createElement("canvas");c.width=9,c.height=11;let d=c.getContext("2d"),m="active"===s,x=0;function h(e,t,s){d.clearRect(0,0,9,11);for(let a=0;a<e.length&&a<11;a++)for(let l=0;l<e[a].length&&l<9;l++){let n=e[a][l];if("."===n)continue;let r=t[n]||t["1"];d.fillStyle=s?function(e){let t=e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);if(!t)return e;let s=e=>Math.round(.55*parseInt(e,16)).toString(16).padStart(2,"0");return`#${s(t[1])}${s(t[2])}${s(t[3])}`}(r):r,d.fillRect(l,a,1,1)}}function u(){if(t){if(t.clearRect(0,0,a,l),t.imageSmoothingEnabled=!1,m){let e=2*Math.sin(.08*x);h(Math.floor(x/15)%2==1?o.active2:o.active1,o.palette,!1);let s=.85*Math.min(a/9,l/11);t.drawImage(c,(a-9*s)/2,(l-11*s)/2+e,9*s,11*s)}else{let e=.8*Math.sin(.025*x);h(o.idle,o.palette,!0);let s=.85*Math.min(a/9,l/11);t.drawImage(c,(a-9*s)/2,(l-11*s)/2+e,9*s,11*s);let n=.012*x%1;t.save(),t.globalAlpha=(1-n)*.5,t.fillStyle=o.palette["1"];let r=.65*a+n*a*.15,i=.15*l-n*l*.15;t.font=`bold ${8+4*n}px monospace`,t.fillText("z",r,i+.1*l),t.font=`bold ${6+3*n}px monospace`,t.fillText("z",r+6,i),t.restore()}x++,i.current=requestAnimationFrame(u)}}return window.matchMedia("(prefers-reduced-motion: reduce)").matches?(x=0,u(),cancelAnimationFrame(i.current)):u(),()=>cancelAnimationFrame(i.current)},[s,n.body,e,o]),(0,t.jsx)("div",{className:`${n.container} shrink-0`,children:(0,t.jsx)("canvas",{ref:r,className:"h-full w-full",style:{imageRendering:"pixelated"}})})}function _(e){let a,l=(0,s.c)(4),{name:n,status:r,size:i}=e,o=void 0===i?"md":i;return l[0]!==n||l[1]!==o||l[2]!==r?(a=(0,t.jsx)(k,{name:n,status:r,size:o}),l[0]=n,l[1]=o,l[2]=r,l[3]=a):a=l[3],a}function $(e){let a,l,n,r,i,o,c,d=(0,s.c)(19),{headPM:m,teams:x}=e;return d[0]!==m.name||d[1]!==m.status?(a=(0,t.jsx)(_,{name:m.name,status:m.status,size:"xl"}),d[0]=m.name,d[1]=m.status,d[2]=a):a=d[2],d[3]!==m.name?(l=(0,t.jsx)("p",{className:"mt-1.5 text-sm font-bold text-gray-100",children:m.name}),d[3]=m.name,d[4]=l):l=d[4],d[5]!==m.role?(n=(0,t.jsx)("p",{className:"text-[11px] text-indigo-400",children:m.role}),d[5]=m.role,d[6]=n):n=d[6],d[7]!==a||d[8]!==l||d[9]!==n?(r=(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[a,l,n]}),d[7]=a,d[8]=l,d[9]=n,d[10]=r):r=d[10],d[11]!==x.length?(i=x.length>0&&(0,t.jsx)("div",{className:"h-6 w-px bg-white/[0.10]"}),d[11]=x.length,d[12]=i):i=d[12],d[13]!==x?(o=x.length>0&&(0,t.jsx)("div",{className:`grid w-full max-w-lg ${x.length>=3?"grid-cols-3":2===x.length?"grid-cols-2":"grid-cols-1"}`,children:x.map((e,s)=>{let a=e.members.filter(S).length;return(0,t.jsxs)("div",{className:"relative flex flex-col items-center pt-8 pb-2",children:[x.length>1?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`absolute top-0 h-px bg-white/[0.10] ${0===s?"left-1/2 right-0":s===x.length-1?"left-0 right-1/2":"left-0 right-0"}`}),(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-px h-8 bg-white/[0.10]"})]}):(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-px h-8 bg-white/[0.10]"}),(0,t.jsx)(_,{name:e.pm.name,status:e.pm.status,size:"lg"}),(0,t.jsx)("p",{className:"mt-1 text-xs font-bold text-gray-300",children:e.pm.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500",children:e.pm.role}),(0,t.jsx)("p",{className:"mt-0.5 text-[10px] text-gray-600",children:a>0?`${a}ëª… í™œì„±`:"ë¹„í™œì„±"}),e.members.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("div",{className:"h-3 w-px bg-white/[0.08] mx-auto"}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mt-1",children:e.members.map(e=>(0,t.jsxs)("div",{className:`flex flex-col items-center ${e.isPlaceholder?"opacity-40":""}`,children:[(0,t.jsx)("div",{className:`h-2.5 w-2.5 rounded-full ${function(e){return"active"===e?"bg-emerald-400 shadow-sm shadow-emerald-400/30":"bg-gray-600"}(e.status)}`}),(0,t.jsx)("p",{className:"mt-0.5 text-[9px] font-medium text-gray-400 whitespace-nowrap",children:e.name})]},e.id))})]})]},e.pm.id)})}),d[13]=x,d[14]=o):o=d[14],d[15]!==r||d[16]!==i||d[17]!==o?(c=(0,t.jsx)("div",{className:"rounded-3xl bg-surface ring-1 ring-white/[0.06] p-6 overflow-x-auto",children:(0,t.jsxs)("div",{className:"flex flex-col items-center min-w-fit",children:[r,i,o]})}),d[15]=r,d[16]=i,d[17]=o,d[18]=c):c=d[18],c}function S(e){return"active"===e.status}let C=l.default.env.NEXT_PUBLIC_API_URL||"",M=0;function T(){return`msg-${Date.now()}-${++M}`}function L(e){let a,l,n,r,i,o=(0,s.c)(14),{msg:c}=e,d="user"===c.role,m=`flex ${d?"justify-end":"justify-start"}`,x=`max-w-[80%] rounded-2xl px-4 py-2.5 text-sm leading-relaxed ${d?"bg-indigo-600 text-white":"bg-white/[0.06] text-gray-200 ring-1 ring-white/[0.04]"}`;o[0]!==c.content?(a=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:c.content}),o[0]=c.content,o[1]=a):a=o[1];let h=`mt-1 text-[10px] ${d?"text-indigo-300":"text-gray-500"}`;return o[2]!==c.timestamp?(l=new Date(c.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),o[2]=c.timestamp,o[3]=l):l=o[3],o[4]!==h||o[5]!==l?(n=(0,t.jsx)("p",{className:h,children:l}),o[4]=h,o[5]=l,o[6]=n):n=o[6],o[7]!==x||o[8]!==a||o[9]!==n?(r=(0,t.jsxs)("div",{className:x,children:[a,n]}),o[7]=x,o[8]=a,o[9]=n,o[10]=r):r=o[10],o[11]!==m||o[12]!==r?(i=(0,t.jsx)("div",{className:m,children:r}),o[11]=m,o[12]=r,o[13]=i):i=o[13],i}function P(){let e,a=(0,s.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"rounded-2xl bg-white/[0.06] px-4 py-3 ring-1 ring-white/[0.04]",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-500 [animation-delay:0ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-500 [animation-delay:150ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-500 [animation-delay:300ms]"})]})})}),a[0]=e):e=a[0],e}function A(e){let l,n,r,i,o,c,d,m,x,h,u,f,g,p,b,j,w,v=(0,s.c)(43),{className:y}=e,[N,k]=(0,a.useState)(""),{messages:_,sending:$,sendMessage:S,clearMessages:M}=function(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),n=(0,a.useRef)(`web-${Date.now()}`),r=(0,a.useCallback)(async e=>{let a=e.trim();if(!a||s)return;let r={id:T(),role:"user",content:a,timestamp:Date.now()};t(e=>[...e,r]),l(!0);try{let e=await fetch(`${C}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,sessionId:n.current})});if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),l=s.data?.content||s.content||"ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.",r={id:T(),role:"assistant",content:l,timestamp:Date.now()};t(e=>[...e,r])}catch(s){let e={id:T(),role:"assistant",content:`ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${s instanceof Error?s.message:"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"}`,timestamp:Date.now()};t(t=>[...t,e])}finally{l(!1)}},[s]);return{messages:e,sending:s,sendMessage:r,clearMessages:(0,a.useCallback)(()=>{t([]),n.current=`web-${Date.now()}`},[])}}(),L=(0,a.useRef)(null),A=(0,a.useRef)(null);v[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight)},v[0]=l):l=v[0],v[1]!==_||v[2]!==$?(n=[_,$],v[1]=_,v[2]=$,v[3]=n):n=v[3],(0,a.useEffect)(l,n),v[4]!==N||v[5]!==S||v[6]!==$?(r=e=>{e.preventDefault(),N.trim()&&!$&&(S(N),k(""))},v[4]=N,v[5]=S,v[6]=$,v[7]=r):r=v[7];let I=r,R=`flex h-full flex-col bg-surface ${y||""}`;return v[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-500/15 text-sm font-bold text-indigo-400",children:"ì‹œ"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-100",children:"ì‹œìœ¤"}),(0,t.jsx)("p",{className:"text-[11px] text-gray-500",children:"í†µí•© PM"})]})]}),v[8]=i):i=v[8],v[9]!==M?(o=(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-white/[0.06] px-4 py-3 shrink-0",children:[i,(0,t.jsx)("button",{onClick:M,className:"rounded-lg px-2.5 py-1 text-xs text-gray-500 transition-colors hover:bg-white/[0.06] hover:text-gray-300",children:"ìƒˆ ëŒ€í™”"})]}),v[9]=M,v[10]=o):o=v[10],v[11]!==_.length||v[12]!==$?(c=0===_.length&&!$&&(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-indigo-500/10",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-300",children:"ì‹œìœ¤ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë³´ì„¸ìš”"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"í”„ë¡œì íŠ¸ ìƒí™©ì´ë‚˜ ì—…ë¬´ë¥¼ ë¬¼ì–´ë³¼ ìˆ˜ ìžˆì–´ìš”"})]}),v[11]=_.length,v[12]=$,v[13]=c):c=v[13],v[14]!==_?(d=_.map(E),v[14]=_,v[15]=d):d=v[15],v[16]!==$?(m=$&&(0,t.jsx)(P,{}),v[16]=$,v[17]=m):m=v[17],v[18]!==c||v[19]!==d||v[20]!==m?(x=(0,t.jsxs)("div",{ref:L,className:"flex-1 space-y-3 overflow-y-auto px-4 py-4",children:[c,d,m]}),v[18]=c,v[19]=d,v[20]=m,v[21]=x):x=v[21],v[22]===Symbol.for("react.memo_cache_sentinel")?(h=e=>k(e.target.value),v[22]=h):h=v[22],v[23]!==N||v[24]!==$?(u=(0,t.jsx)("input",{ref:A,type:"text",value:N,onChange:h,placeholder:"ë©”ì‹œì§€ë¥¼ ìž…ë ¥í•˜ì„¸ìš”...",disabled:$,className:"flex-1 rounded-xl border border-white/[0.06] bg-white/[0.04] px-4 py-2.5 text-sm text-gray-200 placeholder:text-gray-500 focus:border-indigo-500/40 focus:bg-white/[0.06] focus:outline-none focus:ring-1 focus:ring-indigo-500/30 disabled:opacity-50"}),v[23]=N,v[24]=$,v[25]=u):u=v[25],v[26]!==N||v[27]!==$?(f=!N.trim()||$,v[26]=N,v[27]=$,v[28]=f):f=v[28],v[29]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),v[29]=g):g=v[29],v[30]!==f?(p=(0,t.jsx)("button",{type:"submit",disabled:f,className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-indigo-600 text-white transition-colors hover:bg-indigo-500 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed",children:g}),v[30]=f,v[31]=p):p=v[31],v[32]!==u||v[33]!==p?(b=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[u,p]}),v[32]=u,v[33]=p,v[34]=b):b=v[34],v[35]!==I||v[36]!==b?(j=(0,t.jsx)("form",{onSubmit:I,className:"border-t border-white/[0.06] px-3 py-3 shrink-0",children:b}),v[35]=I,v[36]=b,v[37]=j):j=v[37],v[38]!==x||v[39]!==j||v[40]!==R||v[41]!==o?(w=(0,t.jsxs)("div",{className:R,children:[o,x,j]}),v[38]=x,v[39]=j,v[40]=R,v[41]=o,v[42]=w):w=v[42],w}function E(e){return(0,t.jsx)(L,{msg:e},e.id)}function I(){let e,a,l,n,r,i=(0,s.c)(5);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-20 w-20 rounded-full bg-white/[0.06]"}),a=(0,t.jsx)("div",{className:"h-4 w-16 rounded-lg bg-white/[0.06]"}),l=(0,t.jsx)("div",{className:"h-6 w-px bg-white/[0.04]"}),i[0]=e,i[1]=a,i[2]=l):(e=i[0],a=i[1],l=i[2]),i[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"h-14 w-14 rounded-full bg-white/[0.04]"}),(0,t.jsx)("div",{className:"h-3 w-12 rounded-lg bg-white/[0.04]"})]}),i[3]=n):n=i[3],i[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("div",{className:"animate-pulse rounded-3xl bg-surface ring-1 ring-white/[0.06] p-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[e,a,l,(0,t.jsxs)("div",{className:"flex gap-12",children:[n,(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"h-14 w-14 rounded-full bg-white/[0.04]"}),(0,t.jsx)("div",{className:"h-3 w-12 rounded-lg bg-white/[0.04]"})]})]})]})}),i[4]=r):r=i[4],r}function R(e){let a,l,n=(0,s.c)(3),{className:r}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}),n[0]=a):a=n[0],n[1]!==r?(l=(0,t.jsx)("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a}),n[1]=r,n[2]=l):l=n[2],l}function W(e){let a,l,n=(0,s.c)(3),{className:r}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}),n[0]=a):a=n[0],n[1]!==r?(l=(0,t.jsx)("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a}),n[1]=r,n[2]=l):l=n[2],l}function z(e){let a,l,n,r,i,o,c,d,m,x,h,f,g=(0,s.c)(30),{headPM:p,teams:b,agentsLoading:w,stats:v,statsLoading:y,connected:N}=e;g[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-gray-100 tracking-tight",children:"Gary Agent Team"}),(0,t.jsx)("span",{className:"rounded-full bg-indigo-500/15 px-2.5 py-0.5 text-[11px] font-semibold text-indigo-400",children:"Dashboard"})]}),g[0]=a):a=g[0];let k=`inline-block h-2 w-2 rounded-full ${N?"bg-emerald-400 shadow-sm shadow-emerald-400/20":"bg-rose-400 shadow-sm shadow-rose-400/20"}`;g[1]!==k?(l=(0,t.jsx)("span",{className:k}),g[1]=k,g[2]=l):l=g[2];let _=N?"ì—°ê²°ë¨":"ì—°ê²° ëŠê¹€";return g[3]!==_?(n=(0,t.jsx)("span",{className:"text-xs text-gray-500",children:_}),g[3]=_,g[4]=n):n=g[4],g[5]!==l||g[6]!==n?(r=(0,t.jsx)("header",{className:"hidden lg:block sticky top-0 z-10 bg-background/80 backdrop-blur-xl border-b border-white/[0.04]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-3",children:[a,(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,n]})]})}),g[5]=l,g[6]=n,g[7]=r):r=g[7],g[8]!==v||g[9]!==y?(i=(0,t.jsx)(u,{stats:v,loading:y}),g[8]=v,g[9]=y,g[10]=i):i=g[10],g[11]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)("h2",{className:"mb-3 text-[11px] font-bold uppercase tracking-widest text-gray-500",children:"PM's"}),g[11]=o):o=g[11],g[12]!==w||g[13]!==p||g[14]!==b?(c=(0,t.jsxs)("section",{className:"lg:w-[280px] lg:shrink-0",children:[o,w?(0,t.jsx)("div",{className:"animate-pulse rounded-3xl bg-surface ring-1 ring-white/[0.06] p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:[0,1,2].map(U)})}):p?(0,t.jsx)(j,{agents:[p,...b.map(D)]}):(0,t.jsx)("div",{className:"rounded-3xl bg-surface ring-1 ring-white/[0.06] p-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"ì—ì´ì „íŠ¸ ì—†ìŒ"})})]}),g[12]=w,g[13]=p,g[14]=b,g[15]=c):c=g[15],g[16]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("h2",{className:"mb-3 text-[11px] font-bold uppercase tracking-widest text-gray-500",children:"ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸"}),g[16]=d):d=g[16],g[17]!==w||g[18]!==p||g[19]!==b?(m=(0,t.jsxs)("section",{className:"flex-1 min-w-0",children:[d,w?(0,t.jsx)(I,{}):p?(0,t.jsx)($,{headPM:p,teams:b}):(0,t.jsx)("div",{className:"rounded-3xl bg-surface ring-1 ring-white/[0.06] p-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"ì—ì´ì „íŠ¸ ì—†ìŒ"})})]}),g[17]=w,g[18]=p,g[19]=b,g[20]=m):m=g[20],g[21]!==m||g[22]!==c?(x=(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5",children:[c,m]}),g[21]=m,g[22]=c,g[23]=x):x=g[23],g[24]!==x||g[25]!==i?(h=(0,t.jsxs)("div",{className:"space-y-5 px-4 py-5 lg:px-6",children:[i,x]}),g[24]=x,g[25]=i,g[26]=h):h=g[26],g[27]!==h||g[28]!==r?(f=(0,t.jsxs)(t.Fragment,{children:[r,h]}),g[27]=h,g[28]=r,g[29]=f):f=g[29],f}function D(e){return e.pm}function U(e){return(0,t.jsxs)("div",{className:e>0?"border-t border-white/[0.04] pt-3":"",children:[(0,t.jsx)("div",{className:"h-4 w-20 rounded-lg bg-white/[0.06]"}),(0,t.jsx)("div",{className:"mt-1.5 h-3 w-28 rounded-lg bg-white/[0.04]"}),(0,t.jsx)("div",{className:"mt-1.5 h-3 w-36 rounded-lg bg-white/[0.03]"})]},e)}function O(){let e,l,r,d,m,x,h,u,f,g,p,b,j,w,v,y,N,k,_,$=(0,s.c)(46),{headPM:S,teams:C,loading:M,connected:T}=function(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[r,c]=(0,a.useState)([]),[d,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[u,f]=(0,a.useState)(!1),g=(0,a.useRef)(new Map),p=(0,a.useCallback)(async()=>{try{let e=await fetch(`${n}/api/agents`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),a=(s.data??s).map(o);t(a),l(function(e){let t=new Map(e.map(e=>[e.id,e])),s=[];for(let[a,l]of Object.entries(i)){let n=t.get(a);if(!n)continue;let r=l.members.map(t=>{let s=e.find(e=>e.id===t.id);return s?{id:s.id,name:t.name,role:t.role,model:s.model||t.model,status:s.status,isPlaceholder:!1,lastActivity:s.lastActivity,inputTokens:s.inputTokens,outputTokens:s.outputTokens}:{id:t.id,name:t.name,role:t.role,model:t.model,status:"offline",isPlaceholder:!0}});s.push({pm:n,members:r,label:l.label,description:l.description})}return s}(a)),f(!0),h(null);let r=g.current,d=[],m=Date.now();for(let e of a){let t=r.get(e.id);void 0!==t&&t!==e.status&&d.push({time:m,agentName:e.name,status:e.status})}d.length>0&&c(e=>[...d,...e].slice(0,20));let x=new Map;for(let e of a)x.set(e.id,e.status);g.current=x}catch(e){h(e instanceof Error?e.message:"Failed to fetch agents"),f(!1)}finally{m(!1)}},[]);(0,a.useEffect)(()=>{p();let e=setInterval(p,1e4);return()=>clearInterval(e)},[p]);let b=e.find(e=>"pm"===e.id)||null;return{agents:e,teams:s,headPM:b,activities:r,loading:d,error:x,connected:u}}(),{stats:L,loading:P}=function(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[n,r]=(0,a.useState)(null),i=(0,a.useCallback)(async()=>{try{let e=await fetch(`${c}/api/stats`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),a=s.data??s;t(a),r(null)}catch(e){r(e instanceof Error?e.message:"Failed to fetch stats")}finally{l(!1)}},[]);return(0,a.useEffect)(()=>{i();let e=setInterval(i,1e4);return()=>clearInterval(e)},[i]),{stats:e,loading:s,error:n}}(),[E,I]=(0,a.useState)("chat");$[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h1",{className:"text-base font-bold text-gray-100 tracking-tight",children:"Gary Agent Team"})}),$[0]=e):e=$[0];let D=`inline-block h-2 w-2 rounded-full ${T?"bg-emerald-400 shadow-sm shadow-emerald-400/20":"bg-rose-400 shadow-sm shadow-rose-400/20"}`;$[1]!==D?(l=(0,t.jsx)("span",{className:D}),$[1]=D,$[2]=l):l=$[2];let U=T?"ì—°ê²°ë¨":"ì—°ê²° ëŠê¹€";$[3]!==U?(r=(0,t.jsx)("span",{className:"text-xs text-gray-500",children:U}),$[3]=U,$[4]=r):r=$[4],$[5]!==l||$[6]!==r?(d=(0,t.jsx)("header",{className:"lg:hidden sticky top-0 z-10 bg-background/80 backdrop-blur-xl border-b border-white/[0.04]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[e,(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,r]})]})}),$[5]=l,$[6]=r,$[7]=d):d=$[7],$[8]!==M||$[9]!==T||$[10]!==S||$[11]!==L||$[12]!==P||$[13]!==C?(m=(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)(z,{headPM:S,teams:C,agentsLoading:M,stats:L,statsLoading:P,connected:T})}),$[8]=M,$[9]=T,$[10]=S,$[11]=L,$[12]=P,$[13]=C,$[14]=m):m=$[14],$[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)("div",{className:"w-[380px] shrink-0 border-l border-white/[0.06]",children:(0,t.jsx)(A,{})}),$[15]=x):x=$[15],$[16]!==m?(h=(0,t.jsxs)("div",{className:"hidden lg:flex flex-1 min-h-0",children:[m,x]}),$[16]=m,$[17]=h):h=$[17],$[18]!==M||$[19]!==T||$[20]!==S||$[21]!==E||$[22]!==L||$[23]!==P||$[24]!==C?(u=(0,t.jsx)("div",{className:"flex-1 min-h-0",children:"chat"===E?(0,t.jsx)(A,{}):(0,t.jsx)("div",{className:"h-full overflow-y-auto",children:(0,t.jsx)(z,{headPM:S,teams:C,agentsLoading:M,stats:L,statsLoading:P,connected:T})})}),$[18]=M,$[19]=T,$[20]=S,$[21]=E,$[22]=L,$[23]=P,$[24]=C,$[25]=u):u=$[25],$[26]===Symbol.for("react.memo_cache_sentinel")?(f=()=>I("chat"),$[26]=f):f=$[26];let O=`flex-1 flex flex-col items-center gap-1 py-2.5 text-xs font-medium transition-colors ${"chat"===E?"text-indigo-400":"text-gray-600"}`;$[27]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(R,{className:"h-5 w-5"}),p=(0,t.jsx)("span",{children:"ì±„íŒ…"}),$[27]=g,$[28]=p):(g=$[27],p=$[28]),$[29]!==O?(b=(0,t.jsxs)("button",{onClick:f,className:O,children:[g,p]}),$[29]=O,$[30]=b):b=$[30],$[31]===Symbol.for("react.memo_cache_sentinel")?(j=()=>I("dashboard"),$[31]=j):j=$[31];let B=`flex-1 flex flex-col items-center gap-1 py-2.5 text-xs font-medium transition-colors ${"dashboard"===E?"text-indigo-400":"text-gray-600"}`;return $[32]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(W,{className:"h-5 w-5"}),v=(0,t.jsx)("span",{children:"ëŒ€ì‹œë³´ë“œ"}),$[32]=w,$[33]=v):(w=$[32],v=$[33]),$[34]!==B?(y=(0,t.jsxs)("button",{onClick:j,className:B,children:[w,v]}),$[34]=B,$[35]=y):y=$[35],$[36]!==b||$[37]!==y?(N=(0,t.jsx)("nav",{className:"shrink-0 border-t border-white/[0.06] bg-surface/80 backdrop-blur-lg safe-bottom",children:(0,t.jsxs)("div",{className:"flex",children:[b,y]})}),$[36]=b,$[37]=y,$[38]=N):N=$[38],$[39]!==N||$[40]!==u?(k=(0,t.jsxs)("div",{className:"lg:hidden flex flex-col flex-1 min-h-0",children:[u,N]}),$[39]=N,$[40]=u,$[41]=k):k=$[41],$[42]!==k||$[43]!==d||$[44]!==h?(_=(0,t.jsxs)("div",{className:"h-dvh flex flex-col bg-background",children:[d,h,k]}),$[42]=k,$[43]=d,$[44]=h,$[45]=_):_=$[45],_}e.s(["default",()=>O],52683)}]);