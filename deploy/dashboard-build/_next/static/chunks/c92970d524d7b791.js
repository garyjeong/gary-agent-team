(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),r=e.i(932),s=e.i(47167),a=e.i(71645);let l={pm:{name:"시윤",role:"총괄 PM",color:"indigo"},"viewster-pm":{name:"준서",role:"Viewster 팀장",parent:"pm",color:"pink"},"gary-pm":{name:"도윤",role:"Gary 프로젝트 팀장",parent:"pm",color:"emerald"},"viewster-be":{name:"민재",role:"백엔드",parent:"viewster-pm",color:"pink"},"viewster-web":{name:"하은",role:"웹 프론트",parent:"viewster-pm",color:"pink"},"viewster-mobile":{name:"지호",role:"모바일",parent:"viewster-pm",color:"pink"},"viewster-design":{name:"수아",role:"디자인",parent:"viewster-pm",color:"pink"},"viewster-qa":{name:"예준",role:"QA",parent:"viewster-pm",color:"pink"},"gary-be":{name:"서연",role:"백엔드",parent:"gary-pm",color:"emerald"},"gary-web":{name:"주원",role:"웹 프론트",parent:"gary-pm",color:"emerald"},"gary-mobile":{name:"다은",role:"모바일",parent:"gary-pm",color:"emerald"},"gary-design":{name:"현우",role:"디자인",parent:"gary-pm",color:"emerald"},"gary-qa":{name:"소율",role:"QA",parent:"gary-pm",color:"emerald"}},n={"viewster-pm":{label:"Viewster",description:"YouTube 기반 리워드 영상 시청 플랫폼",members:[{id:"viewster-be",name:"민재",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"viewster-web",name:"하은",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"viewster-mobile",name:"지호",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"viewster-design",name:"수아",role:"UI/UX 디자인",model:"claude-sonnet-4-6"},{id:"viewster-qa",name:"예준",role:"품질보증/테스트",model:"claude-sonnet-4-6"}]},"gary-pm":{label:"Gary Projects",description:"Nestack, gold-message, lotto-pick 등 개인 프로젝트",members:[{id:"gary-be",name:"서연",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"gary-web",name:"주원",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"gary-mobile",name:"다은",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"gary-design",name:"현우",role:"UI/UX 디자인",model:"claude-sonnet-4-6"},{id:"gary-qa",name:"소율",role:"품질보증/테스트",model:"claude-sonnet-4-6"}]}},i={pm:{text:"text-indigo-500 dark:text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20",ring:"ring-indigo-500/20",chatBorder:"border-l-indigo-500"},"viewster-pm":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"gary-pm":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"viewster-be":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-web":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-mobile":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-design":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-qa":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"gary-be":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-web":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-mobile":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-design":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-qa":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"}},o=["pm","viewster-pm","gary-pm","viewster-be","viewster-web","viewster-mobile","viewster-design","viewster-qa","gary-be","gary-web","gary-mobile","gary-design","gary-qa"],c=s.default.env.NEXT_PUBLIC_API_URL||"";function d(e){let t=l[e.id];return t?{...e,name:t.name,role:t.role,parent:t.parent}:e}let x=s.default.env.NEXT_PUBLIC_API_URL||"",m=s.default.env.NEXT_PUBLIC_API_URL||"",u=s.default.env.NEXT_PUBLIC_API_URL||"";var h=e.i(65150);function b(){let e,s,a,l=(0,r.c)(9),{resolved:n,setTheme:i}=(0,h.useTheme)();l[0]!==n||l[1]!==i?(e=()=>{i("dark"===n?"light":"dark")},l[0]=n,l[1]=i,l[2]=e):e=l[2];let o=e,c="dark"===n?"라이트 모드로 전환":"다크 모드로 전환";return l[3]!==n?(s="dark"===n?(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),l[3]=n,l[4]=s):s=l[4],l[5]!==c||l[6]!==s||l[7]!==o?(a=(0,t.jsx)("button",{onClick:o,className:"flex h-9 w-9 items-center justify-center rounded-xl bg-surface-hover transition-colors hover:bg-surface-light cursor-pointer","aria-label":c,children:s}),l[5]=c,l[6]=s,l[7]=o,l[8]=a):a=l[8],a}function p(e){let s,a,l,n,i,o,c,d,x=(0,r.c)(17),{connected:m}=e;x[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("span",{className:"text-base font-semibold tracking-tight text-text-primary",children:"Gary Agent Team"}),(0,t.jsx)("span",{className:"rounded-md bg-accent-indigo/10 px-2 py-0.5 text-sm font-medium text-accent-indigo","aria-label":"Dashboard",children:"Dashboard"})]}),x[0]=s):s=x[0];let u=m?"연결됨":"연결 끊김";x[1]!==m?(a=m&&(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-accent-emerald opacity-60"}),x[1]=m,x[2]=a):a=x[2];let h=`relative inline-flex h-2 w-2 rounded-full ${m?"bg-accent-emerald":"bg-accent-rose"}`;x[3]!==h?(l=(0,t.jsx)("span",{className:h}),x[3]=h,x[4]=l):l=x[4],x[5]!==a||x[6]!==l?(n=(0,t.jsxs)("span",{className:"relative flex h-2 w-2 items-center justify-center",children:[a,l]}),x[5]=a,x[6]=l,x[7]=n):n=x[7];let p=m?"연결됨":"연결 끊김";return x[8]!==p?(i=(0,t.jsx)("span",{className:"hidden text-sm font-medium text-text-secondary sm:inline",children:p}),x[8]=p,x[9]=i):i=x[9],x[10]!==u||x[11]!==n||x[12]!==i?(o=(0,t.jsxs)("div",{className:"flex items-center gap-1.5",role:"status","aria-live":"polite","aria-label":u,children:[n,i]}),x[10]=u,x[11]=n,x[12]=i,x[13]=o):o=x[13],x[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(b,{}),x[14]=c):c=x[14],x[15]!==o?(d=(0,t.jsxs)("header",{className:"sticky top-0 z-10 flex h-12 shrink-0 items-center justify-between border-b border-border-subtle bg-background/80 px-4 backdrop-blur-xl lg:px-6",role:"banner",children:[s,(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[o,c]})]}),x[15]=o,x[16]=d):d=x[16],d}let f=[{id:"chat",label:"채팅",icon:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{id:"agents",label:"에이전트",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"detail",label:"상세",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,t.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,t.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}];function g(e){let s,a,l=(0,r.c)(5),{activeTab:n,onTabChange:i}=e;return l[0]!==n||l[1]!==i?(s=f.map(e=>{let r=n===e.id;return(0,t.jsxs)("button",{role:"tab","aria-selected":r,"aria-label":e.label,onClick:()=>i(e.id),className:`flex min-h-[48px] flex-1 flex-col items-center justify-center gap-1 px-2 py-2 text-xs font-medium transition-colors ${r?"text-accent-indigo":"text-text-muted hover:text-text-secondary"}`,children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.id)}),l[0]=n,l[1]=i,l[2]=s):s=l[2],l[3]!==s?(a=(0,t.jsx)("nav",{className:"safe-bottom border-t border-border-subtle bg-surface/80 backdrop-blur-lg md:hidden",role:"tablist","aria-label":"모바일 탭 네비게이션",children:(0,t.jsx)("div",{className:"flex",children:s})}),l[3]=s,l[4]=a):a=l[4],a}function j(e){let s,l,n,i,o,c,d,x,m,u,h,b,f,j,y,k=(0,r.c)(42),{connected:v,leftPanel:w,centerPanel:N,rightPanel:_}=e,[S,L]=(0,a.useState)("chat");return k[0]!==v?(s=(0,t.jsx)(p,{connected:v}),k[0]=v,k[1]=s):s=k[1],k[2]!==w?(l=(0,t.jsx)("aside",{className:"w-[280px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:w}),k[2]=w,k[3]=l):l=k[3],k[4]!==N?(n=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:N}),k[4]=N,k[5]=n):n=k[5],k[6]!==_?(i=(0,t.jsx)("aside",{className:"w-[320px] shrink-0 border-l border-border-subtle overflow-y-auto","aria-label":"상세 정보",children:_}),k[6]=_,k[7]=i):i=k[7],k[8]!==l||k[9]!==n||k[10]!==i?(o=(0,t.jsxs)("div",{className:"hidden xl:flex flex-1 min-h-0",children:[l,n,i]}),k[8]=l,k[9]=n,k[10]=i,k[11]=o):o=k[11],k[12]!==w?(c=(0,t.jsx)("aside",{className:"w-[240px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:w}),k[12]=w,k[13]=c):c=k[13],k[14]!==N?(d=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:N}),k[14]=N,k[15]=d):d=k[15],k[16]!==c||k[17]!==d?(x=(0,t.jsxs)("div",{className:"hidden md:flex xl:hidden flex-1 min-h-0",children:[c,d]}),k[16]=c,k[17]=d,k[18]=x):x=k[18],k[19]!==S||k[20]!==N?(m="chat"===S&&(0,t.jsx)("main",{"aria-label":"채팅",className:"h-full",children:N}),k[19]=S,k[20]=N,k[21]=m):m=k[21],k[22]!==S||k[23]!==w?(u="agents"===S&&(0,t.jsx)("section",{"aria-label":"에이전트 목록",className:"h-full",children:w}),k[22]=S,k[23]=w,k[24]=u):u=k[24],k[25]!==S||k[26]!==_?(h="detail"===S&&(0,t.jsx)("section",{"aria-label":"상세 정보",className:"h-full",children:_}),k[25]=S,k[26]=_,k[27]=h):h=k[27],k[28]!==u||k[29]!==h||k[30]!==m?(b=(0,t.jsxs)("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[m,u,h]}),k[28]=u,k[29]=h,k[30]=m,k[31]=b):b=k[31],k[32]!==S?(f=(0,t.jsx)(g,{activeTab:S,onTabChange:L}),k[32]=S,k[33]=f):f=k[33],k[34]!==b||k[35]!==f?(j=(0,t.jsxs)("div",{className:"flex md:hidden flex-1 min-h-0 flex-col",children:[b,f]}),k[34]=b,k[35]=f,k[36]=j):j=k[36],k[37]!==s||k[38]!==j||k[39]!==o||k[40]!==x?(y=(0,t.jsxs)("div",{className:"h-dvh flex flex-col bg-background",children:[s,o,x,j]}),k[37]=s,k[38]=j,k[39]=o,k[40]=x,k[41]=y):y=k[41],y}function y(e){let s,a,l,n,i,o,c,d,x,m,u,h,b,p,f,g,j,y,k,v,w,N=(0,r.c)(22),{className:_}=e;return N[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("polygon",{points:"8,28 16,6 26,24",fill:"#6366f1"}),h=(0,t.jsx)("polygon",{points:"11,26 16,11 23,24",fill:"#a5b4fc"}),p=(0,t.jsx)("polygon",{points:"56,28 48,6 38,24",fill:"#6366f1"}),f=(0,t.jsx)("polygon",{points:"53,26 48,11 41,24",fill:"#a5b4fc"}),g=(0,t.jsx)("circle",{cx:"32",cy:"36",r:"22",fill:"#818cf8"}),j=(0,t.jsx)("ellipse",{cx:"32",cy:"44",rx:"11",ry:"8",fill:"#a5b4fc"}),y=(0,t.jsx)("ellipse",{cx:"24",cy:"33",rx:"5",ry:"5.5",fill:"white"}),k=(0,t.jsx)("ellipse",{cx:"40",cy:"33",rx:"5",ry:"5.5",fill:"white"}),v=(0,t.jsx)("ellipse",{cx:"24",cy:"34",rx:"2.8",ry:"3.5",fill:"#312e81"}),a=(0,t.jsx)("ellipse",{cx:"40",cy:"34",rx:"2.8",ry:"3.5",fill:"#312e81"}),l=(0,t.jsx)("circle",{cx:"25.2",cy:"32.2",r:"1.2",fill:"white"}),n=(0,t.jsx)("circle",{cx:"41.2",cy:"32.2",r:"1.2",fill:"white"}),i=(0,t.jsx)("ellipse",{cx:"32",cy:"41",rx:"2.2",ry:"1.6",fill:"#4338ca"}),o=(0,t.jsx)("path",{d:"M29.5 43.5 Q32 46 34.5 43.5",stroke:"#4338ca",strokeWidth:"1.2",strokeLinecap:"round",fill:"none"}),c=(0,t.jsx)("line",{x1:"10",y1:"41",x2:"24",y2:"42.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),d=(0,t.jsx)("line",{x1:"10",y1:"44",x2:"24",y2:"44",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),x=(0,t.jsx)("line",{x1:"10",y1:"47",x2:"24",y2:"45.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),m=(0,t.jsx)("line",{x1:"54",y1:"41",x2:"40",y2:"42.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),u=(0,t.jsx)("line",{x1:"54",y1:"44",x2:"40",y2:"44",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),b=(0,t.jsx)("line",{x1:"54",y1:"47",x2:"40",y2:"45.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),N[0]=s,N[1]=a,N[2]=l,N[3]=n,N[4]=i,N[5]=o,N[6]=c,N[7]=d,N[8]=x,N[9]=m,N[10]=u,N[11]=h,N[12]=b,N[13]=p,N[14]=f,N[15]=g,N[16]=j,N[17]=y,N[18]=k,N[19]=v):(s=N[0],a=N[1],l=N[2],n=N[3],i=N[4],o=N[5],c=N[6],d=N[7],x=N[8],m=N[9],u=N[10],h=N[11],b=N[12],p=N[13],f=N[14],g=N[15],j=N[16],y=N[17],k=N[18],v=N[19]),N[20]!==_?(w=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:_,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"시윤 아바타",role:"img",children:[s,h,p,f,g,j,y,k,v,a,l,n,i,o,c,d,x,m,u,b]}),N[20]=_,N[21]=w):w=N[21],w}function k(e){let s,a,l,n,i,o,c,d,x,m,u,h,b,p,f,g,j,y=(0,r.c)(18),{className:k}=e;return y[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("circle",{cx:"13",cy:"18",r:"8",fill:"#ec4899"}),x=(0,t.jsx)("circle",{cx:"13",cy:"18",r:"4.5",fill:"#fbcfe8"}),m=(0,t.jsx)("circle",{cx:"51",cy:"18",r:"8",fill:"#ec4899"}),u=(0,t.jsx)("circle",{cx:"51",cy:"18",r:"4.5",fill:"#fbcfe8"}),h=(0,t.jsx)("circle",{cx:"32",cy:"36",r:"22",fill:"#f472b6"}),b=(0,t.jsx)("ellipse",{cx:"32",cy:"46",rx:"12",ry:"9",fill:"#fbcfe8"}),p=(0,t.jsx)("circle",{cx:"24",cy:"32",r:"5",fill:"white"}),f=(0,t.jsx)("circle",{cx:"40",cy:"32",r:"5",fill:"white"}),g=(0,t.jsx)("circle",{cx:"24.5",cy:"32.8",r:"3",fill:"#831843"}),a=(0,t.jsx)("circle",{cx:"40.5",cy:"32.8",r:"3",fill:"#831843"}),l=(0,t.jsx)("circle",{cx:"25.5",cy:"31.4",r:"1.2",fill:"white"}),n=(0,t.jsx)("circle",{cx:"41.5",cy:"31.4",r:"1.2",fill:"white"}),i=(0,t.jsx)("ellipse",{cx:"32",cy:"41.5",rx:"3.5",ry:"2.5",fill:"#be185d"}),o=(0,t.jsx)("path",{d:"M29 44.5 Q32 48 35 44.5",stroke:"#be185d",strokeWidth:"1.3",strokeLinecap:"round",fill:"none"}),c=(0,t.jsx)("ellipse",{cx:"19",cy:"39",rx:"4",ry:"2.5",fill:"#fda4af",opacity:"0.6"}),d=(0,t.jsx)("ellipse",{cx:"45",cy:"39",rx:"4",ry:"2.5",fill:"#fda4af",opacity:"0.6"}),y[0]=s,y[1]=a,y[2]=l,y[3]=n,y[4]=i,y[5]=o,y[6]=c,y[7]=d,y[8]=x,y[9]=m,y[10]=u,y[11]=h,y[12]=b,y[13]=p,y[14]=f,y[15]=g):(s=y[0],a=y[1],l=y[2],n=y[3],i=y[4],o=y[5],c=y[6],d=y[7],x=y[8],m=y[9],u=y[10],h=y[11],b=y[12],p=y[13],f=y[14],g=y[15]),y[16]!==k?(j=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:k,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"준서 아바타",role:"img",children:[s,x,m,u,h,b,p,f,g,a,l,n,i,o,c,d]}),y[16]=k,y[17]=j):j=y[17],j}function v(e){let s,a,l,n,i,o,c,d,x,m,u,h,b,p,f,g,j,y,k,v=(0,r.c)(20),{className:w}=e;return v[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("polygon",{points:"6,30 15,4 28,22",fill:"#10b981"}),u=(0,t.jsx)("polygon",{points:"10,28 15,9 25,22",fill:"#6ee7b7"}),h=(0,t.jsx)("polygon",{points:"58,30 49,4 36,22",fill:"#10b981"}),b=(0,t.jsx)("polygon",{points:"54,28 49,9 39,22",fill:"#6ee7b7"}),p=(0,t.jsx)("ellipse",{cx:"32",cy:"37",rx:"22",ry:"21",fill:"#34d399"}),f=(0,t.jsx)("ellipse",{cx:"32",cy:"46",rx:"13",ry:"10",fill:"#d1fae5"}),g=(0,t.jsx)("ellipse",{cx:"23",cy:"32",rx:"5",ry:"5",fill:"white"}),j=(0,t.jsx)("ellipse",{cx:"41",cy:"32",rx:"5",ry:"5",fill:"white"}),y=(0,t.jsx)("ellipse",{cx:"23.5",cy:"32.5",rx:"2.8",ry:"3.2",fill:"#064e3b"}),a=(0,t.jsx)("ellipse",{cx:"41.5",cy:"32.5",rx:"2.8",ry:"3.2",fill:"#064e3b"}),l=(0,t.jsx)("circle",{cx:"24.5",cy:"31",r:"1.1",fill:"white"}),n=(0,t.jsx)("circle",{cx:"42.5",cy:"31",r:"1.1",fill:"white"}),i=(0,t.jsx)("polygon",{points:"32,40 29.5,43 34.5,43",fill:"#059669"}),o=(0,t.jsx)("path",{d:"M29.5 44.5 Q32 47.5 35.5 45",stroke:"#059669",strokeWidth:"1.3",strokeLinecap:"round",fill:"none"}),c=(0,t.jsx)("ellipse",{cx:"17",cy:"38",rx:"3.5",ry:"2",fill:"#6ee7b7",opacity:"0.7"}),d=(0,t.jsx)("ellipse",{cx:"47",cy:"38",rx:"3.5",ry:"2",fill:"#6ee7b7",opacity:"0.7"}),x=(0,t.jsx)("path",{d:"M19 26.5 Q22 24.5 26 26",stroke:"#059669",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),m=(0,t.jsx)("path",{d:"M38 26 Q42 24.5 45 26.5",stroke:"#059669",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),v[0]=s,v[1]=a,v[2]=l,v[3]=n,v[4]=i,v[5]=o,v[6]=c,v[7]=d,v[8]=x,v[9]=m,v[10]=u,v[11]=h,v[12]=b,v[13]=p,v[14]=f,v[15]=g,v[16]=j,v[17]=y):(s=v[0],a=v[1],l=v[2],n=v[3],i=v[4],o=v[5],c=v[6],d=v[7],x=v[8],m=v[9],u=v[10],h=v[11],b=v[12],p=v[13],f=v[14],g=v[15],j=v[16],y=v[17]),v[18]!==w?(k=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:w,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"도윤 아바타",role:"img",children:[s,u,h,b,p,f,g,j,y,a,l,n,i,o,c,d,x,m]}),v[18]=w,v[19]=k):k=v[19],k}let w={active:"bg-emerald-500",idle:"bg-amber-400",offline:"bg-gray-300"},N={active:"animate-pulse",idle:"",offline:""};function _(e){let s,a=(0,r.c)(3),{status:l,size:n}=e,i=`inline-block rounded-full ${"sm"===(void 0===n?"md":n)?"h-2 w-2":"h-2.5 w-2.5"} ${w[l]} ${N[l]}`;return a[0]!==l||a[1]!==i?(s=(0,t.jsx)("span",{className:i,"aria-label":l}),a[0]=l,a[1]=i,a[2]=s):s=a[2],s}let S={xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-14 w-14",xl:"h-20 w-20"},L={xs:"sm",sm:"sm",md:"md",lg:"md",xl:"md"},$={active:"animate-avatar-bounce",idle:"animate-avatar-breathe",offline:"grayscale opacity-40"};function T(e){let s,a,l,n,i=(0,r.c)(12),{agentId:o,status:c,size:d,showStatus:x}=e,m=void 0===d?"md":d,u=void 0!==x&&x;i[0]!==o?(s=function(e){switch(e){case"pm":default:return y;case"viewster-pm":return k;case"gary-pm":return v}}(o),i[0]=o,i[1]=s):s=i[1];let h=s,b=S[m],p=$[c],f=L[m],g=`${b} ${p} rounded-full transition-all duration-300`;return i[2]!==h||i[3]!==g?(a=(0,t.jsx)(h,{className:g}),i[2]=h,i[3]=g,i[4]=a):a=i[4],i[5]!==f||i[6]!==u||i[7]!==c?(l=u&&(0,t.jsx)("span",{className:"absolute bottom-0 right-0 flex items-center justify-center","aria-hidden":"true",children:(0,t.jsx)(_,{status:c,size:f})}),i[5]=f,i[6]=u,i[7]=c,i[8]=l):l=i[8],i[9]!==a||i[10]!==l?(n=(0,t.jsxs)("span",{className:"relative inline-flex items-center justify-center select-none",children:[a,l]}),i[9]=a,i[10]=l,i[11]=n):n=i[11],n}let C={active:{label:"열일중",dot:"bg-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-500 dark:text-emerald-400",pulse:!0,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},idle:{label:"쉬는중",dot:"bg-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-500 dark:text-amber-400",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 9v6m4-6v6"})})},offline:{label:"오프라인",dot:"bg-gray-400 dark:bg-gray-500",bg:"bg-gray-500/10",border:"border-gray-500/20",text:"text-gray-500",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})})}};function B(e){let s,a,l,n=(0,r.c)(11),{status:i,size:o}=e,c=C[i],d=`inline-flex items-center gap-1 rounded-full border ${"sm"===(void 0===o?"md":o)?"px-1.5 py-0.5":"px-2 py-0.5"} ${c.bg} ${c.border}`;n[0]!==c.icon||n[1]!==c.text?(s=(0,t.jsx)("span",{className:c.text,children:c.icon}),n[0]=c.icon,n[1]=c.text,n[2]=s):s=n[2];let x=`font-medium text-xs ${c.text}`;return n[3]!==c.label||n[4]!==x?(a=(0,t.jsx)("span",{className:x,children:c.label}),n[3]=c.label,n[4]=x,n[5]=a):a=n[5],n[6]!==c.label||n[7]!==d||n[8]!==s||n[9]!==a?(l=(0,t.jsxs)("span",{className:d,role:"status","aria-label":c.label,children:[s,a]}),n[6]=c.label,n[7]=d,n[8]=s,n[9]=a,n[10]=l):l=n[10],l}function M(e){let s,a,l,n,o,c,d,x,m,u,h,b=(0,r.c)(34),{agent:p,selected:f,onClick:g}=e,j=i[p.id];b[0]!==p.id?(s=({pm:"border-l-accent-indigo","viewster-pm":"border-l-accent-pink","gary-pm":"border-l-accent-emerald"})[p.id]??"border-l-accent-indigo",b[0]=p.id,b[1]=s):s=b[1];let y=s,k=`에이전트 ${p.name} 선택`,v=f?`bg-surface-hover ${y}`:"border-l-transparent hover:bg-surface-hover";b[2]!==v?(a=["w-full flex items-center gap-3 px-3 py-3 text-left","min-h-[60px]","transition-all duration-150 ease-in-out","border-l-[3px]","cursor-pointer",v,"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-indigo focus-visible:ring-inset"],b[2]=v,b[3]=a):a=b[3];let w=a.join(" ");b[4]!==p.id||b[5]!==p.status?(l=(0,t.jsx)("span",{className:"shrink-0","aria-hidden":"true",children:(0,t.jsx)(T,{agentId:p.id,status:p.status,size:"md",showStatus:!0})}),b[4]=p.id,b[5]=p.status,b[6]=l):l=b[6];let N="text-text-primary";b[7]!==N?(n=["text-base font-semibold leading-tight truncate",N],b[7]=N,b[8]=n):n=b[8];let _=n.join(" ");return b[9]!==p.name||b[10]!==_?(o=(0,t.jsx)("span",{className:_,children:p.name}),b[9]=p.name,b[10]=_,b[11]=o):o=b[11],b[12]!==p.status?(c=(0,t.jsx)(B,{status:p.status,size:"sm"}),b[12]=p.status,b[13]=c):c=b[13],b[14]!==o||b[15]!==c?(d=(0,t.jsxs)("span",{className:"flex items-center gap-2 flex-wrap",children:[o,c]}),b[14]=o,b[15]=c,b[16]=d):d=b[16],b[17]!==p.role||b[18]!==j?(x=p.role&&(0,t.jsx)("span",{className:["text-xs font-medium leading-tight truncate",j?j.text:"text-text-tertiary"].join(" "),children:p.role}),b[17]=p.role,b[18]=j,b[19]=x):x=b[19],b[20]!==p.currentTask||b[21]!==p.status?(m=p.currentTask&&"active"===p.status&&(0,t.jsx)("span",{className:"text-[11px] text-text-tertiary leading-tight truncate mt-0.5",children:p.currentTask}),b[20]=p.currentTask,b[21]=p.status,b[22]=m):m=b[22],b[23]!==d||b[24]!==x||b[25]!==m?(u=(0,t.jsxs)("span",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[d,x,m]}),b[23]=d,b[24]=x,b[25]=m,b[26]=u):u=b[26],b[27]!==g||b[28]!==f||b[29]!==u||b[30]!==k||b[31]!==w||b[32]!==l?(h=(0,t.jsxs)("button",{type:"button",onClick:g,"aria-pressed":f,"aria-label":k,className:w,children:[l,u]}),b[27]=g,b[28]=f,b[29]=u,b[30]=k,b[31]=w,b[32]=l,b[33]=h):h=b[33],h}function I(e){return"pm"===e.id}function A(e){return"pm"===e.parent&&"pm"!==e.id}function z(e){return!!e.parent&&"pm"!==e.parent}function W(e){let s,a,l,i,o,c,d,x,m,u,h=(0,r.c)(37),{agents:b,selectedAgentId:p,onSelectAgent:f,className:g}=e,j=void 0===g?"":g;h[0]!==b?(s=b.find(I),h[0]=b,h[1]=s):s=h[1];let y=s;if(h[2]!==b||h[3]!==j||h[4]!==y||h[5]!==f||h[6]!==p){let e,r,s,m,u,g=b.filter(A),k=b.filter(z);h[14]!==b?(e=b.filter(D),h[14]=b,h[15]=e):e=h[15];let v=e.length;h[16]!==j?(r=["flex flex-col bg-surface h-full",j],h[16]=j,h[17]=r):r=h[17],c=r.join(" "),d="에이전트 목록",h[18]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("h2",{className:"text-xs font-bold uppercase tracking-widest text-text-tertiary",children:"AI 팀원"}),h[18]=s):s=h[18];let w=`총 ${b.length}명, ${v}명 활성`;h[19]!==v?(m=v>0&&(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse","aria-hidden":"true"}),h[19]=v,h[20]=m):m=h[20],h[21]!==b.length?(u=(0,t.jsx)("span",{className:"text-xs font-semibold text-text-secondary tabular-nums",children:b.length}),h[21]=b.length,h[22]=u):u=h[22],h[23]!==w||h[24]!==m||h[25]!==u?(x=(0,t.jsxs)("div",{className:"shrink-0 flex items-center gap-2.5 px-4 py-3.5 border-b border-border-subtle",children:[s,(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-surface-hover border border-border-subtle px-2 py-0.5","aria-label":w,children:[m,u]})]}),h[23]=w,h[24]=m,h[25]=u,h[26]=x):x=h[26],a="flex-1 overflow-y-auto scrollbar-hide",l="list",i="에이전트 선택",o=0===b.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-24 px-4",children:(0,t.jsx)("p",{className:"text-sm text-text-tertiary text-center",children:"에이전트 없음"})}):(0,t.jsxs)(t.Fragment,{children:[y&&(0,t.jsxs)("div",{role:"group","aria-label":"총괄 PM",children:[(0,t.jsx)("div",{className:"px-4 pt-3 pb-1",children:(0,t.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-widest text-text-tertiary/70",children:"총괄 PM"})}),(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(M,{agent:y,selected:p===y.id,onClick:()=>f(y.id)})})]}),g.map(e=>{var r;let s=(r=e.id,k.filter(e=>e.parent===r)),a=n[e.id],l=a?.label||e.name;return(0,t.jsxs)("div",{role:"group","aria-label":`${l} 팀`,children:[(0,t.jsx)("div",{className:"mx-3 my-1 h-px bg-border-subtle",role:"separator","aria-hidden":"true"}),(0,t.jsx)("div",{className:"px-4 pt-2 pb-1",children:(0,t.jsxs)("span",{className:"text-[11px] font-bold uppercase tracking-widest text-text-tertiary/70",children:[l," 팀"]})}),(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(M,{agent:e,selected:p===e.id,onClick:()=>f(e.id)})}),s.length>0&&(0,t.jsx)("div",{className:"pl-4",children:s.map(e=>(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(M,{agent:e,selected:p===e.id,onClick:()=>f(e.id)})},e.id))})]},e.id)}),(0,t.jsx)("div",{className:"h-3","aria-hidden":"true"})]}),h[2]=b,h[3]=j,h[4]=y,h[5]=f,h[6]=p,h[7]=a,h[8]=l,h[9]=i,h[10]=o,h[11]=c,h[12]=d,h[13]=x}else a=h[7],l=h[8],i=h[9],o=h[10],c=h[11],d=h[12],x=h[13];return h[27]!==a||h[28]!==l||h[29]!==i||h[30]!==o?(m=(0,t.jsx)("div",{className:a,role:l,"aria-label":i,children:o}),h[27]=a,h[28]=l,h[29]=i,h[30]=o,h[31]=m):m=h[31],h[32]!==m||h[33]!==c||h[34]!==d||h[35]!==x?(u=(0,t.jsxs)("div",{className:c,"aria-label":d,children:[x,m]}),h[32]=m,h[33]=c,h[34]=d,h[35]=x,h[36]=u):u=h[36],u}function D(e){return"active"===e.status}let P=s.default.env.NEXT_PUBLIC_API_URL||"",E="group-chat-messages",O="group-chat-session",U=0;function R(){return`msg-${Date.now()}-${++U}`}function H(){try{let e=localStorage.getItem(E);return e?JSON.parse(e):[]}catch{return[]}}function q(e){try{localStorage.setItem(E,JSON.stringify(e))}catch{}}let F={};for(let[e,t]of Object.entries(l))F[t.name]=e;async function K(e,t,r){try{let s=await fetch(`${P}/api/chat`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,sessionId:r,agentId:t})});if(!s.ok)throw Error(`HTTP ${s.status}`);let a=await s.json();return{content:a.data?.content||a.content||"응답을 받지 못했습니다."}}catch(e){return{content:"",error:e instanceof Error?e.message:"알 수 없는 오류"}}}async function Q(){try{let e=await fetch(`${P}/api/chat/history?days=7`,{credentials:"include"});if(!e.ok)return[];let t=await e.json();return t.data?.messages||[]}catch{return[]}}function X(e){return new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})}function V(e){let s,a,l,n,i=(0,r.c)(9),{message:o}=e;return i[0]!==o.content?(s=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:o.content}),i[0]=o.content,i[1]=s):s=i[1],i[2]!==o.timestamp?(a=X(o.timestamp),i[2]=o.timestamp,i[3]=a):a=i[3],i[4]!==a?(l=(0,t.jsx)("p",{className:"mt-1 text-xs text-white/60",children:a}),i[4]=a,i[5]=l):l=i[5],i[6]!==s||i[7]!==l?(n=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("div",{className:"max-w-[78%]",children:(0,t.jsxs)("div",{className:"rounded-2xl rounded-tr-sm bg-chat-user-bg px-4 py-2.5 text-base leading-relaxed text-chat-user-text",children:[s,l]})})}),i[6]=s,i[7]=l,i[8]=n):n=i[8],n}function G(e){let s,a,l,n,o,c,d,x,m=(0,r.c)(21),{message:u}=e,h=u.from.id,b=i[h]??i.pm;m[0]!==h?(s=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(T,{agentId:h,status:"active",size:"xs"})}),m[0]=h,m[1]=s):s=m[1];let p=`mb-1 text-xs font-semibold ${b.text}`;m[2]!==u.from.name||m[3]!==p?(a=(0,t.jsx)("p",{className:p,children:u.from.name}),m[2]=u.from.name,m[3]=p,m[4]=a):a=m[4];let f=`rounded-2xl rounded-tl-sm border-l-[3px] bg-chat-agent-bg px-4 py-2.5 text-base leading-relaxed text-chat-agent-text ${b.chatBorder}`;return m[5]!==u.content?(l=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:u.content}),m[5]=u.content,m[6]=l):l=m[6],m[7]!==u.timestamp?(n=X(u.timestamp),m[7]=u.timestamp,m[8]=n):n=m[8],m[9]!==n?(o=(0,t.jsx)("p",{className:"mt-1 text-xs text-text-muted",children:n}),m[9]=n,m[10]=o):o=m[10],m[11]!==f||m[12]!==l||m[13]!==o?(c=(0,t.jsxs)("div",{className:f,children:[l,o]}),m[11]=f,m[12]=l,m[13]=o,m[14]=c):c=m[14],m[15]!==a||m[16]!==c?(d=(0,t.jsxs)("div",{className:"max-w-[78%]",children:[a,c]}),m[15]=a,m[16]=c,m[17]=d):d=m[17],m[18]!==s||m[19]!==d?(x=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[s,d]}),m[18]=s,m[19]=d,m[20]=x):x=m[20],x}function J(e){let s,a,l,n,o,c,d,x,m,u,h,b,p=(0,r.c)(30),{message:f}=e,g=f.from.id,j=f.to?.id??"",y=i[g]??i.pm,k=i[j]??i.pm;p[0]!==g?(s=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(T,{agentId:g,status:"active",size:"xs"})}),p[0]=g,p[1]=s):s=p[1];let v=`text-xs font-semibold ${y.text}`;p[2]!==f.from.name||p[3]!==v?(a=(0,t.jsx)("span",{className:v,children:f.from.name}),p[2]=f.from.name,p[3]=v,p[4]=a):a=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("svg",{className:"h-3 w-3 text-text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),p[5]=l):l=p[5];let w=`text-xs font-semibold ${k.text}`,N=f.to?.name??"";return p[6]!==w||p[7]!==N?(n=(0,t.jsx)("span",{className:w,children:N}),p[6]=w,p[7]=N,p[8]=n):n=p[8],p[9]!==j?(o=(0,t.jsx)(T,{agentId:j,status:"idle",size:"xs"}),p[9]=j,p[10]=o):o=p[10],p[11]!==a||p[12]!==n||p[13]!==o?(c=(0,t.jsxs)("div",{className:"mb-1 flex items-center gap-1.5 text-[11px]",children:[a,l,n,o]}),p[11]=a,p[12]=n,p[13]=o,p[14]=c):c=p[14],p[15]!==f.content?(d=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:f.content}),p[15]=f.content,p[16]=d):d=p[16],p[17]!==f.timestamp?(x=X(f.timestamp),p[17]=f.timestamp,p[18]=x):x=p[18],p[19]!==x?(m=(0,t.jsx)("p",{className:"mt-1 text-xs opacity-60",children:x}),p[19]=x,p[20]=m):m=p[20],p[21]!==d||p[22]!==m?(u=(0,t.jsxs)("div",{className:"rounded-xl bg-chat-inter-bg px-3.5 py-2 text-sm leading-relaxed text-chat-inter-text",children:[d,m]}),p[21]=d,p[22]=m,p[23]=u):u=p[23],p[24]!==u||p[25]!==c?(h=(0,t.jsxs)("div",{className:"max-w-[74%]",children:[c,u]}),p[24]=u,p[25]=c,p[26]=h):h=p[26],p[27]!==s||p[28]!==h?(b=(0,t.jsxs)("div",{className:"flex items-start gap-2 pl-4",children:[s,h]}),p[27]=s,p[28]=h,p[29]=b):b=p[29],b}function Y(e){let s,a=(0,r.c)(2),{message:l}=e;return a[0]!==l.content?(s=(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("p",{className:"text-center text-xs text-text-muted",children:l.content})}),a[0]=l.content,a[1]=s):s=a[1],s}function Z(e){let s=(0,r.c)(8),{message:a}=e;switch(a.type){case"user-to-agent":{let e;return s[0]!==a?(e=(0,t.jsx)(V,{message:a}),s[0]=a,s[1]=e):e=s[1],e}case"agent-to-user":{let e;return s[2]!==a?(e=(0,t.jsx)(G,{message:a}),s[2]=a,s[3]=e):e=s[3],e}case"agent-to-agent":{let e;return s[4]!==a?(e=(0,t.jsx)(J,{message:a}),s[4]=a,s[5]=e):e=s[5],e}case"system":{let e;return s[6]!==a?(e=(0,t.jsx)(Y,{message:a}),s[6]=a,s[7]=e):e=s[7],e}default:return null}}function ee(e){let s,l,n,i,c,d,x,m,u=(0,r.c)(22),{onSend:h,sending:b}=e,[p,f]=(0,a.useState)(""),[g,j]=(0,a.useState)(!1),[y,k]=(0,a.useState)(""),[v,w]=(0,a.useState)(0),N=(0,a.useRef)(null),_=(0,a.useRef)(null),S=[{id:"all",name:"모두",role:"모든 에이전트에게 전송"},...o.map(et)].filter(e=>!y||e.name.includes(y)||e.id.includes(y)),L=()=>{let e=N.current;e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,120)}px`)},$=()=>{p.trim()&&!b&&(h(p.trim()),f(""),j(!1),N.current&&(N.current.style.height="auto"))},C=e=>{let t=N.current;if(!t)return;let r=t.selectionStart??p.length,s=p.substring(0,r),a=s.lastIndexOf("@");if(-1===a)return;let l=p.substring(r);f(s.substring(0,a)+`@${e} `+l),j(!1),k(""),requestAnimationFrame(()=>{t.focus();let r=a+e.length+2;t.setSelectionRange(r,r),L()})},B=e=>{let t=e.target.value;f(t),L();let r=e.target.selectionStart??t.length,s=t.substring(0,r),a=s.lastIndexOf("@");if(-1!==a&&(0===a||" "===s[a-1]||"\n"===s[a-1])){let e=s.substring(a+1);if(!e.includes(" ")){k(e),j(!0),w(0);return}}j(!1)},M=e=>{if(g&&S.length>0){if("ArrowDown"===e.key){e.preventDefault(),w(e=>(e+1)%S.length);return}if("ArrowUp"===e.key){e.preventDefault(),w(e=>(e-1+S.length)%S.length);return}if("Enter"===e.key||"Tab"===e.key){e.preventDefault(),C(S[v].name);return}if("Escape"===e.key){e.preventDefault(),j(!1);return}}"Enter"!==e.key||e.shiftKey||(e.preventDefault(),$())};u[0]!==g?(s=()=>{if(!g)return;let e=e=>{_.current&&!_.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},l=[g],u[0]=g,u[1]=s,u[2]=l):(s=u[1],l=u[2]),(0,a.useEffect)(s,l);let I=g&&S.length>0&&(0,t.jsxs)("div",{ref:_,className:"absolute bottom-full left-0 mb-2 w-56 rounded-xl border border-border-subtle bg-surface shadow-lg overflow-hidden z-10",children:[S.map((e,r)=>(0,t.jsxs)("button",{type:"button",onClick:()=>C(e.name),className:`flex items-center gap-2.5 w-full px-3 py-2 text-left transition-colors cursor-pointer ${r===v?"bg-accent-indigo/10":"hover:bg-gray-100 dark:hover:bg-white/[0.04]"}`,children:["all"===e.id?(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-accent-indigo/20",children:(0,t.jsx)("svg",{className:"h-3.5 w-3.5 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})})}):(0,t.jsx)(T,{agentId:e.id,status:"active",size:"xs"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:e.role})]})]},e.id)),(0,t.jsx)("div",{className:"px-3 py-1.5 border-t border-border-subtle",children:(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"@로 에이전트 멘션"})})]});return u[3]!==B||u[4]!==M||u[5]!==p||u[6]!==N||u[7]!==b?(n=(0,t.jsx)("textarea",{ref:N,value:p,onChange:B,onKeyDown:M,placeholder:"메시지를 입력하세요... (@로 에이전트 멘션)",disabled:b,rows:1,"aria-label":"메시지 입력",className:"flex-1 resize-none rounded-xl border border-border-subtle bg-surface-light px-4 py-2.5 text-base text-text-primary placeholder:text-text-muted focus:border-accent-indigo/40 focus:bg-surface focus:outline-none focus:ring-1 focus:ring-accent-indigo/30 disabled:opacity-50"}),u[3]=B,u[4]=M,u[5]=p,u[6]=N,u[7]=b,u[8]=n):n=u[8],u[9]!==p||u[10]!==b?(i=!p.trim()||b,u[9]=p,u[10]=b,u[11]=i):i=u[11],u[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),u[12]=c):c=u[12],u[13]!==$||u[14]!==i?(d=(0,t.jsx)("button",{type:"button",onClick:$,disabled:i,"aria-label":"전송",className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-accent-indigo text-white transition-colors hover:bg-accent-indigo/80 disabled:cursor-not-allowed disabled:bg-surface-light disabled:text-text-muted",children:c}),u[13]=$,u[14]=i,u[15]=d):d=u[15],u[16]!==n||u[17]!==d?(x=(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[n,d]}),u[16]=n,u[17]=d,u[18]=x):x=u[18],u[19]!==x||u[20]!==I?(m=(0,t.jsx)("div",{className:"px-3 py-3 shrink-0",children:(0,t.jsxs)("div",{className:"relative",children:[I,x]})}),u[19]=x,u[20]=I,u[21]=m):m=u[21],m}function et(e){return{id:e,name:l[e]?.name??e,role:l[e]?.role??""}}function er(){let e,s,a=(0,r.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[e,(0,t.jsx)("div",{className:"rounded-2xl rounded-tl-sm bg-chat-agent-bg px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",role:"status","aria-label":"에이전트가 응답 중",children:[(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:0ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:150ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:300ms]"})]})})]}),a[1]=s):s=a[1],s}function es(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center px-6",children:[(0,t.jsx)("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-accent-indigo/10",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})})}),(0,t.jsx)("p",{className:"text-base font-medium text-text-primary",children:"팀에게 메시지를 보내보세요"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-text-muted",children:"@로 에이전트를 멘션하면 지목할 수 있어요"})]}),s[0]=e):e=s[0],e}function ea(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"space-y-3 animate-pulse","aria-label":"히스토리 로딩중",children:[void 0,void 0,void 0].map(el)}),s[0]=e):e=s[0],e}function el(e,r){return(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"h-6 w-6 rounded-full bg-gray-200 dark:bg-white/[0.06] shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1.5 flex-1",children:[(0,t.jsx)("div",{className:"h-3 w-16 rounded bg-gray-200 dark:bg-white/[0.06]"}),(0,t.jsx)("div",{className:"h-10 w-3/4 rounded-xl bg-gray-100 dark:bg-white/[0.04]"})]})]},r)}function en(e){let s,a,l,n,i=(0,r.c)(6),{label:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("div",{className:"flex-1 h-px bg-border-subtle"}),i[0]=s):s=i[0],i[1]!==o?(a=(0,t.jsx)("span",{className:"text-xs font-medium text-text-muted shrink-0",children:o}),i[1]=o,i[2]=a):a=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"flex-1 h-px bg-border-subtle"}),i[3]=l):l=i[3],i[4]!==a?(n=(0,t.jsxs)("div",{className:"flex items-center gap-3 py-2",role:"separator",children:[s,a,l]}),i[4]=a,i[5]=n):n=i[5],n}function ei(e){let s,n,i,c,d,x,m,u,h,b,p,f=(0,r.c)(27),{className:g}=e,{messages:j,sending:y,historyLoaded:k,sendMessage:v,clearMessages:w}=function(){let e,t,s,n,i,c,d,x,m,u,h=(0,r.c)(16),[b,p]=(0,a.useState)(H),[f,g]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(e=function(){try{return localStorage.getItem(O)||`web-${Date.now()}`}catch{return`web-${Date.now()}`}}(),h[0]=e):e=h[0];let k=(0,a.useRef)(e);h[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{Q().then(e=>{e.length>0&&(p(e),q(e)),y(!0)})},s=[],h[1]=t,h[2]=s):(t=h[1],s=h[2]),(0,a.useEffect)(t,s),h[3]!==b?(n=()=>{q(b)},i=[b],h[3]=b,h[4]=n,h[5]=i):(n=h[4],i=h[5]),(0,a.useEffect)(n,i),h[6]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{try{localStorage.setItem(O,k.current)}catch{}},d=[],h[6]=c,h[7]=d):(c=h[6],d=h[7]),(0,a.useEffect)(c,d),h[8]!==f?(x=async e=>{let t=e.trim();if(!t||f)return;let r=function(e){let t=e.match(/@(\S+)/);if(t){let e=t[1];if("모두"===e)return"all";if(F[e])return F[e];if(l[e])return e}return"pm"}(t),s={id:R(),type:"user-to-agent",from:{id:"user",name:"나"},to:"all"===r?{id:"all",name:"모두"}:{id:r,name:l[r]?.name??r},content:t,timestamp:Date.now(),status:"sending"};if(p(e=>[...e,s]),g(!0),p(e=>e.map(e=>e.id===s.id?{...e,status:"sent"}:e)),"all"===r)for(let e of(await Promise.all(o.map(async e=>{let r=l[e]?.name??e,s=await K(t,e,k.current);return{agentId:e,agentName:r,...s}}))))e.error?p(t=>[...t,{id:R(),type:"system",from:{id:"system",name:"System"},content:`${e.agentName} 오류: ${e.error}`,timestamp:Date.now(),status:"error"}]):p(t=>[...t,{id:R(),type:"agent-to-user",from:{id:e.agentId,name:e.agentName},to:{id:"user",name:"나"},content:e.content,timestamp:Date.now(),status:"sent"}]);else{let e=l[r]?.name??r,s=await K(t,r,k.current);s.error?p(e=>[...e,{id:R(),type:"system",from:{id:"system",name:"System"},content:`오류가 발생했습니다: ${s.error}`,timestamp:Date.now(),status:"error"}]):p(t=>[...t,{id:R(),type:"agent-to-user",from:{id:r,name:e},to:{id:"user",name:"나"},content:s.content,timestamp:Date.now(),status:"sent"}])}g(!1)},h[8]=f,h[9]=x):x=h[9];let v=x;h[10]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{p([]),k.current=`web-${Date.now()}`;try{localStorage.removeItem(E),localStorage.setItem(O,k.current)}catch{}},h[10]=m):m=h[10];let w=m;return h[11]!==j||h[12]!==b||h[13]!==v||h[14]!==f?(u={messages:b,sending:f,historyLoaded:j,sendMessage:v,clearMessages:w},h[11]=j,h[12]=b,h[13]=v,h[14]=f,h[15]=u):u=h[15],u}(),N=(0,a.useRef)(null);f[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{let e=N.current;e&&(e.scrollTop=e.scrollHeight)},f[0]=s):s=f[0],f[1]!==j||f[2]!==y?(n=[j,y],f[1]=j,f[2]=y,f[3]=n):n=f[3],(0,a.useEffect)(s,n);let _=`flex h-full flex-col bg-surface ${g??""}`;return f[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("svg",{className:"h-4 w-4 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),c=(0,t.jsx)("h2",{className:"text-base font-bold text-text-primary",children:"팀 채팅"}),f[4]=i,f[5]=c):(i=f[4],c=f[5]),f[6]!==j.length?(d=j.length>0&&(0,t.jsx)("span",{className:"rounded-full bg-accent-indigo/10 px-2 py-0.5 text-xs font-medium text-accent-indigo",children:j.length}),f[6]=j.length,f[7]=d):d=f[7],f[8]!==d?(x=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i,c,d]}),f[8]=d,f[9]=x):x=f[9],f[10]!==w?(m=(0,t.jsx)("button",{type:"button",onClick:w,className:"rounded-lg border border-accent-indigo/30 bg-accent-indigo/10 px-3 py-1.5 text-sm font-medium text-accent-indigo transition-colors hover:bg-accent-indigo/20 hover:border-accent-indigo/50",children:"+ 새 대화"}),f[10]=w,f[11]=m):m=f[11],f[12]!==x||f[13]!==m?(u=(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border-subtle px-4 py-3 shrink-0",children:[x,m]}),f[12]=x,f[13]=m,f[14]=u):u=f[14],f[15]!==k||f[16]!==j||f[17]!==y?(h=(0,t.jsx)("div",{ref:N,className:"flex-1 overflow-y-auto px-4 py-4",role:"log","aria-label":"채팅 메시지","aria-live":"polite",children:k?0!==j.length||y?(0,t.jsxs)("div",{className:"space-y-3",children:[function(e){let r=[],s="";for(let a of e){let e=function(e){let t=new Date(e),r=new Date,s=t.toDateString()===r.toDateString(),a=new Date(r);a.setDate(a.getDate()-1);let l=t.toDateString()===a.toDateString();if(s)return"오늘";if(l)return"어제";let n=t.getMonth()+1,i=t.getDate();return`${n}월 ${i}일`}(a.timestamp);e!==s&&(r.push((0,t.jsx)(en,{label:e},`date-${a.timestamp}`)),s=e),r.push((0,t.jsx)(Z,{message:a},a.id))}return r}(j),y&&(0,t.jsx)(er,{})]}):(0,t.jsx)(es,{}):(0,t.jsx)(ea,{})}),f[15]=k,f[16]=j,f[17]=y,f[18]=h):h=f[18],f[19]!==v||f[20]!==y?(b=(0,t.jsx)("div",{className:"border-t border-border-subtle shrink-0",children:(0,t.jsx)(ee,{onSend:v,sending:y})}),f[19]=v,f[20]=y,f[21]=b):b=f[21],f[22]!==h||f[23]!==b||f[24]!==_||f[25]!==u?(p=(0,t.jsxs)("div",{className:_,children:[u,h,b]}),f[22]=h,f[23]=b,f[24]=_,f[25]=u,f[26]=p):p=f[26],p}function eo(e){let s,a,l,n,i,o,c,d=(0,r.c)(8),{className:x}=e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),a=(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),l=(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),n=(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),i=(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),o=(0,t.jsx)("path",{d:"M9 16.5h6"}),d[0]=s,d[1]=a,d[2]=l,d[3]=n,d[4]=i,d[5]=o):(s=d[0],a=d[1],l=d[2],n=d[3],i=d[4],o=d[5]),d[6]!==x?(c=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:x,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,a,l,n,i,o]}),d[6]=x,d[7]=c):c=d[7],c}function ec(e){let s,a,l,n,i,o=(0,r.c)(6),{className:c}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),a=(0,t.jsx)("circle",{cx:"9",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),l=(0,t.jsx)("circle",{cx:"12",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),n=(0,t.jsx)("circle",{cx:"15",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),o[0]=s,o[1]=a,o[2]=l,o[3]=n):(s=o[0],a=o[1],l=o[2],n=o[3]),o[4]!==c?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:c,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,a,l,n]}),o[4]=c,o[5]=i):i=o[5],i}function ed(e){let s,a,l,n,i=(0,r.c)(5),{className:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M12 2l2.09 6.26L21 10l-6.91 1.74L12 18l-2.09-6.26L3 10l6.91-1.74L12 2z"}),a=(0,t.jsx)("path",{d:"M19 3l.75 2.25L22 6l-2.25.75L19 9l-.75-2.25L16 6l2.25-.75L19 3z"}),l=(0,t.jsx)("path",{d:"M5 16l.5 1.5 1.5.5-1.5.5L5 20l-.5-1.5L3 18l1.5-.5L5 16z"}),i[0]=s,i[1]=a,i[2]=l):(s=i[0],a=i[1],l=i[2]),i[3]!==o?(n=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:o,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,a,l]}),i[3]=o,i[4]=n):n=i[4],n}function ex(e){let s,a,l,n=(0,r.c)(4),{className:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"9"}),a=(0,t.jsx)("polyline",{points:"12 7 12 12 15.5 15.5"}),n[0]=s,n[1]=a):(s=n[0],a=n[1]),n[2]!==i?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,a]}),n[2]=i,n[3]=l):l=n[3],l}function em(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}let eu=[{bg:"bg-violet-50 dark:bg-violet-500/10",iconBg:"bg-violet-100 dark:bg-violet-500/15",accent:"text-violet-600 dark:text-violet-400"},{bg:"bg-sky-50 dark:bg-sky-500/10",iconBg:"bg-sky-100 dark:bg-sky-500/15",accent:"text-sky-600 dark:text-sky-400"},{bg:"bg-rose-50 dark:bg-rose-500/10",iconBg:"bg-rose-100 dark:bg-rose-500/15",accent:"text-rose-600 dark:text-rose-400"},{bg:"bg-amber-50 dark:bg-amber-500/10",iconBg:"bg-amber-100 dark:bg-amber-500/15",accent:"text-amber-600 dark:text-amber-400"}];function eh(e){let s,a,l,n,i,o,c,d=(0,r.c)(19),{label:x,value:m,sub:u,icon:h,style:b}=e,p=`flex items-center justify-between rounded-xl ${b.bg} px-3.5 py-2.5`,f=`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg ${b.iconBg} ${b.accent}`;return d[0]!==h||d[1]!==f?(s=(0,t.jsx)("span",{className:f,"aria-hidden":"true",children:h}),d[0]=h,d[1]=f,d[2]=s):s=d[2],d[3]!==x?(a=(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary",children:x}),d[3]=x,d[4]=a):a=d[4],d[5]!==s||d[6]!==a?(l=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s,a]}),d[5]=s,d[6]=a,d[7]=l):l=d[7],d[8]!==m?(n=(0,t.jsx)("p",{className:"text-xl font-bold tabular-nums text-text-primary",children:m}),d[8]=m,d[9]=n):n=d[9],d[10]!==u?(i=u&&(0,t.jsx)("p",{className:"text-xs leading-tight text-text-muted",children:u}),d[10]=u,d[11]=i):i=d[11],d[12]!==n||d[13]!==i?(o=(0,t.jsxs)("div",{className:"text-right",children:[n,i]}),d[12]=n,d[13]=i,d[14]=o):o=d[14],d[15]!==p||d[16]!==l||d[17]!==o?(c=(0,t.jsxs)("div",{className:p,children:[l,o]}),d[15]=p,d[16]=l,d[17]=o,d[18]=c):c=d[18],c}function eb(e){let s,a,l,n,i,o=(0,r.c)(9),{style:c}=e,d=`flex items-center justify-between animate-pulse rounded-xl ${c.bg} px-3.5 py-2.5`,x=`h-7 w-7 rounded-lg ${c.iconBg}`;return o[0]!==x?(s=(0,t.jsx)("div",{className:x}),o[0]=x,o[1]=s):s=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"h-3 w-14 rounded bg-gray-200 dark:bg-white/[0.06]"}),o[2]=a):a=o[2],o[3]!==s?(l=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s,a]}),o[3]=s,o[4]=l):l=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("div",{className:"h-5 w-12 rounded bg-gray-200 dark:bg-white/[0.06]"}),o[5]=n):n=o[5],o[6]!==d||o[7]!==l?(i=(0,t.jsxs)("div",{className:d,"aria-hidden":"true",children:[l,n]}),o[6]=d,o[7]=l,o[8]=i):i=o[8],i}function ep(e){let s,a,l,n,i,o,c,d,x,m,u,h,b,p=(0,r.c)(28),{stats:f,loading:g}=e;if(g||!f){let e;return p[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"통계 로딩중",children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-2",children:eu.map(ef)})}),p[0]=e):e=p[0],e}let j=f.totalInputTokens+f.totalOutputTokens,y=String(f.totalAgents),k=`${f.activeAgents} active / ${f.idleAgents} idle`;p[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(eo,{className:"h-4 w-4"}),p[1]=s):s=p[1],p[2]!==y||p[3]!==k?(a=(0,t.jsx)(eh,{label:"에이전트",value:y,sub:k,icon:s,style:eu[0]}),p[2]=y,p[3]=k,p[4]=a):a=p[4];let v=String(f.totalSessions);p[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(ec,{className:"h-4 w-4"}),p[5]=l):l=p[5],p[6]!==v?(n=(0,t.jsx)(eh,{label:"세션",value:v,icon:l,style:eu[1]}),p[6]=v,p[7]=n):n=p[7],p[8]!==j?(i=em(j),p[8]=j,p[9]=i):i=p[9],p[10]!==f.totalInputTokens?(o=em(f.totalInputTokens),p[10]=f.totalInputTokens,p[11]=o):o=p[11],p[12]!==f.totalOutputTokens?(c=em(f.totalOutputTokens),p[12]=f.totalOutputTokens,p[13]=c):c=p[13];let w=`in ${o} / out ${c}`;if(p[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(ed,{className:"h-4 w-4"}),p[14]=d):d=p[14],p[15]!==w||p[16]!==i?(x=(0,t.jsx)(eh,{label:"토큰",value:i,sub:w,icon:d,style:eu[2]}),p[15]=w,p[16]=i,p[17]=x):x=p[17],p[18]!==f.uptimeMs){var N;let e,t;e=Math.floor((N=f.uptimeMs)/36e5),t=Math.floor(N%36e5/6e4),m=e>0?`${e}h ${t}m`:`${t}m`,p[18]=f.uptimeMs,p[19]=m}else m=p[19];return p[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(ex,{className:"h-4 w-4"}),p[20]=u):u=p[20],p[21]!==m?(h=(0,t.jsx)(eh,{label:"가동시간",value:m,icon:u,style:eu[3]}),p[21]=m,p[22]=h):h=p[22],p[23]!==x||p[24]!==h||p[25]!==a||p[26]!==n?(b=(0,t.jsx)("section",{"aria-label":"시스템 통계",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[a,n,x,h]})}),p[23]=x,p[24]=h,p[25]=a,p[26]=n,p[27]=b):b=p[27],b}function ef(e,r){return(0,t.jsx)(eb,{style:e},r)}function eg(e){let s,a,l,n,i,o,c,d,x,m,u,h=(0,r.c)(28),{label:b,info:p,accentBarColor:f}=e;if(!p)return null;h[0]!==p.utilization?(s=Math.round(p.utilization>1?p.utilization:100*p.utilization),h[0]=p.utilization,h[1]=s):s=h[1];let g=Math.min(100,s);h[2]!==p.resets_at?(a=function(e){if(!e)return"";let t=new Date(e).getTime()-Date.now();if(t<=0)return"곧 리셋";let r=Math.floor(t/36e5),s=Math.floor(t%36e5/6e4);return r>0?`${r}시간 ${s}분`:`${s}분`}(p.resets_at),h[2]=p.resets_at,h[3]=a):a=h[3];let j=a,y=g>=90?"bg-rose-500":g>=70?"bg-amber-500":f;h[4]!==b?(l=(0,t.jsx)("span",{className:"text-text-tertiary",children:b}),h[4]=b,h[5]=l):l=h[5],h[6]!==g?(n=(0,t.jsxs)("span",{className:"font-mono text-text-secondary tabular-nums",children:[g,"%"]}),h[6]=g,h[7]=n):n=h[7],h[8]!==j?(i=j&&(0,t.jsx)("span",{className:"text-text-muted",children:j}),h[8]=j,h[9]=i):i=h[9],h[10]!==n||h[11]!==i?(o=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n,i]}),h[10]=n,h[11]=i,h[12]=o):o=h[12],h[13]!==l||h[14]!==o?(c=(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[l,o]}),h[13]=l,h[14]=o,h[15]=c):c=h[15];let k=`${b} 사용률 ${g}%`,v=`h-full rounded-full transition-all duration-500 ${y}`,w=`${g}%`;return h[16]!==w?(d={width:w},h[16]=w,h[17]=d):d=h[17],h[18]!==d||h[19]!==v?(x=(0,t.jsx)("div",{className:v,style:d}),h[18]=d,h[19]=v,h[20]=x):x=h[20],h[21]!==g||h[22]!==x||h[23]!==k?(m=(0,t.jsx)("div",{className:"h-1.5 overflow-hidden rounded-full bg-gray-200 dark:bg-white/[0.06]",role:"progressbar","aria-valuenow":g,"aria-valuemin":0,"aria-valuemax":100,"aria-label":k,children:x}),h[21]=g,h[22]=x,h[23]=k,h[24]=m):m=h[24],h[25]!==m||h[26]!==c?(u=(0,t.jsxs)("div",{className:"space-y-1",children:[c,m]}),h[25]=m,h[26]=c,h[27]=u):u=h[27],u}function ej(e){let s,a,l,n,i,o,c=(0,r.c)(18),{account:d}=e,x="claude-viewster"===d.id,m=x?"bg-violet-500":"bg-cyan-500",u=`text-sm font-bold ${x?"text-accent-violet":"text-accent-indigo"}`;return c[0]!==d.label||c[1]!==u?(s=(0,t.jsx)("span",{className:u,children:d.label}),c[0]=d.label,c[1]=u,c[2]=s):s=c[2],c[3]!==d.id?(a=(0,t.jsx)("span",{className:"text-xs text-text-muted",children:d.id}),c[3]=d.id,c[4]=a):a=c[4],c[5]!==s||c[6]!==a?(l=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s,a]}),c[5]=s,c[6]=a,c[7]=l):l=c[7],c[8]!==d.error||c[9]!==d.usage?(n=d.error&&!d.usage&&(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"데이터 없음"}),c[8]=d.error,c[9]=d.usage,c[10]=n):n=c[10],c[11]!==m||c[12]!==d.usage?(i=d.usage&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eg,{label:"5시간",info:d.usage.five_hour,accentBarColor:m}),(0,t.jsx)(eg,{label:"7일",info:d.usage.seven_day,accentBarColor:m}),(0,t.jsx)(eg,{label:"7일 소넷",info:d.usage.seven_day_sonnet,accentBarColor:m})]}),c[11]=m,c[12]=d.usage,c[13]=i):i=c[13],c[14]!==l||c[15]!==n||c[16]!==i?(o=(0,t.jsxs)("div",{className:"space-y-2.5",children:[l,n,i]}),c[14]=l,c[15]=n,c[16]=i,c[17]=o):o=c[17],o}function ey(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-1","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-2.5 w-10 rounded bg-gray-200 dark:bg-white/[0.06]"}),(0,t.jsx)("div",{className:"h-2.5 w-8 rounded bg-gray-200 dark:bg-white/[0.06]"})]}),(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-gray-100 dark:bg-white/[0.04]"})]}),s[0]=e):e=s[0],e}function ek(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-2.5","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-16 rounded bg-gray-200 dark:bg-white/[0.08]"}),(0,t.jsx)("div",{className:"h-2.5 w-24 rounded bg-gray-100 dark:bg-white/[0.04]"})]}),(0,t.jsx)(ey,{}),(0,t.jsx)(ey,{}),(0,t.jsx)(ey,{})]}),s[0]=e):e=s[0],e}function ev(e){let s,a,l=(0,r.c)(6),{accounts:n,loading:i}=e;if(i){let e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량 로딩중",children:(0,t.jsx)("div",{className:"space-y-4",children:[0,1].map(eN)})}),l[0]=e):e=l[0],e}if(0===n.length){let e;return l[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량",children:(0,t.jsx)("p",{className:"text-center text-xs text-text-muted py-2",children:"사용량 데이터 없음"})}),l[1]=e):e=l[1],e}return l[2]!==n?(s=n.map(ew),l[2]=n,l[3]=s):s=l[3],l[4]!==s?(a=(0,t.jsx)("section",{"aria-label":"계정 사용량",children:(0,t.jsx)("div",{className:"space-y-4",children:s})}),l[4]=s,l[5]=a):a=l[5],a}function ew(e,r){return(0,t.jsx)("div",{className:r>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(ej,{account:e})},e.id)}function eN(e){return(0,t.jsx)("div",{className:e>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(ek,{})},e)}function e_(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function eS(e){let s,a,l,n=(0,r.c)(7),{label:i,value:o}=e;return n[0]!==i?(s=(0,t.jsx)("span",{className:"text-xs text-text-muted whitespace-nowrap",children:i}),n[0]=i,n[1]=s):s=n[1],n[2]!==o?(a=(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary tabular-nums truncate max-w-full",children:o}),n[2]=o,n[3]=a):a=n[3],n[4]!==s||n[5]!==a?(l=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-gray-100 dark:bg-white/[0.04] px-3 py-2 min-w-0",children:[s,a]}),n[4]=s,n[5]=a,n[6]=l):l=n[6],l}function eL(e){let s,a,l,n,i,o,c,d,x,m,u,h,b,p,f,g,j,y,k,v,w,N,_,S,L=(0,r.c)(61),{agent:$}=e;if(!$){let e;return L[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"에이전트 상세",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-center",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gray-100 dark:bg-white/[0.04] text-text-muted","aria-hidden":"true",children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),(0,t.jsx)("path",{d:"M9 16.5h6"})]})}),(0,t.jsx)("p",{className:"text-base text-text-muted",children:"에이전트를 선택하세요"})]})}),L[0]=e):e=L[0],e}let C=$.inputTokens+$.outputTokens,M=`${$.name} 에이전트 상세`;L[1]!==$.id||L[2]!==$.status?(s=(0,t.jsx)(T,{agentId:$.id,status:$.status,size:"lg"}),L[1]=$.id,L[2]=$.status,L[3]=s):s=L[3],L[4]!==$.name?(a=(0,t.jsx)("h3",{className:"text-lg font-bold text-text-primary",children:$.name}),L[4]=$.name,L[5]=a):a=L[5],L[6]!==$.role?(l=$.role&&(0,t.jsx)("p",{className:"text-sm text-accent-indigo font-medium",children:$.role}),L[6]=$.role,L[7]=l):l=L[7],L[8]!==$.status?(n=(0,t.jsx)(B,{status:$.status,size:"sm"}),L[8]=$.status,L[9]=n):n=L[9],L[10]!==a||L[11]!==l||L[12]!==n?(i=(0,t.jsxs)("div",{className:"space-y-1",children:[a,l,n]}),L[10]=a,L[11]=l,L[12]=n,L[13]=i):i=L[13],L[14]!==s||L[15]!==i?(o=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[s,i]}),L[14]=s,L[15]=i,L[16]=o):o=L[16],L[17]!==$.model?(c=(0,t.jsx)(eS,{label:"모델",value:$.model}),L[17]=$.model,L[18]=c):c=L[18],L[19]!==C?(d=e_(C),L[19]=C,L[20]=d):d=L[20],L[21]!==d?(x=(0,t.jsx)(eS,{label:"총 토큰",value:d}),L[21]=d,L[22]=x):x=L[22],L[23]!==$.lastActivity?(m=function(e){if(!e)return"N/A";let t=Date.now()-e;if(t<6e4)return"방금 전";let r=Math.floor(t/6e4);if(r<60)return`${r}분 전`;let s=Math.floor(r/60);return s<24?`${s}시간 전`:`${Math.floor(s/24)}일 전`}($.lastActivity),L[23]=$.lastActivity,L[24]=m):m=L[24],L[25]!==m?(u=(0,t.jsx)(eS,{label:"마지막 활동",value:m}),L[25]=m,L[26]=u):u=L[26];let I=String($.sessionCount??0);return L[27]!==I?(h=(0,t.jsx)(eS,{label:"세션 수",value:I}),L[27]=I,L[28]=h):h=L[28],L[29]!==x||L[30]!==u||L[31]!==h||L[32]!==c?(b=(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[c,x,u,h]}),L[29]=x,L[30]=u,L[31]=h,L[32]=c,L[33]=b):b=L[33],L[34]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-text-muted",children:"토큰 상세"}),L[34]=p):p=L[34],L[35]!==$.inputTokens?(f=e_($.inputTokens),L[35]=$.inputTokens,L[36]=f):f=L[36],L[37]!==f?(g={label:"입력",value:f,color:"text-sky-600 dark:text-sky-400"},L[37]=f,L[38]=g):g=L[38],L[39]!==$.outputTokens?(j=e_($.outputTokens),L[39]=$.outputTokens,L[40]=j):j=L[40],L[41]!==j?(y={label:"출력",value:j,color:"text-violet-600 dark:text-violet-400"},L[41]=j,L[42]=y):y=L[42],L[43]!==$.contextTokens?(k=e_($.contextTokens),L[43]=$.contextTokens,L[44]=k):k=L[44],L[45]!==k?(v={label:"컨텍스트",value:k,color:"text-text-secondary"},L[45]=k,L[46]=v):v=L[46],L[47]!==g||L[48]!==y||L[49]!==v?(w=(0,t.jsxs)("div",{className:"rounded-xl bg-gray-50 dark:bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[p,(0,t.jsx)("dl",{className:"space-y-1.5",children:[g,y,v].map(e$)})]}),L[47]=g,L[48]=y,L[49]=v,L[50]=w):w=L[50],L[51]!==$.currentTask?(N=$.currentTask&&(0,t.jsxs)("div",{className:"rounded-xl border border-accent-indigo/20 bg-accent-indigo/5 p-3 space-y-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-accent-indigo",children:"현재 작업"}),(0,t.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed",children:$.currentTask})]}),L[51]=$.currentTask,L[52]=N):N=L[52],L[53]!==b||L[54]!==w||L[55]!==N||L[56]!==o?(_=(0,t.jsxs)("div",{className:"space-y-4",children:[o,b,w,N]}),L[53]=b,L[54]=w,L[55]=N,L[56]=o,L[57]=_):_=L[57],L[58]!==M||L[59]!==_?(S=(0,t.jsx)("section",{"aria-label":M,children:_}),L[58]=M,L[59]=_,L[60]=S):S=L[60],S}function e$(e){let{label:r,value:s,color:a}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("dt",{className:"text-xs text-text-tertiary",children:r}),(0,t.jsx)("dd",{className:`text-xs font-mono font-medium tabular-nums ${a}`,children:s})]},r)}function eT(e){let s,a,l,n,i,o,c=(0,r.c)(7),{className:d}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M12 2v4m-3-1v2m6-2v2"}),a=(0,t.jsx)("rect",{x:"5",y:"6",width:"14",height:"14",rx:"3"}),l=(0,t.jsx)("circle",{cx:"9.5",cy:"13",r:"1.5"}),n=(0,t.jsx)("circle",{cx:"14.5",cy:"13",r:"1.5"}),i=(0,t.jsx)("path",{d:"M9 17h6"}),c[0]=s,c[1]=a,c[2]=l,c[3]=n,c[4]=i):(s=c[0],a=c[1],l=c[2],n=c[3],i=c[4]),c[5]!==d?(o=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:d,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[s,a,l,n,i]}),c[5]=d,c[6]=o):o=c[6],o}function eC(e){let s,a,l=(0,r.c)(3),{className:n}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}),l[0]=s):s=l[0],l[1]!==n?(a=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:n,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:s}),l[1]=n,l[2]=a):a=l[2],a}function eB(e){let s,a,l=(0,r.c)(3),{className:n}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"}),l[0]=s):s=l[0],l[1]!==n?(a=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:n,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:s}),l[1]=n,l[2]=a):a=l[2],a}function eM(e){let s,a,l,n=(0,r.c)(4),{className:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a=(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"}),n[0]=s,n[1]=a):(s=n[0],a=n[1]),n[2]!==i?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[s,a]}),n[2]=i,n[3]=l):l=n[3],l}function eI(e){let s,a,l,n=(0,r.c)(4),{className:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),a=(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"}),n[0]=s,n[1]=a):(s=n[0],a=n[1]),n[2]!==i?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[s,a]}),n[2]=i,n[3]=l):l=n[3],l}function eA(e){let s,a,l=(0,r.c)(3),{open:n,className:i}=e,o=`${i} transition-transform duration-200 ${n?"rotate-90":""}`;return l[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"}),l[0]=s):s=l[0],l[1]!==o?(a=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:o,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:s}),l[1]=o,l[2]=a):a=l[2],a}function ez(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 w-24 rounded bg-gray-200 dark:bg-white/[0.06] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-full rounded-lg bg-gray-100 dark:bg-white/[0.04] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-full rounded-lg bg-gray-100 dark:bg-white/[0.04] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-3/4 rounded-lg bg-gray-100 dark:bg-white/[0.04] animate-pulse"})]}),s[0]=e):e=s[0],e}function eW(e){let s,a,l=(0,r.c)(9),{items:n,icon:i,emptyText:o}=e;if(0===n.length){let e;return l[0]!==o?(e=(0,t.jsx)("p",{className:"text-xs text-text-muted",children:o}),l[0]=o,l[1]=e):e=l[1],e}if(l[2]!==i||l[3]!==n){let e;l[5]!==i?(e=e=>(0,t.jsxs)("li",{className:"flex items-center gap-2 rounded-lg bg-gray-50 dark:bg-white/[0.03] border border-border-subtle px-2.5 py-2",children:[i,(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:e.name}),e.sub&&(0,t.jsx)("p",{className:"text-xs text-text-muted truncate",children:e.sub})]})]},e.name),l[5]=i,l[6]=e):e=l[6],s=n.map(e),l[2]=i,l[3]=n,l[4]=s}else s=l[4];return l[7]!==s?(a=(0,t.jsx)("ul",{className:"space-y-1.5",children:s}),l[7]=s,l[8]=a):a=l[8],a}function eD(e){let s,a,l,n,i,o=(0,r.c)(16),{tools:c,agentName:d}=e;return o[0]!==c.allowed?(s=c.allowed.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-emerald-600 dark:text-emerald-400 mb-1.5",children:"허용 도구"}),(0,t.jsx)("ul",{className:"space-y-1",children:c.allowed.map(eO)})]}),o[0]=c.allowed,o[1]=s):s=o[1],o[2]!==c.forbidden?(a=c.forbidden.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-rose-600 dark:text-rose-400 mb-1.5",children:"금지 도구"}),(0,t.jsx)("ul",{className:"space-y-1",children:c.forbidden.map(eE)})]}),o[2]=c.forbidden,o[3]=a):a=o[3],o[4]!==c.cron?(l=c.cron.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-sky-600 dark:text-sky-400 mb-1.5",children:"Cron 작업"}),(0,t.jsx)("ul",{className:"space-y-1",children:c.cron.map(eP)})]}),o[4]=c.cron,o[5]=l):l=o[5],o[6]!==d||o[7]!==c.allowed.length||o[8]!==c.cron.length||o[9]!==c.forbidden.length?(n=0===c.allowed.length&&0===c.forbidden.length&&0===c.cron.length&&(0,t.jsxs)("p",{className:"text-xs text-text-muted",children:[d,"의 도구 설정 없음"]}),o[6]=d,o[7]=c.allowed.length,o[8]=c.cron.length,o[9]=c.forbidden.length,o[10]=n):n=o[10],o[11]!==s||o[12]!==a||o[13]!==l||o[14]!==n?(i=(0,t.jsxs)("div",{className:"space-y-3",children:[s,a,l,n]}),o[11]=s,o[12]=a,o[13]=l,o[14]=n,o[15]=i):i=o[15],i}function eP(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-sm text-text-secondary",children:[(0,t.jsx)(eI,{className:"h-3 w-3 text-sky-600 dark:text-sky-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eE(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-sm text-text-secondary",children:[(0,t.jsx)(eM,{className:"h-3 w-3 text-rose-600 dark:text-rose-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eO(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-sm text-text-secondary",children:[(0,t.jsx)(eB,{className:"h-3 w-3 text-emerald-600 dark:text-emerald-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eU(e){let s,l,n,i,o,c,d,x=(0,r.c)(20),{title:m,count:u,icon:h,defaultOpen:b,children:p}=e,[f,g]=(0,a.useState)(void 0!==b&&b);return x[0]!==f?(s=()=>g(!f),x[0]=f,x[1]=s):s=x[1],x[2]!==m?(l=(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary flex-1",children:m}),x[2]=m,x[3]=l):l=x[3],x[4]!==u?(n=(0,t.jsx)("span",{className:"text-xs font-medium text-text-muted bg-gray-200 dark:bg-white/[0.06] rounded-full px-2 py-0.5",children:u}),x[4]=u,x[5]=n):n=x[5],x[6]!==f?(i=(0,t.jsx)(eA,{open:f,className:"h-3.5 w-3.5 text-text-muted"}),x[6]=f,x[7]=i):i=x[7],x[8]!==h||x[9]!==s||x[10]!==l||x[11]!==n||x[12]!==i?(o=(0,t.jsxs)("button",{onClick:s,className:"flex items-center gap-2 w-full px-3 py-2.5 text-left hover:bg-gray-50 dark:bg-white/[0.02] transition-colors cursor-pointer",children:[h,l,n,i]}),x[8]=h,x[9]=s,x[10]=l,x[11]=n,x[12]=i,x[13]=o):o=x[13],x[14]!==p||x[15]!==f?(c=f&&(0,t.jsx)("div",{className:"px-3 pb-3 pt-1 border-t border-border-subtle",children:p}),x[14]=p,x[15]=f,x[16]=c):c=x[16],x[17]!==o||x[18]!==c?(d=(0,t.jsxs)("div",{className:"rounded-xl bg-gray-50 dark:bg-white/[0.02] border border-border-subtle overflow-hidden",children:[o,c]}),x[17]=o,x[18]=c,x[19]=d):d=x[19],d}function eR(e){let s,a,l,n,i,o,c,d,x,m,u,h=(0,r.c)(27),{environment:b,loading:p,selectedAgentId:f,selectedAgentName:g}=e;if(p&&!b){let e;return h[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(ez,{}),h[0]=e):e=h[0],e}if(!b){let e;return h[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"환경 정보 없음"}),h[1]=e):e=h[1],e}if(f&&b.agentTools[f]){let e,r,s=b.agentTools[f];if(!(s.allowed.length>0||s.forbidden.length>0||s.cron.length>0))return null;h[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-text-muted",children:"도구 설정"}),h[2]=e):e=h[2];let a=g||f;return h[3]!==a||h[4]!==s?(r=(0,t.jsxs)("div",{className:"rounded-xl bg-gray-50 dark:bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[e,(0,t.jsx)(eD,{tools:s,agentName:a})]}),h[3]=a,h[4]=s,h[5]=r):r=h[5],r}h[6]!==b.plugins?(s=b.plugins.map(eq),h[6]=b.plugins,h[7]=s):s=h[7];let j=s;h[8]!==b.skills?(a=b.skills.map(eH),h[8]=b.skills,h[9]=a):a=h[9];let y=a;return h[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(eT,{className:"h-4 w-4 text-accent-indigo shrink-0"}),h[10]=l):l=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(eT,{className:"h-3.5 w-3.5 text-accent-indigo shrink-0"}),h[11]=n):n=h[11],h[12]!==j?(i=(0,t.jsx)(eW,{items:j,icon:n,emptyText:"플러그인 없음"}),h[12]=j,h[13]=i):i=h[13],h[14]!==b.plugins.length||h[15]!==i?(o=(0,t.jsx)(eU,{title:"플러그인",count:b.plugins.length,icon:l,defaultOpen:!1,children:i}),h[14]=b.plugins.length,h[15]=i,h[16]=o):o=h[16],h[17]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(eC,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 shrink-0"}),h[17]=c):c=h[17],h[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(eC,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-400 shrink-0"}),h[18]=d):d=h[18],h[19]!==y?(x=(0,t.jsx)(eW,{items:y,icon:d,emptyText:"스킬 없음"}),h[19]=y,h[20]=x):x=h[20],h[21]!==b.skills.length||h[22]!==x?(m=(0,t.jsx)(eU,{title:"스킬",count:b.skills.length,icon:c,defaultOpen:!1,children:x}),h[21]=b.skills.length,h[22]=x,h[23]=m):m=h[23],h[24]!==m||h[25]!==o?(u=(0,t.jsxs)("div",{className:"space-y-2.5",children:[o,m]}),h[24]=m,h[25]=o,h[26]=u):u=h[26],u}function eH(e){return{name:e.name,sub:e.description||void 0}}function eq(e){return{name:e.name,sub:e.marketplace}}function eF(e){let s,a=(0,r.c)(2),{children:l}=e;return a[0]!==l?(s=(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-text-muted mb-2.5",children:l}),a[0]=l,a[1]=s):s=a[1],s}function eK(e){let s,a,l,n,i,o,c,d,x,m,u,h=(0,r.c)(28),{stats:b,statsLoading:p,accounts:f,usageLoading:g,selectedAgent:j,environment:y,environmentLoading:k,className:v}=e,w=`flex flex-col gap-5 overflow-y-auto px-4 py-5 ${v??""}`;h[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(eF,{children:"통계"}),h[0]=s):s=h[0],h[1]!==b||h[2]!==p?(a=(0,t.jsxs)("div",{children:[s,(0,t.jsx)(ep,{stats:b,loading:p})]}),h[1]=b,h[2]=p,h[3]=a):a=h[3],h[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),n=(0,t.jsx)(eF,{children:"사용량"}),h[4]=l,h[5]=n):(l=h[4],n=h[5]),h[6]!==f||h[7]!==g?(i=(0,t.jsxs)("div",{children:[n,(0,t.jsx)(ev,{accounts:f,loading:g})]}),h[6]=f,h[7]=g,h[8]=i):i=h[8],h[9]!==j?(o=null!==j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eF,{children:"에이전트 상세"}),(0,t.jsx)(eL,{agent:j})]})]}),h[9]=j,h[10]=o):o=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),h[11]=c):c=h[11];let N=j?"도구 & 환경":"시스템 환경";h[12]!==N?(d=(0,t.jsx)(eF,{children:N}),h[12]=N,h[13]=d):d=h[13];let _=j?.id??null,S=j?.name??null;return h[14]!==y||h[15]!==k||h[16]!==_||h[17]!==S?(x=(0,t.jsx)(eR,{environment:y,loading:k,selectedAgentId:_,selectedAgentName:S}),h[14]=y,h[15]=k,h[16]=_,h[17]=S,h[18]=x):x=h[18],h[19]!==d||h[20]!==x?(m=(0,t.jsxs)("div",{children:[d,x]}),h[19]=d,h[20]=x,h[21]=m):m=h[21],h[22]!==w||h[23]!==m||h[24]!==a||h[25]!==i||h[26]!==o?(u=(0,t.jsxs)("div",{className:w,children:[a,l,i,o,c,m]}),h[22]=w,h[23]=m,h[24]=a,h[25]=i,h[26]=o,h[27]=u):u=h[27],u}function eQ(){let e,s,l,i,o,h=(0,r.c)(20),{agents:b,selectedAgent:p,selectedAgentId:f,selectAgent:g,loading:y,connected:k}=function(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,x]=(0,a.useState)(!0),[m,u]=(0,a.useState)(null),[h,b]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null),g=(0,a.useRef)(new Map),j=(0,a.useCallback)(async()=>{try{let e=await fetch(`${c}/api/agents`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json(),a=(r.data??r).map(d);t(a),s(function(e){let t=new Map(e.map(e=>[e.id,e])),r=[];for(let[s,a]of Object.entries(n)){let l=t.get(s);if(!l)continue;let n=a.members.map(t=>{let r=e.find(e=>e.id===t.id);return r?{id:r.id,name:t.name,role:t.role,model:r.model||t.model,status:r.status,isPlaceholder:!1,lastActivity:r.lastActivity,inputTokens:r.inputTokens,outputTokens:r.outputTokens}:{id:t.id,name:t.name,role:t.role,model:t.model,status:"offline",isPlaceholder:!0}});r.push({pm:l,members:n,label:a.label,description:a.description})}return r}(a)),b(!0),u(null);let l=g.current,o=[],x=Date.now();for(let e of a){let t=l.get(e.id);void 0!==t&&t!==e.status&&o.push({time:x,agentName:e.name,status:e.status})}o.length>0&&i(e=>[...o,...e].slice(0,20));let m=new Map;for(let e of a)m.set(e.id,e.status);g.current=m}catch(e){u(e instanceof Error?e.message:"Failed to fetch agents"),b(!1)}finally{x(!1)}},[]);(0,a.useEffect)(()=>{j();let e=setInterval(j,1e4);return()=>clearInterval(e)},[j]);let y=e.find(e=>"pm"===e.id)||null,k=p&&e.find(e=>e.id===p)||null;return{agents:e,teams:r,headPM:y,activities:l,selectedAgent:k,selectedAgentId:p,selectAgent:(0,a.useCallback)(e=>{f(t=>t===e?null:e)},[]),loading:o,error:m,connected:h}}(),{stats:v,loading:w}=function(){let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[l,n]=(0,a.useState)(null),i=(0,a.useCallback)(async()=>{try{let e=await fetch(`${x}/api/stats`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json(),s=r.data??r;t(s),n(null)}catch(e){n(e instanceof Error?e.message:"Failed to fetch stats")}finally{s(!1)}},[]);return(0,a.useEffect)(()=>{i();let e=setInterval(i,1e4);return()=>clearInterval(e)},[i]),{stats:e,loading:r,error:l}}(),{accounts:N,loading:_}=function(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),l=(0,a.useCallback)(async()=>{try{let e=await fetch(`${m}/api/usage`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json();t(r.data??[])}catch{}finally{s(!1)}},[]);return(0,a.useEffect)(()=>{l();let e=setInterval(l,6e4);return()=>clearInterval(e)},[l]),{accounts:e,loading:r}}(),{environment:S,loading:L}=function(){let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),l=(0,a.useCallback)(async()=>{try{let e=await fetch(`${u}/api/environment`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json();t(r.data??null)}catch{}finally{s(!1)}},[]);return(0,a.useEffect)(()=>{l();let e=setInterval(l,3e5);return()=>clearInterval(e)},[l]),{environment:e,loading:r}}();return h[0]!==b||h[1]!==y?(e=y?[]:b,h[0]=b,h[1]=y,h[2]=e):e=h[2],h[3]!==g||h[4]!==f||h[5]!==e?(s=(0,t.jsx)(W,{agents:e,selectedAgentId:f,onSelectAgent:g}),h[3]=g,h[4]=f,h[5]=e,h[6]=s):s=h[6],h[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(ei,{}),h[7]=l):l=h[7],h[8]!==L||h[9]!==S||h[10]!==p||h[11]!==v||h[12]!==w||h[13]!==N||h[14]!==_?(i=(0,t.jsx)(eK,{stats:v,statsLoading:w,accounts:N,usageLoading:_,selectedAgent:p,environment:S,environmentLoading:L}),h[8]=L,h[9]=S,h[10]=p,h[11]=v,h[12]=w,h[13]=N,h[14]=_,h[15]=i):i=h[15],h[16]!==k||h[17]!==s||h[18]!==i?(o=(0,t.jsx)(j,{connected:k,leftPanel:s,centerPanel:l,rightPanel:i}),h[16]=k,h[17]=s,h[18]=i,h[19]=o):o=h[19],o}e.s(["default",()=>eQ],52683)}]);