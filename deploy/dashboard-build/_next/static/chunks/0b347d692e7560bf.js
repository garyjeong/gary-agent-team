(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(47167),r=e.i(71645);let a={pm:{name:"시윤",role:"통합 PM",color:"indigo"},"viewster-pm":{name:"준서",role:"Viewster 전담 PM",parent:"pm",color:"pink"},"gary-pm":{name:"도윤",role:"Gary 프로젝트 전담 PM",parent:"pm",color:"emerald"}},n={"viewster-pm":{label:"Viewster",description:"YouTube 기반 리워드 영상 시청 플랫폼",members:[{id:"viewster-be",name:"BE",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"viewster-web",name:"Web",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"viewster-mobile",name:"Mobile",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"viewster-design",name:"Design",role:"UI/UX 디자인",model:"gemini-2.5-pro"},{id:"viewster-qa",name:"QA",role:"품질보증/테스트",model:"gemini-2.5-pro"}]},"gary-pm":{label:"Gary Projects",description:"Nestack, gold-message, lotto-pick 등 개인 프로젝트",members:[{id:"gary-be",name:"BE",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"gary-web",name:"Web",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"gary-mobile",name:"Mobile",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"gary-design",name:"Design",role:"UI/UX 디자인",model:"gemini-2.5-pro"},{id:"gary-qa",name:"QA",role:"품질보증/테스트",model:"gemini-2.5-pro"}]}},i={pm:{text:"text-indigo-500 dark:text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20",ring:"ring-indigo-500/20",chatBorder:"border-l-indigo-500"},"viewster-pm":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"gary-pm":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"}},c=["pm","viewster-pm","gary-pm"],o=l.default.env.NEXT_PUBLIC_API_URL||"";function d(e){let t=a[e.id];return t?{...e,name:t.name,role:t.role,parent:t.parent}:e}let x=l.default.env.NEXT_PUBLIC_API_URL||"",m=l.default.env.NEXT_PUBLIC_API_URL||"";var u=e.i(65150);function h(){let e,l,r,a=(0,s.c)(9),{resolved:n,setTheme:i}=(0,u.useTheme)();a[0]!==n||a[1]!==i?(e=()=>{i("dark"===n?"light":"dark")},a[0]=n,a[1]=i,a[2]=e):e=a[2];let c=e,o="dark"===n?"라이트 모드로 전환":"다크 모드로 전환";return a[3]!==n?(l="dark"===n?(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),a[3]=n,a[4]=l):l=a[4],a[5]!==o||a[6]!==l||a[7]!==c?(r=(0,t.jsx)("button",{onClick:c,className:"flex h-9 w-9 items-center justify-center rounded-xl bg-surface-hover transition-colors hover:bg-surface-light cursor-pointer","aria-label":o,children:l}),a[5]=o,a[6]=l,a[7]=c,a[8]=r):r=a[8],r}function p(e){let l,r,a,n,i,c,o,d,x=(0,s.c)(17),{connected:m}=e;x[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("span",{className:"text-sm font-semibold tracking-tight text-text-primary",children:"Gary Agent Team"}),(0,t.jsx)("span",{className:"rounded-md bg-accent-indigo/10 px-2 py-0.5 text-xs font-medium text-accent-indigo","aria-label":"Dashboard",children:"Dashboard"})]}),x[0]=l):l=x[0];let u=m?"연결됨":"연결 끊김";x[1]!==m?(r=m&&(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-accent-emerald opacity-60"}),x[1]=m,x[2]=r):r=x[2];let p=`relative inline-flex h-2 w-2 rounded-full ${m?"bg-accent-emerald":"bg-accent-rose"}`;x[3]!==p?(a=(0,t.jsx)("span",{className:p}),x[3]=p,x[4]=a):a=x[4],x[5]!==r||x[6]!==a?(n=(0,t.jsxs)("span",{className:"relative flex h-2 w-2 items-center justify-center",children:[r,a]}),x[5]=r,x[6]=a,x[7]=n):n=x[7];let f=m?"연결됨":"연결 끊김";return x[8]!==f?(i=(0,t.jsx)("span",{className:"hidden text-xs font-medium text-text-secondary sm:inline",children:f}),x[8]=f,x[9]=i):i=x[9],x[10]!==u||x[11]!==n||x[12]!==i?(c=(0,t.jsxs)("div",{className:"flex items-center gap-1.5",role:"status","aria-live":"polite","aria-label":u,children:[n,i]}),x[10]=u,x[11]=n,x[12]=i,x[13]=c):c=x[13],x[14]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(h,{}),x[14]=o):o=x[14],x[15]!==c?(d=(0,t.jsxs)("header",{className:"sticky top-0 z-10 flex h-12 shrink-0 items-center justify-between border-b border-border-subtle bg-background/80 px-4 backdrop-blur-xl lg:px-6",role:"banner",children:[l,(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[c,o]})]}),x[15]=c,x[16]=d):d=x[16],d}let f=[{id:"chat",label:"채팅",icon:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{id:"agents",label:"에이전트",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"detail",label:"상세",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,t.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,t.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}];function b(e){let l,r,a=(0,s.c)(5),{activeTab:n,onTabChange:i}=e;return a[0]!==n||a[1]!==i?(l=f.map(e=>{let s=n===e.id;return(0,t.jsxs)("button",{role:"tab","aria-selected":s,"aria-label":e.label,onClick:()=>i(e.id),className:`flex min-h-[48px] flex-1 flex-col items-center justify-center gap-1 px-2 py-2 text-xs font-medium transition-colors ${s?"text-accent-indigo":"text-text-muted hover:text-text-secondary"}`,children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.id)}),a[0]=n,a[1]=i,a[2]=l):l=a[2],a[3]!==l?(r=(0,t.jsx)("nav",{className:"safe-bottom border-t border-border-subtle bg-surface/80 backdrop-blur-lg md:hidden",role:"tablist","aria-label":"모바일 탭 네비게이션",children:(0,t.jsx)("div",{className:"flex",children:l})}),a[3]=l,a[4]=r):r=a[4],r}function j(e){let l,a,n,i,c,o,d,x,m,u,h,f,j,g,y,v=(0,s.c)(42),{connected:k,leftPanel:N,centerPanel:w,rightPanel:_}=e,[$,L]=(0,r.useState)("chat");return v[0]!==k?(l=(0,t.jsx)(p,{connected:k}),v[0]=k,v[1]=l):l=v[1],v[2]!==N?(a=(0,t.jsx)("aside",{className:"w-[280px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:N}),v[2]=N,v[3]=a):a=v[3],v[4]!==w?(n=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:w}),v[4]=w,v[5]=n):n=v[5],v[6]!==_?(i=(0,t.jsx)("aside",{className:"w-[320px] shrink-0 border-l border-border-subtle overflow-y-auto","aria-label":"상세 정보",children:_}),v[6]=_,v[7]=i):i=v[7],v[8]!==a||v[9]!==n||v[10]!==i?(c=(0,t.jsxs)("div",{className:"hidden xl:flex flex-1 min-h-0",children:[a,n,i]}),v[8]=a,v[9]=n,v[10]=i,v[11]=c):c=v[11],v[12]!==N?(o=(0,t.jsx)("aside",{className:"w-[240px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:N}),v[12]=N,v[13]=o):o=v[13],v[14]!==w?(d=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:w}),v[14]=w,v[15]=d):d=v[15],v[16]!==o||v[17]!==d?(x=(0,t.jsxs)("div",{className:"hidden md:flex xl:hidden flex-1 min-h-0",children:[o,d]}),v[16]=o,v[17]=d,v[18]=x):x=v[18],v[19]!==$||v[20]!==w?(m="chat"===$&&(0,t.jsx)("main",{"aria-label":"채팅",className:"h-full",children:w}),v[19]=$,v[20]=w,v[21]=m):m=v[21],v[22]!==$||v[23]!==N?(u="agents"===$&&(0,t.jsx)("section",{"aria-label":"에이전트 목록",className:"h-full",children:N}),v[22]=$,v[23]=N,v[24]=u):u=v[24],v[25]!==$||v[26]!==_?(h="detail"===$&&(0,t.jsx)("section",{"aria-label":"상세 정보",className:"h-full",children:_}),v[25]=$,v[26]=_,v[27]=h):h=v[27],v[28]!==u||v[29]!==h||v[30]!==m?(f=(0,t.jsxs)("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[m,u,h]}),v[28]=u,v[29]=h,v[30]=m,v[31]=f):f=v[31],v[32]!==$?(j=(0,t.jsx)(b,{activeTab:$,onTabChange:L}),v[32]=$,v[33]=j):j=v[33],v[34]!==f||v[35]!==j?(g=(0,t.jsxs)("div",{className:"flex md:hidden flex-1 min-h-0 flex-col",children:[f,j]}),v[34]=f,v[35]=j,v[36]=g):g=v[36],v[37]!==l||v[38]!==g||v[39]!==c||v[40]!==x?(y=(0,t.jsxs)("div",{className:"h-dvh flex flex-col bg-background",children:[l,c,x,g]}),v[37]=l,v[38]=g,v[39]=c,v[40]=x,v[41]=y):y=v[41],y}function g(e){let l,r,a,n,i,c,o,d,x,m,u,h,p,f,b,j,g,y,v,k,N,w=(0,s.c)(22),{className:_}=e;return w[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("polygon",{points:"8,28 16,6 26,24",fill:"#6366f1"}),h=(0,t.jsx)("polygon",{points:"11,26 16,11 23,24",fill:"#a5b4fc"}),f=(0,t.jsx)("polygon",{points:"56,28 48,6 38,24",fill:"#6366f1"}),b=(0,t.jsx)("polygon",{points:"53,26 48,11 41,24",fill:"#a5b4fc"}),j=(0,t.jsx)("circle",{cx:"32",cy:"36",r:"22",fill:"#818cf8"}),g=(0,t.jsx)("ellipse",{cx:"32",cy:"44",rx:"11",ry:"8",fill:"#a5b4fc"}),y=(0,t.jsx)("ellipse",{cx:"24",cy:"33",rx:"5",ry:"5.5",fill:"white"}),v=(0,t.jsx)("ellipse",{cx:"40",cy:"33",rx:"5",ry:"5.5",fill:"white"}),k=(0,t.jsx)("ellipse",{cx:"24",cy:"34",rx:"2.8",ry:"3.5",fill:"#312e81"}),r=(0,t.jsx)("ellipse",{cx:"40",cy:"34",rx:"2.8",ry:"3.5",fill:"#312e81"}),a=(0,t.jsx)("circle",{cx:"25.2",cy:"32.2",r:"1.2",fill:"white"}),n=(0,t.jsx)("circle",{cx:"41.2",cy:"32.2",r:"1.2",fill:"white"}),i=(0,t.jsx)("ellipse",{cx:"32",cy:"41",rx:"2.2",ry:"1.6",fill:"#4338ca"}),c=(0,t.jsx)("path",{d:"M29.5 43.5 Q32 46 34.5 43.5",stroke:"#4338ca",strokeWidth:"1.2",strokeLinecap:"round",fill:"none"}),o=(0,t.jsx)("line",{x1:"10",y1:"41",x2:"24",y2:"42.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),d=(0,t.jsx)("line",{x1:"10",y1:"44",x2:"24",y2:"44",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),x=(0,t.jsx)("line",{x1:"10",y1:"47",x2:"24",y2:"45.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),m=(0,t.jsx)("line",{x1:"54",y1:"41",x2:"40",y2:"42.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),u=(0,t.jsx)("line",{x1:"54",y1:"44",x2:"40",y2:"44",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),p=(0,t.jsx)("line",{x1:"54",y1:"47",x2:"40",y2:"45.5",stroke:"#4338ca",strokeWidth:"0.9",strokeLinecap:"round",opacity:"0.7"}),w[0]=l,w[1]=r,w[2]=a,w[3]=n,w[4]=i,w[5]=c,w[6]=o,w[7]=d,w[8]=x,w[9]=m,w[10]=u,w[11]=h,w[12]=p,w[13]=f,w[14]=b,w[15]=j,w[16]=g,w[17]=y,w[18]=v,w[19]=k):(l=w[0],r=w[1],a=w[2],n=w[3],i=w[4],c=w[5],o=w[6],d=w[7],x=w[8],m=w[9],u=w[10],h=w[11],p=w[12],f=w[13],b=w[14],j=w[15],g=w[16],y=w[17],v=w[18],k=w[19]),w[20]!==_?(N=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:_,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"시윤 아바타",role:"img",children:[l,h,f,b,j,g,y,v,k,r,a,n,i,c,o,d,x,m,u,p]}),w[20]=_,w[21]=N):N=w[21],N}function y(e){let l,r,a,n,i,c,o,d,x,m,u,h,p,f,b,j,g,y=(0,s.c)(18),{className:v}=e;return y[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("circle",{cx:"13",cy:"18",r:"8",fill:"#ec4899"}),x=(0,t.jsx)("circle",{cx:"13",cy:"18",r:"4.5",fill:"#fbcfe8"}),m=(0,t.jsx)("circle",{cx:"51",cy:"18",r:"8",fill:"#ec4899"}),u=(0,t.jsx)("circle",{cx:"51",cy:"18",r:"4.5",fill:"#fbcfe8"}),h=(0,t.jsx)("circle",{cx:"32",cy:"36",r:"22",fill:"#f472b6"}),p=(0,t.jsx)("ellipse",{cx:"32",cy:"46",rx:"12",ry:"9",fill:"#fbcfe8"}),f=(0,t.jsx)("circle",{cx:"24",cy:"32",r:"5",fill:"white"}),b=(0,t.jsx)("circle",{cx:"40",cy:"32",r:"5",fill:"white"}),j=(0,t.jsx)("circle",{cx:"24.5",cy:"32.8",r:"3",fill:"#831843"}),r=(0,t.jsx)("circle",{cx:"40.5",cy:"32.8",r:"3",fill:"#831843"}),a=(0,t.jsx)("circle",{cx:"25.5",cy:"31.4",r:"1.2",fill:"white"}),n=(0,t.jsx)("circle",{cx:"41.5",cy:"31.4",r:"1.2",fill:"white"}),i=(0,t.jsx)("ellipse",{cx:"32",cy:"41.5",rx:"3.5",ry:"2.5",fill:"#be185d"}),c=(0,t.jsx)("path",{d:"M29 44.5 Q32 48 35 44.5",stroke:"#be185d",strokeWidth:"1.3",strokeLinecap:"round",fill:"none"}),o=(0,t.jsx)("ellipse",{cx:"19",cy:"39",rx:"4",ry:"2.5",fill:"#fda4af",opacity:"0.6"}),d=(0,t.jsx)("ellipse",{cx:"45",cy:"39",rx:"4",ry:"2.5",fill:"#fda4af",opacity:"0.6"}),y[0]=l,y[1]=r,y[2]=a,y[3]=n,y[4]=i,y[5]=c,y[6]=o,y[7]=d,y[8]=x,y[9]=m,y[10]=u,y[11]=h,y[12]=p,y[13]=f,y[14]=b,y[15]=j):(l=y[0],r=y[1],a=y[2],n=y[3],i=y[4],c=y[5],o=y[6],d=y[7],x=y[8],m=y[9],u=y[10],h=y[11],p=y[12],f=y[13],b=y[14],j=y[15]),y[16]!==v?(g=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:v,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"준서 아바타",role:"img",children:[l,x,m,u,h,p,f,b,j,r,a,n,i,c,o,d]}),y[16]=v,y[17]=g):g=y[17],g}function v(e){let l,r,a,n,i,c,o,d,x,m,u,h,p,f,b,j,g,y,v,k=(0,s.c)(20),{className:N}=e;return k[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("polygon",{points:"6,30 15,4 28,22",fill:"#10b981"}),u=(0,t.jsx)("polygon",{points:"10,28 15,9 25,22",fill:"#6ee7b7"}),h=(0,t.jsx)("polygon",{points:"58,30 49,4 36,22",fill:"#10b981"}),p=(0,t.jsx)("polygon",{points:"54,28 49,9 39,22",fill:"#6ee7b7"}),f=(0,t.jsx)("ellipse",{cx:"32",cy:"37",rx:"22",ry:"21",fill:"#34d399"}),b=(0,t.jsx)("ellipse",{cx:"32",cy:"46",rx:"13",ry:"10",fill:"#d1fae5"}),j=(0,t.jsx)("ellipse",{cx:"23",cy:"32",rx:"5",ry:"5",fill:"white"}),g=(0,t.jsx)("ellipse",{cx:"41",cy:"32",rx:"5",ry:"5",fill:"white"}),y=(0,t.jsx)("ellipse",{cx:"23.5",cy:"32.5",rx:"2.8",ry:"3.2",fill:"#064e3b"}),r=(0,t.jsx)("ellipse",{cx:"41.5",cy:"32.5",rx:"2.8",ry:"3.2",fill:"#064e3b"}),a=(0,t.jsx)("circle",{cx:"24.5",cy:"31",r:"1.1",fill:"white"}),n=(0,t.jsx)("circle",{cx:"42.5",cy:"31",r:"1.1",fill:"white"}),i=(0,t.jsx)("polygon",{points:"32,40 29.5,43 34.5,43",fill:"#059669"}),c=(0,t.jsx)("path",{d:"M29.5 44.5 Q32 47.5 35.5 45",stroke:"#059669",strokeWidth:"1.3",strokeLinecap:"round",fill:"none"}),o=(0,t.jsx)("ellipse",{cx:"17",cy:"38",rx:"3.5",ry:"2",fill:"#6ee7b7",opacity:"0.7"}),d=(0,t.jsx)("ellipse",{cx:"47",cy:"38",rx:"3.5",ry:"2",fill:"#6ee7b7",opacity:"0.7"}),x=(0,t.jsx)("path",{d:"M19 26.5 Q22 24.5 26 26",stroke:"#059669",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),m=(0,t.jsx)("path",{d:"M38 26 Q42 24.5 45 26.5",stroke:"#059669",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),k[0]=l,k[1]=r,k[2]=a,k[3]=n,k[4]=i,k[5]=c,k[6]=o,k[7]=d,k[8]=x,k[9]=m,k[10]=u,k[11]=h,k[12]=p,k[13]=f,k[14]=b,k[15]=j,k[16]=g,k[17]=y):(l=k[0],r=k[1],a=k[2],n=k[3],i=k[4],c=k[5],o=k[6],d=k[7],x=k[8],m=k[9],u=k[10],h=k[11],p=k[12],f=k[13],b=k[14],j=k[15],g=k[16],y=k[17]),k[18]!==N?(v=(0,t.jsxs)("svg",{viewBox:"0 0 64 64",className:N,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"도윤 아바타",role:"img",children:[l,u,h,p,f,b,j,g,y,r,a,n,i,c,o,d,x,m]}),k[18]=N,k[19]=v):v=k[19],v}let k={active:"bg-emerald-500",idle:"bg-amber-400",offline:"bg-gray-300"},N={active:"animate-pulse",idle:"",offline:""};function w(e){let l,r=(0,s.c)(3),{status:a,size:n}=e,i=`inline-block rounded-full ${"sm"===(void 0===n?"md":n)?"h-2 w-2":"h-2.5 w-2.5"} ${k[a]} ${N[a]}`;return r[0]!==a||r[1]!==i?(l=(0,t.jsx)("span",{className:i,"aria-label":a}),r[0]=a,r[1]=i,r[2]=l):l=r[2],l}let _={xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-14 w-14",xl:"h-20 w-20"},$={xs:"sm",sm:"sm",md:"md",lg:"md",xl:"md"},L={active:"animate-avatar-bounce",idle:"animate-avatar-breathe",offline:"grayscale opacity-40"};function S(e){let l,r,a,n,i=(0,s.c)(12),{agentId:c,status:o,size:d,showStatus:x}=e,m=void 0===d?"md":d,u=void 0!==x&&x;i[0]!==c?(l=function(e){switch(e){case"pm":default:return g;case"viewster-pm":return y;case"gary-pm":return v}}(c),i[0]=c,i[1]=l):l=i[1];let h=l,p=_[m],f=L[o],b=$[m],j=`${p} ${f} rounded-full transition-all duration-300`;return i[2]!==h||i[3]!==j?(r=(0,t.jsx)(h,{className:j}),i[2]=h,i[3]=j,i[4]=r):r=i[4],i[5]!==b||i[6]!==u||i[7]!==o?(a=u&&(0,t.jsx)("span",{className:"absolute bottom-0 right-0 flex items-center justify-center","aria-hidden":"true",children:(0,t.jsx)(w,{status:o,size:b})}),i[5]=b,i[6]=u,i[7]=o,i[8]=a):a=i[8],i[9]!==r||i[10]!==a?(n=(0,t.jsxs)("span",{className:"relative inline-flex items-center justify-center select-none",children:[r,a]}),i[9]=r,i[10]=a,i[11]=n):n=i[11],n}let C={active:{label:"열일중",dot:"bg-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-500 dark:text-emerald-400",pulse:!0,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},idle:{label:"쉬는중",dot:"bg-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-500 dark:text-amber-400",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 9v6m4-6v6"})})},offline:{label:"오프라인",dot:"bg-gray-400 dark:bg-gray-500",bg:"bg-gray-500/10",border:"border-gray-500/20",text:"text-gray-500",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})})}};function T(e){let l,r,a,n=(0,s.c)(11),{status:i,size:c}=e,o=void 0===c?"md":c,d=C[i],x=`inline-flex items-center gap-1 rounded-full border ${"sm"===o?"px-1.5 py-0.5":"px-2 py-0.5"} ${d.bg} ${d.border}`;n[0]!==d.icon||n[1]!==d.text?(l=(0,t.jsx)("span",{className:d.text,children:d.icon}),n[0]=d.icon,n[1]=d.text,n[2]=l):l=n[2];let m=`font-medium ${"sm"===o?"text-[10px]":"text-[11px]"} ${d.text}`;return n[3]!==d.label||n[4]!==m?(r=(0,t.jsx)("span",{className:m,children:d.label}),n[3]=d.label,n[4]=m,n[5]=r):r=n[5],n[6]!==d.label||n[7]!==x||n[8]!==l||n[9]!==r?(a=(0,t.jsxs)("span",{className:x,role:"status","aria-label":d.label,children:[l,r]}),n[6]=d.label,n[7]=x,n[8]=l,n[9]=r,n[10]=a):a=n[10],a}function M(e){let l,r,a,n,c,o,d,x,m,u,h,p=(0,s.c)(34),{agent:f,selected:b,onClick:j}=e,g=i[f.id];p[0]!==f.id?(l=({pm:"border-l-accent-indigo","viewster-pm":"border-l-accent-pink","gary-pm":"border-l-accent-emerald"})[f.id]??"border-l-accent-indigo",p[0]=f.id,p[1]=l):l=p[1];let y=l,v=`에이전트 ${f.name} 선택`,k=b?`bg-surface-hover ${y}`:"border-l-transparent hover:bg-surface-hover";p[2]!==k?(r=["w-full flex items-center gap-3 px-3 py-3 text-left","min-h-[60px]","transition-all duration-150 ease-in-out","border-l-[3px]","cursor-pointer",k,"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-indigo focus-visible:ring-inset"],p[2]=k,p[3]=r):r=p[3];let N=r.join(" ");p[4]!==f.id||p[5]!==f.status?(a=(0,t.jsx)("span",{className:"shrink-0","aria-hidden":"true",children:(0,t.jsx)(S,{agentId:f.id,status:f.status,size:"md",showStatus:!0})}),p[4]=f.id,p[5]=f.status,p[6]=a):a=p[6];let w="text-text-primary";p[7]!==w?(n=["text-sm font-semibold leading-tight truncate",w],p[7]=w,p[8]=n):n=p[8];let _=n.join(" ");return p[9]!==f.name||p[10]!==_?(c=(0,t.jsx)("span",{className:_,children:f.name}),p[9]=f.name,p[10]=_,p[11]=c):c=p[11],p[12]!==f.status?(o=(0,t.jsx)(T,{status:f.status,size:"sm"}),p[12]=f.status,p[13]=o):o=p[13],p[14]!==c||p[15]!==o?(d=(0,t.jsxs)("span",{className:"flex items-center gap-2 flex-wrap",children:[c,o]}),p[14]=c,p[15]=o,p[16]=d):d=p[16],p[17]!==f.role||p[18]!==g?(x=f.role&&(0,t.jsx)("span",{className:["text-[11px] font-medium leading-tight truncate",g?g.text:"text-text-tertiary"].join(" "),children:f.role}),p[17]=f.role,p[18]=g,p[19]=x):x=p[19],p[20]!==f.currentTask||p[21]!==f.status?(m=f.currentTask&&"active"===f.status&&(0,t.jsx)("span",{className:"text-[10px] text-text-tertiary leading-tight truncate mt-0.5",children:f.currentTask}),p[20]=f.currentTask,p[21]=f.status,p[22]=m):m=p[22],p[23]!==d||p[24]!==x||p[25]!==m?(u=(0,t.jsxs)("span",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[d,x,m]}),p[23]=d,p[24]=x,p[25]=m,p[26]=u):u=p[26],p[27]!==j||p[28]!==b||p[29]!==u||p[30]!==v||p[31]!==N||p[32]!==a?(h=(0,t.jsxs)("button",{type:"button",onClick:j,"aria-pressed":b,"aria-label":v,className:N,children:[a,u]}),p[27]=j,p[28]=b,p[29]=u,p[30]=v,p[31]=N,p[32]=a,p[33]=h):h=p[33],h}function B(e){return"pm"===e.id}function z(e){let l,r,a,n,i,c,o,d,x,m=(0,s.c)(34),{agents:u,selectedAgentId:h,onSelectAgent:p,className:f}=e,b=void 0===f?"":f;if(m[0]!==u||m[1]!==b||m[2]!==p||m[3]!==h){let e,s,d,x,f,j=u.filter(B),g=u.filter(I);m[11]!==u?(e=u.filter(A),m[11]=u,m[12]=e):e=m[12];let y=e.length;m[13]!==b?(s=["flex flex-col bg-surface h-full",b],m[13]=b,m[14]=s):s=m[14],i=s.join(" "),c="에이전트 목록",m[15]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("h2",{className:"text-[11px] font-bold uppercase tracking-widest text-text-tertiary",children:"AI 팀원"}),m[15]=d):d=m[15];let v=`총 ${u.length}명, ${y}명 활성`;m[16]!==y?(x=y>0&&(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse","aria-hidden":"true"}),m[16]=y,m[17]=x):x=m[17],m[18]!==u.length?(f=(0,t.jsx)("span",{className:"text-[10px] font-semibold text-text-secondary tabular-nums",children:u.length}),m[18]=u.length,m[19]=f):f=m[19],m[20]!==v||m[21]!==x||m[22]!==f?(o=(0,t.jsxs)("div",{className:"shrink-0 flex items-center gap-2.5 px-4 py-3.5 border-b border-border-subtle",children:[d,(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-surface-hover border border-border-subtle px-2 py-0.5","aria-label":v,children:[x,f]})]}),m[20]=v,m[21]=x,m[22]=f,m[23]=o):o=m[23],l="flex-1 overflow-y-auto scrollbar-hide",r="list",a="에이전트 선택",n=0===u.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-24 px-4",children:(0,t.jsx)("p",{className:"text-sm text-text-tertiary text-center",children:"에이전트 없음"})}):(0,t.jsxs)(t.Fragment,{children:[j.length>0&&(0,t.jsxs)("div",{role:"group","aria-label":"수석 PM",children:[(0,t.jsx)("div",{className:"px-4 pt-3 pb-1",children:(0,t.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-widest text-text-tertiary/70",children:"Head PM"})}),j.map(e=>(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(M,{agent:e,selected:h===e.id,onClick:()=>p(e.id)})},e.id))]}),j.length>0&&g.length>0&&(0,t.jsx)("div",{className:"mx-3 my-1 h-px bg-border-subtle",role:"separator","aria-hidden":"true"}),g.length>0&&(0,t.jsxs)("div",{role:"group","aria-label":"팀 PM",children:[(0,t.jsx)("div",{className:"px-4 pt-3 pb-1",children:(0,t.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-widest text-text-tertiary/70",children:"Team PMs"})}),g.map(e=>(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(M,{agent:e,selected:h===e.id,onClick:()=>p(e.id)})},e.id))]}),(0,t.jsx)("div",{className:"h-3","aria-hidden":"true"})]}),m[0]=u,m[1]=b,m[2]=p,m[3]=h,m[4]=l,m[5]=r,m[6]=a,m[7]=n,m[8]=i,m[9]=c,m[10]=o}else l=m[4],r=m[5],a=m[6],n=m[7],i=m[8],c=m[9],o=m[10];return m[24]!==l||m[25]!==r||m[26]!==a||m[27]!==n?(d=(0,t.jsx)("div",{className:l,role:r,"aria-label":a,children:n}),m[24]=l,m[25]=r,m[26]=a,m[27]=n,m[28]=d):d=m[28],m[29]!==i||m[30]!==c||m[31]!==o||m[32]!==d?(x=(0,t.jsxs)("div",{className:i,"aria-label":c,children:[o,d]}),m[29]=i,m[30]=c,m[31]=o,m[32]=d,m[33]=x):x=m[33],x}function A(e){return"active"===e.status}function I(e){return!B(e)}let W=l.default.env.NEXT_PUBLIC_API_URL||"",P=0;function E(){return`msg-${Date.now()}-${++P}`}function D(e){return new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})}function U(e){let l,r,a,n,i,c,o=(0,s.c)(14),{message:d}=e;return o[0]!==d.content?(l=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:d.content}),o[0]=d.content,o[1]=l):l=o[1],o[2]!==d.timestamp?(r=D(d.timestamp),o[2]=d.timestamp,o[3]=r):r=o[3],o[4]!==r?(a=(0,t.jsx)("p",{className:"mt-1 text-[10px] text-white/60",children:r}),o[4]=r,o[5]=a):a=o[5],o[6]!==l||o[7]!==a?(n=(0,t.jsxs)("div",{className:"rounded-2xl rounded-tr-sm bg-chat-user-bg px-4 py-2.5 text-sm leading-relaxed text-chat-user-text",children:[l,a]}),o[6]=l,o[7]=a,o[8]=n):n=o[8],o[9]!==d.to?(i=d.to&&(0,t.jsxs)("p",{className:"mt-1 pr-1 text-right text-[10px] text-text-tertiary",children:["To. ",d.to.name]}),o[9]=d.to,o[10]=i):i=o[10],o[11]!==n||o[12]!==i?(c=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)("div",{className:"max-w-[78%]",children:[n,i]})}),o[11]=n,o[12]=i,o[13]=c):c=o[13],c}function H(e){let l,r,a,n,c,o,d,x,m=(0,s.c)(21),{message:u}=e,h=u.from.id,p=i[h]??i.pm;m[0]!==h?(l=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(S,{agentId:h,status:"active",size:"xs"})}),m[0]=h,m[1]=l):l=m[1];let f=`mb-1 text-[11px] font-semibold ${p.text}`;m[2]!==u.from.name||m[3]!==f?(r=(0,t.jsx)("p",{className:f,children:u.from.name}),m[2]=u.from.name,m[3]=f,m[4]=r):r=m[4];let b=`rounded-2xl rounded-tl-sm border-l-[3px] bg-chat-agent-bg px-4 py-2.5 text-sm leading-relaxed text-chat-agent-text ${p.chatBorder}`;return m[5]!==u.content?(a=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:u.content}),m[5]=u.content,m[6]=a):a=m[6],m[7]!==u.timestamp?(n=D(u.timestamp),m[7]=u.timestamp,m[8]=n):n=m[8],m[9]!==n?(c=(0,t.jsx)("p",{className:"mt-1 text-[10px] text-text-muted",children:n}),m[9]=n,m[10]=c):c=m[10],m[11]!==b||m[12]!==a||m[13]!==c?(o=(0,t.jsxs)("div",{className:b,children:[a,c]}),m[11]=b,m[12]=a,m[13]=c,m[14]=o):o=m[14],m[15]!==r||m[16]!==o?(d=(0,t.jsxs)("div",{className:"max-w-[78%]",children:[r,o]}),m[15]=r,m[16]=o,m[17]=d):d=m[17],m[18]!==l||m[19]!==d?(x=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[l,d]}),m[18]=l,m[19]=d,m[20]=x):x=m[20],x}function R(e){let l,r,a,n,c,o,d,x,m,u,h,p,f=(0,s.c)(30),{message:b}=e,j=b.from.id,g=b.to?.id??"",y=i[j]??i.pm,v=i[g]??i.pm;f[0]!==j?(l=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(S,{agentId:j,status:"active",size:"xs"})}),f[0]=j,f[1]=l):l=f[1];let k=`font-semibold ${y.text}`;f[2]!==b.from.name||f[3]!==k?(r=(0,t.jsx)("span",{className:k,children:b.from.name}),f[2]=b.from.name,f[3]=k,f[4]=r):r=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("svg",{className:"h-3 w-3 text-text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),f[5]=a):a=f[5];let N=`font-semibold ${v.text}`,w=b.to?.name??"";return f[6]!==N||f[7]!==w?(n=(0,t.jsx)("span",{className:N,children:w}),f[6]=N,f[7]=w,f[8]=n):n=f[8],f[9]!==g?(c=(0,t.jsx)(S,{agentId:g,status:"idle",size:"xs"}),f[9]=g,f[10]=c):c=f[10],f[11]!==r||f[12]!==n||f[13]!==c?(o=(0,t.jsxs)("div",{className:"mb-1 flex items-center gap-1.5 text-[11px]",children:[r,a,n,c]}),f[11]=r,f[12]=n,f[13]=c,f[14]=o):o=f[14],f[15]!==b.content?(d=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:b.content}),f[15]=b.content,f[16]=d):d=f[16],f[17]!==b.timestamp?(x=D(b.timestamp),f[17]=b.timestamp,f[18]=x):x=f[18],f[19]!==x?(m=(0,t.jsx)("p",{className:"mt-1 text-[10px] opacity-60",children:x}),f[19]=x,f[20]=m):m=f[20],f[21]!==d||f[22]!==m?(u=(0,t.jsxs)("div",{className:"rounded-xl bg-chat-inter-bg px-3.5 py-2 text-xs leading-relaxed text-chat-inter-text",children:[d,m]}),f[21]=d,f[22]=m,f[23]=u):u=f[23],f[24]!==u||f[25]!==o?(h=(0,t.jsxs)("div",{className:"max-w-[74%]",children:[o,u]}),f[24]=u,f[25]=o,f[26]=h):h=f[26],f[27]!==l||f[28]!==h?(p=(0,t.jsxs)("div",{className:"flex items-start gap-2 pl-4",children:[l,h]}),f[27]=l,f[28]=h,f[29]=p):p=f[29],p}function O(e){let l,r=(0,s.c)(2),{message:a}=e;return r[0]!==a.content?(l=(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("p",{className:"text-center text-[11px] text-text-muted",children:a.content})}),r[0]=a.content,r[1]=l):l=r[1],l}function F(e){let l=(0,s.c)(8),{message:r}=e;switch(r.type){case"user-to-agent":{let e;return l[0]!==r?(e=(0,t.jsx)(U,{message:r}),l[0]=r,l[1]=e):e=l[1],e}case"agent-to-user":{let e;return l[2]!==r?(e=(0,t.jsx)(H,{message:r}),l[2]=r,l[3]=e):e=l[3],e}case"agent-to-agent":{let e;return l[4]!==r?(e=(0,t.jsx)(R,{message:r}),l[4]=r,l[5]=e):e=l[5],e}case"system":{let e;return l[6]!==r?(e=(0,t.jsx)(O,{message:r}),l[6]=r,l[7]=e):e=l[7],e}default:return null}}function K(e){let l,n,o,d,x,m,u,h,p,f,b,j,g,y,v,k=(0,s.c)(38),{targetAgent:N,onTargetChange:w,onSend:_,sending:$}=e,[L,C]=(0,r.useState)(""),T=(0,r.useRef)(null),M=a[N],B=M?`${M.name}에게 메시지...`:"메시지를 입력하세요...";k[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{let e=T.current;e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,120)}px`)},k[0]=l):l=k[0];let z=l;k[1]!==L||k[2]!==_||k[3]!==$?(n=()=>{L.trim()&&!$&&(_(L.trim()),C(""),T.current&&(T.current.style.height="auto"))},k[1]=L,k[2]=_,k[3]=$,k[4]=n):n=k[4];let A=n;k[5]!==A?(o=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A())},k[5]=A,k[6]=o):o=k[6];let I=o;return k[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("span",{className:"text-[11px] text-text-muted shrink-0",children:"받는 에이전트"}),k[7]=d):d=k[7],k[8]!==w||k[9]!==N?(x=c.map(e=>{let s=a[e],l=i[e],r=N===e;return(0,t.jsxs)("button",{type:"button",onClick:()=>w(e),"aria-label":`${s?.name??e}에게 보내기`,"aria-pressed":r,title:s?.name??e,className:`
                  relative h-8 w-8 rounded-full transition-all duration-150 focus:outline-none
                  focus-visible:ring-2 focus-visible:ring-accent-indigo focus-visible:ring-offset-1
                  ${r?`ring-2 ring-offset-1 ring-offset-surface ${l.ring} scale-110`:"opacity-50 hover:opacity-80 hover:scale-105"}
                `,children:[(0,t.jsx)(S,{agentId:e,status:"active",size:"sm"}),r&&(0,t.jsx)("span",{className:`absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full border border-surface ${l.bg.replace("/10","")}`,style:{backgroundColor:"pm"===e?"rgb(99 102 241)":"viewster-pm"===e?"rgb(236 72 153)":"rgb(16 185 129)"},"aria-hidden":"true"})]},e)}),k[8]=w,k[9]=N,k[10]=x):x=k[10],k[11]!==x?(m=(0,t.jsx)("div",{className:"flex items-center gap-1.5",children:x}),k[11]=x,k[12]=m):m=k[12],k[13]!==N||k[14]!==M?(u=M&&(0,t.jsx)("span",{className:`text-[11px] font-medium ml-1 ${i[N]?.text??""}`,children:M.name}),k[13]=N,k[14]=M,k[15]=u):u=k[15],k[16]!==m||k[17]!==u?(h=(0,t.jsxs)("div",{className:"mb-2.5 flex items-center gap-2",children:[d,m,u]}),k[16]=m,k[17]=u,k[18]=h):h=k[18],k[19]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{C(e.target.value),z()},k[19]=p):p=k[19],k[20]!==I||k[21]!==L||k[22]!==B||k[23]!==$?(f=(0,t.jsx)("textarea",{ref:T,value:L,onChange:p,onKeyDown:I,placeholder:B,disabled:$,rows:1,"aria-label":"메시지 입력",className:"flex-1 resize-none rounded-xl border border-border-subtle bg-surface-light px-4 py-2.5 text-sm text-text-primary placeholder:text-text-muted focus:border-accent-indigo/40 focus:bg-surface focus:outline-none focus:ring-1 focus:ring-accent-indigo/30 disabled:opacity-50"}),k[20]=I,k[21]=L,k[22]=B,k[23]=$,k[24]=f):f=k[24],k[25]!==L||k[26]!==$?(b=!L.trim()||$,k[25]=L,k[26]=$,k[27]=b):b=k[27],k[28]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),k[28]=j):j=k[28],k[29]!==A||k[30]!==b?(g=(0,t.jsx)("button",{type:"button",onClick:A,disabled:b,"aria-label":"전송",className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-accent-indigo text-white transition-colors hover:bg-accent-indigo/80 disabled:cursor-not-allowed disabled:bg-surface-light disabled:text-text-muted",children:j}),k[29]=A,k[30]=b,k[31]=g):g=k[31],k[32]!==f||k[33]!==g?(y=(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[f,g]}),k[32]=f,k[33]=g,k[34]=y):y=k[34],k[35]!==y||k[36]!==h?(v=(0,t.jsxs)("div",{className:"px-3 py-3 shrink-0",children:[h,y]}),k[35]=y,k[36]=h,k[37]=v):v=k[37],v}function Q(){let e,l,r=(0,s.c)(2);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[e,(0,t.jsx)("div",{className:"rounded-2xl rounded-tl-sm bg-chat-agent-bg px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",role:"status","aria-label":"에이전트가 응답 중",children:[(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:0ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:150ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:300ms]"})]})})]}),r[1]=l):l=r[1],l}function V(){let e,l=(0,s.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center px-6",children:[(0,t.jsx)("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-accent-indigo/10",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})})}),(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary",children:"팀에게 메시지를 보내보세요"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-text-muted",children:"시윤, 준서, 도윤 중 에이전트를 선택해 대화할 수 있어요"})]}),l[0]=e):e=l[0],e}function X(e){let l,n,i,c,o,d,x,m,u,h,p,f=(0,s.c)(28),{className:b}=e,{messages:j,sending:g,targetAgent:y,setTargetAgent:v,sendMessage:k,clearMessages:N}=function(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)("pm"),c=(0,r.useRef)(`web-${Date.now()}`),o=(0,r.useCallback)(async(e,r)=>{let i=e.trim();if(!i||s)return;let o=r??n,d=a[o],x=d?.name??o,m={id:E(),type:"user-to-agent",from:{id:"user",name:"나"},to:{id:o,name:x},content:i,timestamp:Date.now(),status:"sending"};t(e=>[...e,m]),l(!0),t(e=>e.map(e=>e.id===m.id?{...e,status:"sent"}:e));try{let e=await fetch(`${W}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:i,sessionId:c.current,agentId:o})});if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),l=s.data?.content||s.content||"응답을 받지 못했습니다.",r={id:E(),type:"agent-to-user",from:{id:o,name:x},to:{id:"user",name:"나"},content:l,timestamp:Date.now(),status:"sent"};t(e=>[...e,r])}catch(s){let e={id:E(),type:"system",from:{id:"system",name:"System"},content:`오류가 발생했습니다: ${s instanceof Error?s.message:"알 수 없는 오류"}`,timestamp:Date.now(),status:"error"};t(t=>[...t,e])}finally{l(!1)}},[s,n]);return{messages:e,sending:s,targetAgent:n,setTargetAgent:i,sendMessage:o,clearMessages:(0,r.useCallback)(()=>{t([]),c.current=`web-${Date.now()}`},[])}}(),w=(0,r.useRef)(null);f[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{let e=w.current;e&&(e.scrollTop=e.scrollHeight)},f[0]=l):l=f[0],f[1]!==j||f[2]!==g?(n=[j,g],f[1]=j,f[2]=g,f[3]=n):n=f[3],(0,r.useEffect)(l,n);let _=`flex h-full flex-col bg-surface ${b??""}`;return f[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("svg",{className:"h-4 w-4 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),c=(0,t.jsx)("h2",{className:"text-sm font-bold text-text-primary",children:"팀 채팅"}),f[4]=i,f[5]=c):(i=f[4],c=f[5]),f[6]!==j.length?(o=j.length>0&&(0,t.jsx)("span",{className:"rounded-full bg-accent-indigo/10 px-2 py-0.5 text-[10px] font-medium text-accent-indigo",children:j.length}),f[6]=j.length,f[7]=o):o=f[7],f[8]!==o?(d=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i,c,o]}),f[8]=o,f[9]=d):d=f[9],f[10]!==N?(x=(0,t.jsx)("button",{type:"button",onClick:N,className:"rounded-lg px-2.5 py-1 text-xs text-text-tertiary transition-colors hover:bg-surface-hover hover:text-text-primary",children:"새 대화"}),f[10]=N,f[11]=x):x=f[11],f[12]!==d||f[13]!==x?(m=(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border-subtle px-4 py-3 shrink-0",children:[d,x]}),f[12]=d,f[13]=x,f[14]=m):m=f[14],f[15]!==j||f[16]!==g?(u=(0,t.jsx)("div",{ref:w,className:"flex-1 overflow-y-auto px-4 py-4",role:"log","aria-label":"채팅 메시지","aria-live":"polite",children:0!==j.length||g?(0,t.jsxs)("div",{className:"space-y-3",children:[j.map(G),g&&(0,t.jsx)(Q,{})]}):(0,t.jsx)(V,{})}),f[15]=j,f[16]=g,f[17]=u):u=f[17],f[18]!==k||f[19]!==g||f[20]!==v||f[21]!==y?(h=(0,t.jsx)("div",{className:"border-t border-border-subtle shrink-0",children:(0,t.jsx)(K,{targetAgent:y,onTargetChange:v,onSend:k,sending:g})}),f[18]=k,f[19]=g,f[20]=v,f[21]=y,f[22]=h):h=f[22],f[23]!==u||f[24]!==h||f[25]!==_||f[26]!==m?(p=(0,t.jsxs)("div",{className:_,children:[m,u,h]}),f[23]=u,f[24]=h,f[25]=_,f[26]=m,f[27]=p):p=f[27],p}function G(e){return(0,t.jsx)(F,{message:e},e.id)}function q(e){let l,r,a,n,i,c,o,d=(0,s.c)(8),{className:x}=e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),r=(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),a=(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),n=(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),i=(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),c=(0,t.jsx)("path",{d:"M9 16.5h6"}),d[0]=l,d[1]=r,d[2]=a,d[3]=n,d[4]=i,d[5]=c):(l=d[0],r=d[1],a=d[2],n=d[3],i=d[4],c=d[5]),d[6]!==x?(o=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:x,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r,a,n,i,c]}),d[6]=x,d[7]=o):o=d[7],o}function J(e){let l,r,a,n,i,c=(0,s.c)(6),{className:o}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),r=(0,t.jsx)("circle",{cx:"9",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),a=(0,t.jsx)("circle",{cx:"12",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),n=(0,t.jsx)("circle",{cx:"15",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),c[0]=l,c[1]=r,c[2]=a,c[3]=n):(l=c[0],r=c[1],a=c[2],n=c[3]),c[4]!==o?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:o,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r,a,n]}),c[4]=o,c[5]=i):i=c[5],i}function Y(e){let l,r,a,n,i=(0,s.c)(5),{className:c}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{d:"M12 2l2.09 6.26L21 10l-6.91 1.74L12 18l-2.09-6.26L3 10l6.91-1.74L12 2z"}),r=(0,t.jsx)("path",{d:"M19 3l.75 2.25L22 6l-2.25.75L19 9l-.75-2.25L16 6l2.25-.75L19 3z"}),a=(0,t.jsx)("path",{d:"M5 16l.5 1.5 1.5.5-1.5.5L5 20l-.5-1.5L3 18l1.5-.5L5 16z"}),i[0]=l,i[1]=r,i[2]=a):(l=i[0],r=i[1],a=i[2]),i[3]!==c?(n=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:c,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r,a]}),i[3]=c,i[4]=n):n=i[4],n}function Z(e){let l,r,a,n=(0,s.c)(4),{className:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"9"}),r=(0,t.jsx)("polyline",{points:"12 7 12 12 15.5 15.5"}),n[0]=l,n[1]=r):(l=n[0],r=n[1]),n[2]!==i?(a=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l,r]}),n[2]=i,n[3]=a):a=n[3],a}function ee(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}let et=[{bg:"bg-violet-500/10",iconBg:"bg-violet-500/15",iconColor:"text-violet-400",valueColor:"text-violet-300"},{bg:"bg-sky-500/10",iconBg:"bg-sky-500/15",iconColor:"text-sky-400",valueColor:"text-sky-300"},{bg:"bg-rose-500/10",iconBg:"bg-rose-500/15",iconColor:"text-rose-400",valueColor:"text-rose-300"},{bg:"bg-amber-500/10",iconBg:"bg-amber-500/15",iconColor:"text-amber-400",valueColor:"text-amber-300"}];function es(e){let l,r,a,n,i,c,o=(0,s.c)(18),{label:d,value:x,sub:m,icon:u,style:h}=e,p=`rounded-2xl ${h.bg} p-3.5`,f=`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg ${h.iconBg} ${h.iconColor}`;o[0]!==u||o[1]!==f?(l=(0,t.jsx)("span",{className:f,"aria-hidden":"true",children:u}),o[0]=u,o[1]=f,o[2]=l):l=o[2],o[3]!==d?(r=(0,t.jsx)("p",{className:"text-[11px] font-medium text-text-tertiary",children:d}),o[3]=d,o[4]=r):r=o[4],o[5]!==l||o[6]!==r?(a=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,r]}),o[5]=l,o[6]=r,o[7]=a):a=o[7];let b=`mt-2 text-xl font-bold tabular-nums ${h.valueColor}`;return o[8]!==b||o[9]!==x?(n=(0,t.jsx)("p",{className:b,children:x}),o[8]=b,o[9]=x,o[10]=n):n=o[10],o[11]!==m?(i=m&&(0,t.jsx)("p",{className:"mt-0.5 text-[10px] leading-tight text-text-muted",children:m}),o[11]=m,o[12]=i):i=o[12],o[13]!==p||o[14]!==a||o[15]!==n||o[16]!==i?(c=(0,t.jsxs)("div",{className:p,children:[a,n,i]}),o[13]=p,o[14]=a,o[15]=n,o[16]=i,o[17]=c):c=o[17],c}function el(e){let l,r,a,n,i,c,o=(0,s.c)(10),{style:d}=e,x=`animate-pulse rounded-2xl ${d.bg} p-3.5`,m=`h-7 w-7 rounded-lg ${d.iconBg}`;return o[0]!==m?(l=(0,t.jsx)("div",{className:m}),o[0]=m,o[1]=l):l=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("div",{className:"h-2.5 w-14 rounded bg-white/[0.06]"}),o[2]=r):r=o[2],o[3]!==l?(a=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,r]}),o[3]=l,o[4]=a):a=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("div",{className:"mt-2 h-6 w-10 rounded bg-white/[0.06]"}),i=(0,t.jsx)("div",{className:"mt-1 h-2 w-20 rounded bg-white/[0.04]"}),o[5]=n,o[6]=i):(n=o[5],i=o[6]),o[7]!==x||o[8]!==a?(c=(0,t.jsxs)("div",{className:x,"aria-hidden":"true",children:[a,n,i]}),o[7]=x,o[8]=a,o[9]=c):c=o[9],c}function er(e){let l,r,a,n,i,c,o,d,x,m,u,h,p,f=(0,s.c)(28),{stats:b,loading:j}=e;if(j||!b){let e;return f[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"통계 로딩중",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2.5",children:et.map(ea)})}),f[0]=e):e=f[0],e}let g=b.totalInputTokens+b.totalOutputTokens,y=String(b.totalAgents),v=`${b.activeAgents} active / ${b.idleAgents} idle`;f[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(q,{className:"h-4 w-4"}),f[1]=l):l=f[1],f[2]!==y||f[3]!==v?(r=(0,t.jsx)(es,{label:"에이전트",value:y,sub:v,icon:l,style:et[0]}),f[2]=y,f[3]=v,f[4]=r):r=f[4];let k=String(b.totalSessions);f[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(J,{className:"h-4 w-4"}),f[5]=a):a=f[5],f[6]!==k?(n=(0,t.jsx)(es,{label:"세션",value:k,icon:a,style:et[1]}),f[6]=k,f[7]=n):n=f[7],f[8]!==g?(i=ee(g),f[8]=g,f[9]=i):i=f[9],f[10]!==b.totalInputTokens?(c=ee(b.totalInputTokens),f[10]=b.totalInputTokens,f[11]=c):c=f[11],f[12]!==b.totalOutputTokens?(o=ee(b.totalOutputTokens),f[12]=b.totalOutputTokens,f[13]=o):o=f[13];let N=`in ${c} / out ${o}`;if(f[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(Y,{className:"h-4 w-4"}),f[14]=d):d=f[14],f[15]!==N||f[16]!==i?(x=(0,t.jsx)(es,{label:"토큰",value:i,sub:N,icon:d,style:et[2]}),f[15]=N,f[16]=i,f[17]=x):x=f[17],f[18]!==b.uptimeMs){var w;let e,t;e=Math.floor((w=b.uptimeMs)/36e5),t=Math.floor(w%36e5/6e4),m=e>0?`${e}h ${t}m`:`${t}m`,f[18]=b.uptimeMs,f[19]=m}else m=f[19];return f[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(Z,{className:"h-4 w-4"}),f[20]=u):u=f[20],f[21]!==m?(h=(0,t.jsx)(es,{label:"가동시간",value:m,icon:u,style:et[3]}),f[21]=m,f[22]=h):h=f[22],f[23]!==x||f[24]!==h||f[25]!==r||f[26]!==n?(p=(0,t.jsx)("section",{"aria-label":"시스템 통계",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2.5",children:[r,n,x,h]})}),f[23]=x,f[24]=h,f[25]=r,f[26]=n,f[27]=p):p=f[27],p}function ea(e,s){return(0,t.jsx)(el,{style:e},s)}function en(e){let l,r,a,n,i,c,o,d,x,m,u,h=(0,s.c)(28),{label:p,info:f,accentBarColor:b}=e;if(!f)return null;h[0]!==f.utilization?(l=Math.round(f.utilization>1?f.utilization:100*f.utilization),h[0]=f.utilization,h[1]=l):l=h[1];let j=Math.min(100,l);h[2]!==f.resets_at?(r=function(e){if(!e)return"";let t=new Date(e).getTime()-Date.now();if(t<=0)return"곧 리셋";let s=Math.floor(t/36e5),l=Math.floor(t%36e5/6e4);return s>0?`${s}시간 ${l}분`:`${l}분`}(f.resets_at),h[2]=f.resets_at,h[3]=r):r=h[3];let g=r,y=j>=90?"bg-rose-500":j>=70?"bg-amber-500":b;h[4]!==p?(a=(0,t.jsx)("span",{className:"text-text-tertiary",children:p}),h[4]=p,h[5]=a):a=h[5],h[6]!==j?(n=(0,t.jsxs)("span",{className:"font-mono text-text-secondary tabular-nums",children:[j,"%"]}),h[6]=j,h[7]=n):n=h[7],h[8]!==g?(i=g&&(0,t.jsx)("span",{className:"text-text-muted",children:g}),h[8]=g,h[9]=i):i=h[9],h[10]!==n||h[11]!==i?(c=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n,i]}),h[10]=n,h[11]=i,h[12]=c):c=h[12],h[13]!==a||h[14]!==c?(o=(0,t.jsxs)("div",{className:"flex items-center justify-between text-[11px]",children:[a,c]}),h[13]=a,h[14]=c,h[15]=o):o=h[15];let v=`${p} 사용률 ${j}%`,k=`h-full rounded-full transition-all duration-500 ${y}`,N=`${j}%`;return h[16]!==N?(d={width:N},h[16]=N,h[17]=d):d=h[17],h[18]!==d||h[19]!==k?(x=(0,t.jsx)("div",{className:k,style:d}),h[18]=d,h[19]=k,h[20]=x):x=h[20],h[21]!==j||h[22]!==x||h[23]!==v?(m=(0,t.jsx)("div",{className:"h-1.5 overflow-hidden rounded-full bg-white/[0.06]",role:"progressbar","aria-valuenow":j,"aria-valuemin":0,"aria-valuemax":100,"aria-label":v,children:x}),h[21]=j,h[22]=x,h[23]=v,h[24]=m):m=h[24],h[25]!==m||h[26]!==o?(u=(0,t.jsxs)("div",{className:"space-y-1",children:[o,m]}),h[25]=m,h[26]=o,h[27]=u):u=h[27],u}function ei(e){let l,r,a,n,i,c,o=(0,s.c)(18),{account:d}=e,x="claude-viewster"===d.id,m=x?"bg-violet-500":"bg-cyan-500",u=`text-xs font-bold ${x?"text-accent-violet":"text-accent-indigo"}`;return o[0]!==d.label||o[1]!==u?(l=(0,t.jsx)("span",{className:u,children:d.label}),o[0]=d.label,o[1]=u,o[2]=l):l=o[2],o[3]!==d.id?(r=(0,t.jsx)("span",{className:"text-[10px] text-text-muted",children:d.id}),o[3]=d.id,o[4]=r):r=o[4],o[5]!==l||o[6]!==r?(a=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,r]}),o[5]=l,o[6]=r,o[7]=a):a=o[7],o[8]!==d.error||o[9]!==d.usage?(n=d.error&&!d.usage&&(0,t.jsx)("p",{className:"text-[11px] text-text-muted",children:"데이터 없음"}),o[8]=d.error,o[9]=d.usage,o[10]=n):n=o[10],o[11]!==m||o[12]!==d.usage?(i=d.usage&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(en,{label:"5시간",info:d.usage.five_hour,accentBarColor:m}),(0,t.jsx)(en,{label:"7일",info:d.usage.seven_day,accentBarColor:m}),(0,t.jsx)(en,{label:"7일 소넷",info:d.usage.seven_day_sonnet,accentBarColor:m})]}),o[11]=m,o[12]=d.usage,o[13]=i):i=o[13],o[14]!==a||o[15]!==n||o[16]!==i?(c=(0,t.jsxs)("div",{className:"space-y-2.5",children:[a,n,i]}),o[14]=a,o[15]=n,o[16]=i,o[17]=c):c=o[17],c}function ec(){let e,l=(0,s.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-1","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-2.5 w-10 rounded bg-white/[0.06]"}),(0,t.jsx)("div",{className:"h-2.5 w-8 rounded bg-white/[0.06]"})]}),(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-white/[0.04]"})]}),l[0]=e):e=l[0],e}function eo(){let e,l=(0,s.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-2.5","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-16 rounded bg-white/[0.08]"}),(0,t.jsx)("div",{className:"h-2.5 w-24 rounded bg-white/[0.04]"})]}),(0,t.jsx)(ec,{}),(0,t.jsx)(ec,{}),(0,t.jsx)(ec,{})]}),l[0]=e):e=l[0],e}function ed(e){let l,r,a=(0,s.c)(6),{accounts:n,loading:i}=e;if(i){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량 로딩중",children:(0,t.jsx)("div",{className:"space-y-4",children:[0,1].map(em)})}),a[0]=e):e=a[0],e}if(0===n.length){let e;return a[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량",children:(0,t.jsx)("p",{className:"text-center text-[11px] text-text-muted py-2",children:"사용량 데이터 없음"})}),a[1]=e):e=a[1],e}return a[2]!==n?(l=n.map(ex),a[2]=n,a[3]=l):l=a[3],a[4]!==l?(r=(0,t.jsx)("section",{"aria-label":"계정 사용량",children:(0,t.jsx)("div",{className:"space-y-4",children:l})}),a[4]=l,a[5]=r):r=a[5],r}function ex(e,s){return(0,t.jsx)("div",{className:s>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(ei,{account:e})},e.id)}function em(e){return(0,t.jsx)("div",{className:e>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(eo,{})},e)}function eu(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function eh(e){let l,r,a,n=(0,s.c)(7),{label:i,value:c}=e;return n[0]!==i?(l=(0,t.jsx)("span",{className:"text-[10px] text-text-muted whitespace-nowrap",children:i}),n[0]=i,n[1]=l):l=n[1],n[2]!==c?(r=(0,t.jsx)("span",{className:"text-xs font-semibold text-text-primary tabular-nums truncate max-w-full",children:c}),n[2]=c,n[3]=r):r=n[3],n[4]!==l||n[5]!==r?(a=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-white/[0.04] px-3 py-2 min-w-0",children:[l,r]}),n[4]=l,n[5]=r,n[6]=a):a=n[6],a}function ep(e){let l,r,a,n,i,c,o,d,x,m,u,h,p,f,b,j,g,y,v,k,N,w,_,$,L=(0,s.c)(61),{agent:C}=e;if(!C){let e;return L[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"에이전트 상세",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-center",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/[0.04] text-text-muted","aria-hidden":"true",children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),(0,t.jsx)("path",{d:"M9 16.5h6"})]})}),(0,t.jsx)("p",{className:"text-sm text-text-muted",children:"에이전트를 선택하세요"})]})}),L[0]=e):e=L[0],e}let M=C.inputTokens+C.outputTokens,B=`${C.name} 에이전트 상세`;L[1]!==C.id||L[2]!==C.status?(l=(0,t.jsx)(S,{agentId:C.id,status:C.status,size:"lg"}),L[1]=C.id,L[2]=C.status,L[3]=l):l=L[3],L[4]!==C.name?(r=(0,t.jsx)("h3",{className:"text-base font-bold text-text-primary",children:C.name}),L[4]=C.name,L[5]=r):r=L[5],L[6]!==C.role?(a=C.role&&(0,t.jsx)("p",{className:"text-xs text-accent-indigo font-medium",children:C.role}),L[6]=C.role,L[7]=a):a=L[7],L[8]!==C.status?(n=(0,t.jsx)(T,{status:C.status,size:"sm"}),L[8]=C.status,L[9]=n):n=L[9],L[10]!==r||L[11]!==a||L[12]!==n?(i=(0,t.jsxs)("div",{className:"space-y-1",children:[r,a,n]}),L[10]=r,L[11]=a,L[12]=n,L[13]=i):i=L[13],L[14]!==l||L[15]!==i?(c=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[l,i]}),L[14]=l,L[15]=i,L[16]=c):c=L[16],L[17]!==C.model?(o=(0,t.jsx)(eh,{label:"모델",value:C.model}),L[17]=C.model,L[18]=o):o=L[18],L[19]!==M?(d=eu(M),L[19]=M,L[20]=d):d=L[20],L[21]!==d?(x=(0,t.jsx)(eh,{label:"총 토큰",value:d}),L[21]=d,L[22]=x):x=L[22],L[23]!==C.lastActivity?(m=function(e){if(!e)return"N/A";let t=Date.now()-e;if(t<6e4)return"방금 전";let s=Math.floor(t/6e4);if(s<60)return`${s}분 전`;let l=Math.floor(s/60);return l<24?`${l}시간 전`:`${Math.floor(l/24)}일 전`}(C.lastActivity),L[23]=C.lastActivity,L[24]=m):m=L[24],L[25]!==m?(u=(0,t.jsx)(eh,{label:"마지막 활동",value:m}),L[25]=m,L[26]=u):u=L[26];let z=String(C.sessionCount??0);return L[27]!==z?(h=(0,t.jsx)(eh,{label:"세션 수",value:z}),L[27]=z,L[28]=h):h=L[28],L[29]!==x||L[30]!==u||L[31]!==h||L[32]!==o?(p=(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[o,x,u,h]}),L[29]=x,L[30]=u,L[31]=h,L[32]=o,L[33]=p):p=L[33],L[34]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-text-muted",children:"토큰 상세"}),L[34]=f):f=L[34],L[35]!==C.inputTokens?(b=eu(C.inputTokens),L[35]=C.inputTokens,L[36]=b):b=L[36],L[37]!==b?(j={label:"입력",value:b,color:"text-sky-400"},L[37]=b,L[38]=j):j=L[38],L[39]!==C.outputTokens?(g=eu(C.outputTokens),L[39]=C.outputTokens,L[40]=g):g=L[40],L[41]!==g?(y={label:"출력",value:g,color:"text-violet-400"},L[41]=g,L[42]=y):y=L[42],L[43]!==C.contextTokens?(v=eu(C.contextTokens),L[43]=C.contextTokens,L[44]=v):v=L[44],L[45]!==v?(k={label:"컨텍스트",value:v,color:"text-text-secondary"},L[45]=v,L[46]=k):k=L[46],L[47]!==j||L[48]!==y||L[49]!==k?(N=(0,t.jsxs)("div",{className:"rounded-xl bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[f,(0,t.jsx)("dl",{className:"space-y-1.5",children:[j,y,k].map(ef)})]}),L[47]=j,L[48]=y,L[49]=k,L[50]=N):N=L[50],L[51]!==C.currentTask?(w=C.currentTask&&(0,t.jsxs)("div",{className:"rounded-xl border border-accent-indigo/20 bg-accent-indigo/5 p-3 space-y-1",children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-accent-indigo",children:"현재 작업"}),(0,t.jsx)("p",{className:"text-xs text-text-secondary leading-relaxed",children:C.currentTask})]}),L[51]=C.currentTask,L[52]=w):w=L[52],L[53]!==p||L[54]!==N||L[55]!==w||L[56]!==c?(_=(0,t.jsxs)("div",{className:"space-y-4",children:[c,p,N,w]}),L[53]=p,L[54]=N,L[55]=w,L[56]=c,L[57]=_):_=L[57],L[58]!==B||L[59]!==_?($=(0,t.jsx)("section",{"aria-label":B,children:_}),L[58]=B,L[59]=_,L[60]=$):$=L[60],$}function ef(e){let{label:s,value:l,color:r}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("dt",{className:"text-[11px] text-text-tertiary",children:s}),(0,t.jsx)("dd",{className:`text-[11px] font-mono font-medium tabular-nums ${r}`,children:l})]},s)}function eb(e){let l,r=(0,s.c)(2),{children:a}=e;return r[0]!==a?(l=(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-text-muted mb-2.5",children:a}),r[0]=a,r[1]=l):l=r[1],l}function ej(e){let l,r,a,n,i,c,o,d=(0,s.c)(16),{stats:x,statsLoading:m,accounts:u,usageLoading:h,selectedAgent:p,className:f}=e,b=`flex flex-col gap-5 overflow-y-auto px-4 py-5 ${f??""}`;return d[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(eb,{children:"통계"}),d[0]=l):l=d[0],d[1]!==x||d[2]!==m?(r=(0,t.jsxs)("div",{children:[l,(0,t.jsx)(er,{stats:x,loading:m})]}),d[1]=x,d[2]=m,d[3]=r):r=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),n=(0,t.jsx)(eb,{children:"사용량"}),d[4]=a,d[5]=n):(a=d[4],n=d[5]),d[6]!==u||d[7]!==h?(i=(0,t.jsxs)("div",{children:[n,(0,t.jsx)(ed,{accounts:u,loading:h})]}),d[6]=u,d[7]=h,d[8]=i):i=d[8],d[9]!==p?(c=null!==p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eb,{children:"에이전트 상세"}),(0,t.jsx)(ep,{agent:p})]})]}),d[9]=p,d[10]=c):c=d[10],d[11]!==b||d[12]!==r||d[13]!==i||d[14]!==c?(o=(0,t.jsxs)("div",{className:b,children:[r,a,i,c]}),d[11]=b,d[12]=r,d[13]=i,d[14]=c,d[15]=o):o=d[15],o}function eg(){let e,l,a,i,c,u=(0,s.c)(18),{agents:h,selectedAgent:p,selectedAgentId:f,selectAgent:b,loading:g,connected:y}=function(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[c,x]=(0,r.useState)(!0),[m,u]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),[f,b]=(0,r.useState)(null),j=(0,r.useRef)(new Map),g=(0,r.useCallback)(async()=>{try{let e=await fetch(`${o}/api/agents`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),r=(s.data??s).map(d);t(r),l(function(e){let t=new Map(e.map(e=>[e.id,e])),s=[];for(let[l,r]of Object.entries(n)){let a=t.get(l);if(!a)continue;let n=r.members.map(t=>{let s=e.find(e=>e.id===t.id);return s?{id:s.id,name:t.name,role:t.role,model:s.model||t.model,status:s.status,isPlaceholder:!1,lastActivity:s.lastActivity,inputTokens:s.inputTokens,outputTokens:s.outputTokens}:{id:t.id,name:t.name,role:t.role,model:t.model,status:"offline",isPlaceholder:!0}});s.push({pm:a,members:n,label:r.label,description:r.description})}return s}(r)),p(!0),u(null);let a=j.current,c=[],x=Date.now();for(let e of r){let t=a.get(e.id);void 0!==t&&t!==e.status&&c.push({time:x,agentName:e.name,status:e.status})}c.length>0&&i(e=>[...c,...e].slice(0,20));let m=new Map;for(let e of r)m.set(e.id,e.status);j.current=m}catch(e){u(e instanceof Error?e.message:"Failed to fetch agents"),p(!1)}finally{x(!1)}},[]);(0,r.useEffect)(()=>{g();let e=setInterval(g,1e4);return()=>clearInterval(e)},[g]);let y=e.find(e=>"pm"===e.id)||null,v=f&&e.find(e=>e.id===f)||null;return{agents:e,teams:s,headPM:y,activities:a,selectedAgent:v,selectedAgentId:f,selectAgent:(0,r.useCallback)(e=>{b(t=>t===e?null:e)},[]),loading:c,error:m,connected:h}}(),{stats:v,loading:k}=function(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0),[a,n]=(0,r.useState)(null),i=(0,r.useCallback)(async()=>{try{let e=await fetch(`${x}/api/stats`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),l=s.data??s;t(l),n(null)}catch(e){n(e instanceof Error?e.message:"Failed to fetch stats")}finally{l(!1)}},[]);return(0,r.useEffect)(()=>{i();let e=setInterval(i,1e4);return()=>clearInterval(e)},[i]),{stats:e,loading:s,error:a}}(),{accounts:N,loading:w}=function(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),a=(0,r.useCallback)(async()=>{try{let e=await fetch(`${m}/api/usage`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json();t(s.data??[])}catch{}finally{l(!1)}},[]);return(0,r.useEffect)(()=>{a();let e=setInterval(a,6e4);return()=>clearInterval(e)},[a]),{accounts:e,loading:s}}();return u[0]!==h||u[1]!==g?(e=g?[]:h,u[0]=h,u[1]=g,u[2]=e):e=u[2],u[3]!==b||u[4]!==f||u[5]!==e?(l=(0,t.jsx)(z,{agents:e,selectedAgentId:f,onSelectAgent:b}),u[3]=b,u[4]=f,u[5]=e,u[6]=l):l=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(X,{}),u[7]=a):a=u[7],u[8]!==p||u[9]!==v||u[10]!==k||u[11]!==N||u[12]!==w?(i=(0,t.jsx)(ej,{stats:v,statsLoading:k,accounts:N,usageLoading:w,selectedAgent:p}),u[8]=p,u[9]=v,u[10]=k,u[11]=N,u[12]=w,u[13]=i):i=u[13],u[14]!==y||u[15]!==l||u[16]!==i?(c=(0,t.jsx)(j,{connected:y,leftPanel:l,centerPanel:a,rightPanel:i}),u[14]=y,u[15]=l,u[16]=i,u[17]=c):c=u[17],c}e.s(["default",()=>eg],52683)}]);