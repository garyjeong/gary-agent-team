(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,s)=>{"use strict";var a=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;s.c=function(e){return a.H.useMemoCache(e)}},932,(e,t,s)=>{"use strict";t.exports=e.r(79474)},52683,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(47167),r=e.i(71645);let l=a.default.env.NEXT_PUBLIC_API_URL||"",n={pm:{name:"시윤",role:"통합 PM"},"viewster-pm":{name:"준서",role:"Viewster 전담 PM",parent:"pm"},"gary-pm":{name:"도윤",role:"Gary 프로젝트 전담 PM",parent:"pm"}},i={"viewster-pm":{label:"Viewster",description:"YouTube 기반 리워드 영상 시청 플랫폼",members:[{id:"viewster-be",name:"BE",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"viewster-fe",name:"FE",role:"프론트엔드 개발",model:"claude-sonnet-4-6"},{id:"viewster-design",name:"Design",role:"UI/UX 디자인",model:"gemini-2.5-pro"},{id:"viewster-qa",name:"QA",role:"품질보증/테스트",model:"gemini-2.5-pro"}]},"gary-pm":{label:"Gary Projects",description:"Nestack, gold-message, lotto-pick 등 개인 프로젝트",members:[{id:"gary-be",name:"BE",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"gary-fe",name:"FE/Mobile",role:"프론트엔드/모바일",model:"claude-sonnet-4-6"},{id:"gary-design",name:"Design",role:"UI/UX 디자인",model:"gemini-2.5-pro"},{id:"gary-qa",name:"QA",role:"품질보증/테스트",model:"gemini-2.5-pro"}]}};function o(e){let t=n[e.id];return t?{...e,name:t.name,role:t.role,parent:t.parent}:e}let d=a.default.env.NEXT_PUBLIC_API_URL||"";function c(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function m(e){let a,r,l,n,i=(0,s.c)(10),{label:o,value:d,sub:c}=e;return i[0]!==o?(a=(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:o}),i[0]=o,i[1]=a):a=i[1],i[2]!==d?(r=(0,t.jsx)("p",{className:"mt-1 text-2xl font-bold tabular-nums text-gray-900",children:d}),i[2]=d,i[3]=r):r=i[3],i[4]!==c?(l=c&&(0,t.jsx)("p",{className:"mt-0.5 text-xs text-gray-500",children:c}),i[4]=c,i[5]=l):l=i[5],i[6]!==a||i[7]!==r||i[8]!==l?(n=(0,t.jsxs)("div",{className:"min-w-[130px] flex-1 rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a,r,l]}),i[6]=a,i[7]=r,i[8]=l,i[9]=n):n=i[9],n}function x(){let e,a=(0,s.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"min-w-[130px] flex-1 animate-pulse rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[(0,t.jsx)("div",{className:"h-3 w-14 rounded bg-gray-200"}),(0,t.jsx)("div",{className:"mt-2 h-7 w-10 rounded bg-gray-200"}),(0,t.jsx)("div",{className:"mt-1 h-3 w-20 rounded bg-gray-100"})]}),a[0]=e):e=a[0],e}function u(e){let a,r,l,n,i,o,d,x,u,g=(0,s.c)(24),{stats:f,loading:b}=e;if(b||!f){let e;return g[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:Array.from({length:4}).map(h)}),g[0]=e):e=g[0],e}let p=String(f.totalAgents),y=`열일중 ${f.activeAgents} \xb7 쉬는중 ${f.idleAgents}`;g[1]!==p||g[2]!==y?(a=(0,t.jsx)(m,{label:"에이전트",value:p,sub:y}),g[1]=p,g[2]=y,g[3]=a):a=g[3];let j=String(f.totalSessions);g[4]!==j?(r=(0,t.jsx)(m,{label:"세션",value:j}),g[4]=j,g[5]=r):r=g[5];let v=f.totalInputTokens+f.totalOutputTokens;g[6]!==v?(l=c(v),g[6]=v,g[7]=l):l=g[7],g[8]!==f.totalInputTokens?(n=c(f.totalInputTokens),g[8]=f.totalInputTokens,g[9]=n):n=g[9],g[10]!==f.totalOutputTokens?(i=c(f.totalOutputTokens),g[10]=f.totalOutputTokens,g[11]=i):i=g[11];let N=`입력 ${n} / 출력 ${i}`;if(g[12]!==N||g[13]!==l?(o=(0,t.jsx)(m,{label:"토큰 사용량",value:l,sub:N}),g[12]=N,g[13]=l,g[14]=o):o=g[14],g[15]!==f.uptimeMs){let e,t,s;t=Math.floor((e=Math.floor(f.uptimeMs/1e3))/3600),s=Math.floor(e%3600/60),d=t>0?`${t}시간 ${s}분`:`${s}분`,g[15]=f.uptimeMs,g[16]=d}else d=g[16];return g[17]!==d?(x=(0,t.jsx)(m,{label:"가동 시간",value:d}),g[17]=d,g[18]=x):x=g[18],g[19]!==o||g[20]!==x||g[21]!==a||g[22]!==r?(u=(0,t.jsxs)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:[a,r,o,x]}),g[19]=o,g[20]=x,g[21]=a,g[22]=r,g[23]=u):u=g[23],u}function h(e,s){return(0,t.jsx)(x,{},s)}let g={active:{label:"열일중",dot:"bg-emerald-500",bg:"bg-emerald-50",border:"border-emerald-300",text:"text-emerald-700",pulse:!0},idle:{label:"쉬는중",dot:"bg-amber-500",bg:"bg-amber-50",border:"border-amber-300",text:"text-amber-700",pulse:!1},offline:{label:"쉬는중",dot:"bg-gray-400",bg:"bg-gray-100",border:"border-gray-300",text:"text-gray-600",pulse:!1}};function f(e){let a,r,l,n=(0,s.c)(9),{status:i,size:o}=e,d=void 0===o?"md":o,c=g[i],m=`inline-flex items-center gap-1.5 rounded-full border ${"sm"===d?"px-2 py-0.5":"px-2.5 py-0.5"} ${c.bg} ${c.border}`,x=`inline-block rounded-full ${"sm"===d?"h-1.5 w-1.5":"h-2 w-2"} ${c.dot} ${c.pulse?"animate-pulse":""}`;n[0]!==x?(a=(0,t.jsx)("span",{className:x}),n[0]=x,n[1]=a):a=n[1];let u=`font-semibold ${"sm"===d?"text-[11px]":"text-xs"} ${c.text}`;return n[2]!==c.label||n[3]!==u?(r=(0,t.jsx)("span",{className:u,children:c.label}),n[2]=c.label,n[3]=u,n[4]=r):r=n[4],n[5]!==m||n[6]!==a||n[7]!==r?(l=(0,t.jsxs)("span",{className:m,children:[a,r]}),n[5]=m,n[6]=a,n[7]=r,n[8]=l):l=n[8],l}let b={sm:{container:"h-8 w-8",text:"text-xs",eye:2,body:28},md:{container:"h-10 w-10",text:"text-sm",eye:2.5,body:36},lg:{container:"h-11 w-11",text:"text-base",eye:3,body:40}};function p({status:e,size:s,colorClass:a}){let l=b[s],n=(0,r.useRef)(null),i=(0,r.useRef)(0),o=(0,r.useRef)(0);return(0,r.useEffect)(()=>{let t=n.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let a=l.body,r=l.body;t.width=2*a,t.height=2*r,s.scale(2,2);let d=0;function c(){if(!s)return;s.clearRect(0,0,a,r);let t=a/2,l=r/2,n=.32*a;if("active"===e){let e=2*Math.sin(.08*d),a=3*Math.sin(.06*d);s.save(),s.translate(t,l+e),s.rotate(a*Math.PI/180),s.fillStyle="#818cf8",s.beginPath(),s.roundRect(-n,-n,2*n,2*n,.3*n),s.fill();let r=.22*n,i=.28*n,o=d%120<5?.1:1;s.fillStyle="#ffffff",s.beginPath(),s.ellipse(-(.3*n),-(.1*n),r,i*o,0,0,2*Math.PI),s.fill(),s.beginPath(),s.ellipse(.3*n,-(.1*n),r,i*o,0,0,2*Math.PI),s.fill();let c=Math.sin(.04*d)*r*.3;s.fillStyle="#312e81",s.beginPath(),s.arc(-(.3*n)+c,-(.1*n),.45*r,0,2*Math.PI),s.fill(),s.beginPath(),s.arc(.3*n+c,-(.1*n),.45*r,0,2*Math.PI),s.fill(),s.strokeStyle="#ffffff",s.lineWidth=1.5,s.beginPath(),s.arc(0,.3*n,.25*n,.1,Math.PI-.1),s.stroke();let m=3*Math.sin(.1*d);s.strokeStyle="#818cf8",s.lineWidth=2,s.beginPath(),s.moveTo(0,-n),s.lineTo(m,-n-.4*n),s.stroke(),s.fillStyle="#c7d2fe",s.beginPath(),s.arc(m,-n-.4*n,2.5,0,2*Math.PI),s.fill(),s.restore()}else{let e=1.5*Math.sin(.03*d);s.save(),s.translate(t,l+e),s.fillStyle="#94a3b8",s.beginPath(),s.roundRect(-n,-n,2*n,2*n,.3*n),s.fill(),s.strokeStyle="#ffffff",s.lineWidth=2,s.lineCap="round",s.beginPath(),s.moveTo(-(.45*n),-(.05*n)),s.lineTo(-(.15*n),-(.05*n)),s.stroke(),s.beginPath(),s.moveTo(.15*n,-(.05*n)),s.lineTo(.45*n,-(.05*n)),s.stroke(),s.beginPath(),s.arc(0,.3*n,.08*n,0,2*Math.PI),s.fillStyle="#ffffff",s.fill(),s.strokeStyle="#94a3b8",s.lineWidth=2,s.beginPath(),s.moveTo(0,-n),s.quadraticCurveTo(.3*n,-n-.2*n,.4*n,-n+.1*n),s.stroke(),s.fillStyle="#cbd5e1",s.beginPath(),s.arc(.4*n,-n+.1*n,2,0,2*Math.PI),s.fill(),s.restore();let a=.02*d%1;s.save(),s.globalAlpha=.6*(1-a),s.fillStyle="#94a3b8",s.font=`bold ${8+4*a}px sans-serif`,s.fillText("z",t+.5*n+6*a,l-.3*n-12*a),s.font=`bold ${6+3*a}px sans-serif`,s.fillText("z",t+.8*n+4*a,l-.6*n-8*a),s.restore()}i.current=++d,o.current=requestAnimationFrame(c)}return window.matchMedia("(prefers-reduced-motion: reduce)").matches?(d=0,c(),cancelAnimationFrame(o.current)):c(),()=>cancelAnimationFrame(o.current)},[e,l.body]),(0,t.jsx)("div",{className:`${l.container} shrink-0 overflow-hidden rounded-full`,children:(0,t.jsx)("canvas",{ref:n,className:"h-full w-full",style:{imageRendering:"auto"}})})}function y(e){let a,r=(0,s.c)(4),{status:l,size:n,colorClass:i}=e,o=void 0===n?"md":n,d=i||"bg-indigo-50 text-indigo-600";return r[0]!==o||r[1]!==l||r[2]!==d?(a=(0,t.jsx)(p,{status:l,size:o,colorClass:d}),r[0]=o,r[1]=l,r[2]=d,r[3]=a):a=r[3],a}let j={active:"border-emerald-200",idle:"border-amber-200",offline:"border-gray-200"};function v(e){var a;let r,l,n,i,o,d,c,m,x,u,h,g,b,p,v,N,w,k,S,_=(0,s.c)(41),{agent:T}=e,$=`relative overflow-hidden rounded-2xl border bg-white p-5 shadow-sm ${j[T.status]}`;_[0]!==T.name||_[1]!==T.status?(r=(0,t.jsx)(y,{name:T.name,status:T.status,size:"lg",colorClass:"bg-indigo-50 text-indigo-600"}),_[0]=T.name,_[1]=T.status,_[2]=r):r=_[2],_[3]!==T.name?(l=(0,t.jsx)("h3",{className:"text-base font-bold text-gray-900",children:T.name}),_[3]=T.name,_[4]=l):l=_[4],_[5]!==T.status?(n=(0,t.jsx)(f,{status:T.status,size:"sm"}),_[5]=T.status,_[6]=n):n=_[6],_[7]!==l||_[8]!==n?(i=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,n]}),_[7]=l,_[8]=n,_[9]=i):i=_[9],_[10]!==T.role?(o=(0,t.jsx)("p",{className:"mt-0.5 text-sm text-indigo-600 font-medium",children:T.role}),_[10]=T.role,_[11]=o):o=_[11],_[12]!==i||_[13]!==o?(d=(0,t.jsxs)("div",{children:[i,o]}),_[12]=i,_[13]=o,_[14]=d):d=_[14],_[15]!==r||_[16]!==d?(c=(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[r,d]})}),_[15]=r,_[16]=d,_[17]=c):c=_[17],_[18]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)("span",{className:"text-gray-500",children:"모델"}),_[18]=m):m=_[18],_[19]!==T.model?(x=(0,t.jsxs)("div",{children:[m,(0,t.jsx)("p",{className:"mt-0.5 font-mono text-xs text-gray-700",children:T.model})]}),_[19]=T.model,_[20]=x):x=_[20],_[21]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("div",{className:"h-6 w-px bg-gray-200"}),h=(0,t.jsx)("span",{className:"text-gray-500",children:"토큰"}),_[21]=u,_[22]=h):(u=_[21],h=_[22]);let M=T.inputTokens+T.outputTokens;return _[23]!==M?(g=M>=1e6?`${(M/1e6).toFixed(1)}M`:M>=1e3?`${(M/1e3).toFixed(1)}K`:String(M),_[23]=M,_[24]=g):g=_[24],(_[25]!==g?(b=(0,t.jsxs)("div",{children:[h,(0,t.jsx)("p",{className:"mt-0.5 font-mono text-xs text-gray-700",children:g})]}),_[25]=g,_[26]=b):b=_[26],_[27]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("div",{className:"h-6 w-px bg-gray-200"}),v=(0,t.jsx)("span",{className:"text-gray-500",children:"마지막 활동"}),_[27]=p,_[28]=v):(p=_[27],v=_[28]),_[29]!==T.lastActivity)?(N=(a=T.lastActivity)?new Date(a).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):"-",_[29]=T.lastActivity,_[30]=N):N=_[30],_[31]!==N?(w=(0,t.jsxs)("div",{children:[v,(0,t.jsx)("p",{className:"mt-0.5 font-mono text-xs text-gray-700",children:N})]}),_[31]=N,_[32]=w):w=_[32],_[33]!==x||_[34]!==b||_[35]!==w?(k=(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-4 text-xs",children:[x,u,b,p,w]}),_[33]=x,_[34]=b,_[35]=w,_[36]=k):k=_[36],_[37]!==$||_[38]!==k||_[39]!==c?(S=(0,t.jsxs)("div",{className:$,children:[c,k]}),_[37]=$,_[38]=k,_[39]=c,_[40]=S):S=_[40],S}function N(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}let w={"viewster-pm":{avatar:"bg-violet-50 text-violet-600",text:"text-violet-600"},"gary-pm":{avatar:"bg-cyan-50 text-cyan-600",text:"text-cyan-600"}},k={active:"border-emerald-200",idle:"border-amber-200",offline:"border-gray-200"};function S(e){let a,r,l,n,i,o,d,c,m,x,u,h,g,b,p,j,v,S,$,M,P,A,C,I,L,R,E=(0,s.c)(61),{team:z}=e,D=w[z.pm.id]||w["viewster-pm"];E[0]!==z.members?(a=z.members.filter(T),E[0]=z.members,E[1]=a):a=E[1];let U=a.length,F=`rounded-2xl border bg-white overflow-hidden shadow-sm ${k[z.pm.status]}`;E[2]!==D.avatar||E[3]!==z.pm.name||E[4]!==z.pm.status?(r=(0,t.jsx)(y,{name:z.pm.name,status:z.pm.status,size:"md",colorClass:D.avatar}),E[2]=D.avatar,E[3]=z.pm.name,E[4]=z.pm.status,E[5]=r):r=E[5],E[6]!==z.pm.name?(l=(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-900",children:z.pm.name}),E[6]=z.pm.name,E[7]=l):l=E[7],E[8]!==z.pm.status?(n=(0,t.jsx)(f,{status:z.pm.status,size:"sm"}),E[8]=z.pm.status,E[9]=n):n=E[9],E[10]!==l||E[11]!==n?(i=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,n]}),E[10]=l,E[11]=n,E[12]=i):i=E[12];let O=`text-xs font-medium ${D.text}`;E[13]!==O||E[14]!==z.pm.role?(o=(0,t.jsx)("p",{className:O,children:z.pm.role}),E[13]=O,E[14]=z.pm.role,E[15]=o):o=E[15],E[16]!==i||E[17]!==o?(d=(0,t.jsxs)("div",{children:[i,o]}),E[16]=i,E[17]=o,E[18]=d):d=E[18],E[19]!==r||E[20]!==d?(c=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[r,d]}),E[19]=r,E[20]=d,E[21]=c):c=E[21],E[22]!==z.label?(m=(0,t.jsx)("p",{className:"text-xs text-gray-500",children:z.label}),E[22]=z.label,E[23]=m):m=E[23];let B=U>0?`${U}명 열일중`:"쉬는중";E[24]!==B?(x=(0,t.jsx)("p",{className:"text-xs font-medium text-gray-600",children:B}),E[24]=B,E[25]=x):x=E[25],E[26]!==m||E[27]!==x?(u=(0,t.jsxs)("div",{className:"text-right",children:[m,x]}),E[26]=m,E[27]=x,E[28]=u):u=E[28],E[29]!==c||E[30]!==u?(h=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[c,u]}),E[29]=c,E[30]=u,E[31]=h):h=E[31];let K=z.pm.inputTokens+z.pm.outputTokens;if(E[32]!==K?(g=N(K),E[32]=K,E[33]=g):g=E[33],E[34]!==g?(b=(0,t.jsxs)("span",{children:["토큰 ",g]}),E[34]=g,E[35]=b):b=E[35],E[36]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("span",{className:"text-gray-300",children:"|"}),E[36]=p):p=E[36],E[37]!==z.pm.lastActivity){var W;j=(W=z.pm.lastActivity)?new Date(W).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):"-",E[37]=z.pm.lastActivity,E[38]=j}else j=E[38];return E[39]!==j?(v=(0,t.jsxs)("span",{children:["마지막 ",j]}),E[39]=j,E[40]=v):v=E[40],E[41]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("span",{className:"text-gray-300",children:"|"}),E[41]=S):S=E[41],E[42]!==z.pm.model?($=(0,t.jsx)("span",{className:"font-mono text-gray-600",children:z.pm.model}),E[42]=z.pm.model,E[43]=$):$=E[43],E[44]!==b||E[45]!==v||E[46]!==$?(M=(0,t.jsxs)("div",{className:"mt-3 flex items-center gap-3 text-xs text-gray-500",children:[b,p,v,S,$]}),E[44]=b,E[45]=v,E[46]=$,E[47]=M):M=E[47],E[48]!==h||E[49]!==M?(P=(0,t.jsxs)("div",{className:"p-4 pb-3",children:[h,M]}),E[48]=h,E[49]=M,E[50]=P):P=E[50],E[51]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)("div",{className:"h-px bg-gray-100"}),E[51]=A):A=E[51],E[52]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)("p",{className:"mb-2 text-xs font-semibold text-gray-500 px-1",children:"팀 멤버"}),E[52]=C):C=E[52],E[53]!==z.members?(I=z.members.map(_),E[53]=z.members,E[54]=I):I=E[54],E[55]!==I?(L=(0,t.jsxs)("div",{className:"p-3",children:[C,(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:I})]}),E[55]=I,E[56]=L):L=E[56],E[57]!==F||E[58]!==P||E[59]!==L?(R=(0,t.jsxs)("div",{className:F,children:[P,A,L]}),E[57]=F,E[58]=P,E[59]=L,E[60]=R):R=E[60],R}function _(e){return(0,t.jsxs)("div",{className:`rounded-xl border p-3 transition-colors ${e.isPlaceholder?"border-gray-100 bg-gray-50/70":"border-gray-200 bg-white"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:e.name}),(0,t.jsx)(f,{status:e.status,size:"sm"})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:e.role}),(0,t.jsx)("p",{className:"mt-0.5 text-xs font-mono text-gray-400",children:e.model}),!e.isPlaceholder&&null!=e.inputTokens&&(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["토큰 ",N((e.inputTokens||0)+(e.outputTokens||0))]})]},e.id)}function T(e){return"active"===e.status}let $={active:"bg-emerald-500",idle:"bg-amber-400",offline:"bg-gray-300"},M={active:"animate-pulse",idle:"",offline:""};function P(e){let a,r=(0,s.c)(3),{status:l,size:n}=e,i=`inline-block rounded-full ${"sm"===(void 0===n?"md":n)?"h-2 w-2":"h-2.5 w-2.5"} ${$[l]} ${M[l]}`;return r[0]!==l||r[1]!==i?(a=(0,t.jsx)("span",{className:i,"aria-label":l}),r[0]=l,r[1]=i,r[2]=a):a=r[2],a}let A={active:"열일 시작",idle:"쉬는중 전환",offline:"쉬는중 전환"};function C(e){let a,r,l=(0,s.c)(3),{activities:n}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("h2",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-gray-500",children:"최근 활동"}),l[0]=a):a=l[0],l[1]!==n?(r=(0,t.jsxs)("section",{children:[a,0===n.length?(0,t.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-white p-6 text-center shadow-sm",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"아직 기록된 활동이 없습니다"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-400",children:"에이전트 상태 변경 시 여기에 표시됩니다"})]}):(0,t.jsx)("div",{className:"rounded-xl border border-gray-200 bg-white divide-y divide-gray-100 shadow-sm",children:n.map(I)})]}),l[1]=n,l[2]=r):r=l[2],r}function I(e,s){return(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2.5 text-sm transition-colors hover:bg-gray-50",children:[(0,t.jsx)("span",{className:"shrink-0 font-mono text-xs text-gray-500 tabular-nums",children:new Date(e.time).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,t.jsx)(P,{status:e.status,size:"sm"}),(0,t.jsxs)("span",{className:"truncate text-gray-600",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-800",children:e.agentName})," ",A[e.status]]})]},`${e.time}-${e.agentName}-${s}`)}let L=a.default.env.NEXT_PUBLIC_API_URL||"",R=0;function E(){return`msg-${Date.now()}-${++R}`}function z(e){let a,r,l,n,i,o=(0,s.c)(14),{msg:d}=e,c="user"===d.role,m=`flex ${c?"justify-end":"justify-start"}`,x=`max-w-[80%] rounded-2xl px-4 py-2.5 text-sm leading-relaxed ${c?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`;o[0]!==d.content?(a=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:d.content}),o[0]=d.content,o[1]=a):a=o[1];let u=`mt-1 text-[10px] ${c?"text-indigo-200":"text-gray-400"}`;return o[2]!==d.timestamp?(r=new Date(d.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),o[2]=d.timestamp,o[3]=r):r=o[3],o[4]!==u||o[5]!==r?(l=(0,t.jsx)("p",{className:u,children:r}),o[4]=u,o[5]=r,o[6]=l):l=o[6],o[7]!==x||o[8]!==a||o[9]!==l?(n=(0,t.jsxs)("div",{className:x,children:[a,l]}),o[7]=x,o[8]=a,o[9]=l,o[10]=n):n=o[10],o[11]!==m||o[12]!==n?(i=(0,t.jsx)("div",{className:m,children:n}),o[11]=m,o[12]=n,o[13]=i):i=o[13],i}function D(){let e,a=(0,s.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"rounded-2xl bg-gray-100 px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400 [animation-delay:0ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400 [animation-delay:150ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400 [animation-delay:300ms]"})]})})}),a[0]=e):e=a[0],e}function U(){let e,a,l,n,i,o,d,c,m,x,u=(0,s.c)(30),[h,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(""),{messages:p,sending:y,sendMessage:j,clearMessages:v}=function(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(!1),l=(0,r.useRef)(`web-${Date.now()}`),n=(0,r.useCallback)(async e=>{let r=e.trim();if(!r||s)return;let n={id:E(),role:"user",content:r,timestamp:Date.now()};t(e=>[...e,n]),a(!0);try{let e=await fetch(`${L}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r,sessionId:l.current})});if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),a=s.data?.content||s.content||"응답을 받지 못했습니다.",n={id:E(),role:"assistant",content:a,timestamp:Date.now()};t(e=>[...e,n])}catch(s){let e={id:E(),role:"assistant",content:`오류가 발생했습니다: ${s instanceof Error?s.message:"알 수 없는 오류"}`,timestamp:Date.now()};t(t=>[...t,e])}finally{a(!1)}},[s]);return{messages:e,sending:s,sendMessage:n,clearMessages:(0,r.useCallback)(()=>{t([]),l.current=`web-${Date.now()}`},[])}}(),N=(0,r.useRef)(null),w=(0,r.useRef)(null);u[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},u[0]=e):e=u[0],u[1]!==p||u[2]!==y?(a=[p,y],u[1]=p,u[2]=y,u[3]=a):a=u[3],(0,r.useEffect)(e,a),u[4]!==h?(l=()=>{h&&w.current&&w.current.focus()},n=[h],u[4]=h,u[5]=l,u[6]=n):(l=u[5],n=u[6]),(0,r.useEffect)(l,n),u[7]!==f||u[8]!==j||u[9]!==y?(i=e=>{e.preventDefault(),f.trim()&&!y&&(j(f),b(""))},u[7]=f,u[8]=j,u[9]=y,u[10]=i):i=u[10];let k=i;u[11]!==h?(o=()=>g(!h),u[11]=h,u[12]=o):o=u[12];let S=`fixed bottom-6 right-6 z-50 flex h-14 w-14 items-center justify-center rounded-full shadow-lg transition-all duration-200 ${h?"bg-gray-600 hover:bg-gray-700":"bg-indigo-600 hover:bg-indigo-700"}`,_=h?"채팅 닫기":"시윤에게 메시지";return u[13]!==h?(d=h?(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),u[13]=h,u[14]=d):d=u[14],u[15]!==o||u[16]!==S||u[17]!==_||u[18]!==d?(c=(0,t.jsx)("button",{onClick:o,className:S,"aria-label":_,children:d}),u[15]=o,u[16]=S,u[17]=_,u[18]=d,u[19]=c):c=u[19],u[20]!==v||u[21]!==k||u[22]!==f||u[23]!==p||u[24]!==h||u[25]!==y?(m=h&&(0,t.jsxs)("div",{className:"fixed bottom-24 right-6 z-50 flex h-[500px] w-[380px] flex-col overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 bg-white px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-50 text-sm font-bold text-indigo-600",children:"시"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-900",children:"시윤"}),(0,t.jsx)("p",{className:"text-[11px] text-gray-500",children:"통합 PM"})]})]}),(0,t.jsx)("button",{onClick:v,className:"rounded-lg px-2.5 py-1 text-xs text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700",children:"새 대화"})]}),(0,t.jsxs)("div",{ref:N,className:"flex-1 space-y-3 overflow-y-auto px-4 py-4",children:[0===p.length&&!y&&(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-indigo-50",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"시윤에게 메시지를 보내보세요"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-400",children:"프로젝트 상황이나 업무를 물어볼 수 있어요"})]}),p.map(F),y&&(0,t.jsx)(D,{})]}),(0,t.jsx)("form",{onSubmit:k,className:"border-t border-gray-100 bg-white px-3 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{ref:w,type:"text",value:f,onChange:e=>b(e.target.value),placeholder:"메시지를 입력하세요...",disabled:y,className:"flex-1 rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm text-gray-900 placeholder:text-gray-400 focus:border-indigo-300 focus:bg-white focus:outline-none focus:ring-1 focus:ring-indigo-300 disabled:opacity-50"}),(0,t.jsx)("button",{type:"submit",disabled:!f.trim()||y,className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-indigo-600 text-white transition-colors hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]})})]}),u[20]=v,u[21]=k,u[22]=f,u[23]=p,u[24]=h,u[25]=y,u[26]=m):m=u[26],u[27]!==m||u[28]!==c?(x=(0,t.jsxs)(t.Fragment,{children:[c,m]}),u[27]=m,u[28]=c,u[29]=x):x=u[29],x}function F(e){return(0,t.jsx)(z,{msg:e},e.id)}function O(){let e,a,r=(0,s.c)(2);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"h-4 w-20 rounded bg-gray-200"}),(0,t.jsx)("div",{className:"mt-1.5 h-3 w-28 rounded bg-gray-200"})]})]}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsxs)("div",{className:"animate-pulse rounded-2xl border border-gray-200 bg-white p-5",children:[e,(0,t.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-2",children:Array.from({length:4}).map(B)})]}),r[1]=a):a=r[1],a}function B(e,s){return(0,t.jsx)("div",{className:"h-20 rounded-xl bg-gray-100"},s)}function K(){let e,a,n,c,m,x,h,g,f,b,p,y,j,N=(0,s.c)(30),{headPM:w,teams:k,activities:S,loading:_,connected:T}=function(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[n,d]=(0,r.useState)([]),[c,m]=(0,r.useState)(!0),[x,u]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1),f=(0,r.useRef)(new Map),b=(0,r.useCallback)(async()=>{try{let e=await fetch(`${l}/api/agents`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),r=(s.data??s).map(o);t(r),a(function(e){let t=new Map(e.map(e=>[e.id,e])),s=[];for(let[a,r]of Object.entries(i)){let l=t.get(a);if(!l)continue;let n=r.members.map(t=>{let s=e.find(e=>e.id===t.id);return s?{id:s.id,name:t.name,role:t.role,model:s.model||t.model,status:s.status,isPlaceholder:!1,lastActivity:s.lastActivity,inputTokens:s.inputTokens,outputTokens:s.outputTokens}:{id:t.id,name:t.name,role:t.role,model:t.model,status:"offline",isPlaceholder:!0}});s.push({pm:l,members:n,label:r.label,description:r.description})}return s}(r)),g(!0),u(null);let n=f.current,c=[],m=Date.now();for(let e of r){let t=n.get(e.id);void 0!==t&&t!==e.status&&c.push({time:m,agentName:e.name,status:e.status})}c.length>0&&d(e=>[...c,...e].slice(0,20));let x=new Map;for(let e of r)x.set(e.id,e.status);f.current=x}catch(e){u(e instanceof Error?e.message:"Failed to fetch agents"),g(!1)}finally{m(!1)}},[]);(0,r.useEffect)(()=>{b();let e=setInterval(b,1e4);return()=>clearInterval(e)},[b]);let p=e.find(e=>"pm"===e.id)||null;return{agents:e,teams:s,headPM:p,activities:n,loading:c,error:x,connected:h}}(),{stats:$,loading:M}=function(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[l,n]=(0,r.useState)(null),i=(0,r.useCallback)(async()=>{try{let e=await fetch(`${d}/api/stats`);if(!e.ok)throw Error(`HTTP ${e.status}`);let s=await e.json(),a=s.data??s;t(a),n(null)}catch(e){n(e instanceof Error?e.message:"Failed to fetch stats")}finally{a(!1)}},[]);return(0,r.useEffect)(()=>{i();let e=setInterval(i,1e4);return()=>clearInterval(e)},[i]),{stats:e,loading:s,error:l}}();N[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-gray-900 tracking-tight",children:"Gary Agent Team"}),(0,t.jsx)("span",{className:"rounded-md bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-600",children:"Dashboard"})]}),N[0]=e):e=N[0];let P=`inline-block h-2 w-2 rounded-full ${T?"bg-emerald-500 shadow-sm shadow-emerald-500/30":"bg-red-400 shadow-sm shadow-red-400/30"}`;N[1]!==P?(a=(0,t.jsx)("span",{className:P}),N[1]=P,N[2]=a):a=N[2];let A=T?"연결됨":"연결 끊김";return N[3]!==A?(n=(0,t.jsx)("span",{className:"text-sm text-gray-600",children:A}),N[3]=A,N[4]=n):n=N[4],N[5]!==a||N[6]!==n?(c=(0,t.jsx)("header",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white/80 backdrop-blur-md",children:(0,t.jsxs)("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-4 py-3",children:[e,(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a,n]})]})}),N[5]=a,N[6]=n,N[7]=c):c=N[7],N[8]!==$||N[9]!==M?(m=(0,t.jsx)(u,{stats:$,loading:M}),N[8]=$,N[9]=M,N[10]=m):m=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)("h2",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-gray-500",children:"총괄 PM"}),N[11]=x):x=N[11],N[12]!==_||N[13]!==w?(h=(0,t.jsxs)("section",{children:[x,_?(0,t.jsx)("div",{className:"animate-pulse rounded-2xl border border-gray-200 bg-white p-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-11 w-11 rounded-full bg-gray-200"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"h-4 w-16 rounded bg-gray-200"}),(0,t.jsx)("div",{className:"mt-1.5 h-3 w-24 rounded bg-gray-200"})]})]})}):w?(0,t.jsx)(v,{agent:w}):(0,t.jsx)("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"에이전트 없음"})})]}),N[12]=_,N[13]=w,N[14]=h):h=N[14],N[15]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("h2",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-gray-500",children:"프로젝트 팀"}),N[15]=g):g=N[15],N[16]!==_||N[17]!==k?(f=(0,t.jsxs)("section",{children:[g,_?(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsx)(O,{}),(0,t.jsx)(O,{})]}):k.length>0?(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:k.map(W)}):(0,t.jsx)("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"팀 없음"})})]}),N[16]=_,N[17]=k,N[18]=f):f=N[18],N[19]!==S?(b=(0,t.jsx)(C,{activities:S}),N[19]=S,N[20]=b):b=N[20],N[21]!==f||N[22]!==b||N[23]!==m||N[24]!==h?(p=(0,t.jsxs)("main",{className:"mx-auto max-w-5xl space-y-6 px-4 py-6",children:[m,h,f,b]}),N[21]=f,N[22]=b,N[23]=m,N[24]=h,N[25]=p):p=N[25],N[26]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)(U,{}),N[26]=y):y=N[26],N[27]!==p||N[28]!==c?(j=(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[c,p,y]}),N[27]=p,N[28]=c,N[29]=j):j=N[29],j}function W(e){return(0,t.jsx)(S,{team:e},e.pm.id)}e.s(["default",()=>K],52683)}]);