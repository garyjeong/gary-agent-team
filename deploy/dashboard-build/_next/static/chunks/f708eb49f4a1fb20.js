(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),r=e.i(932),s=e.i(47167),n=e.i(71645);let a={pm:{name:"시윤",role:"총괄 PM",color:"indigo"},"viewster-pm":{name:"준서",role:"Viewster 팀장",parent:"pm",color:"pink"},"gary-pm":{name:"도윤",role:"Gary 프로젝트 팀장",parent:"pm",color:"emerald"},"viewster-be":{name:"민재",role:"백엔드",parent:"viewster-pm",color:"pink"},"viewster-web":{name:"하은",role:"웹 프론트",parent:"viewster-pm",color:"pink"},"viewster-mobile":{name:"지호",role:"모바일",parent:"viewster-pm",color:"pink"},"viewster-design":{name:"수아",role:"디자인",parent:"viewster-pm",color:"pink"},"viewster-qa":{name:"예준",role:"QA",parent:"viewster-pm",color:"pink"},"gary-be":{name:"서연",role:"백엔드",parent:"gary-pm",color:"emerald"},"gary-web":{name:"주원",role:"웹 프론트",parent:"gary-pm",color:"emerald"},"gary-mobile":{name:"다은",role:"모바일",parent:"gary-pm",color:"emerald"},"gary-design":{name:"현우",role:"디자인",parent:"gary-pm",color:"emerald"},"gary-qa":{name:"소율",role:"QA",parent:"gary-pm",color:"emerald"}},l={"viewster-pm":{label:"Viewster",description:"YouTube 기반 리워드 영상 시청 플랫폼",members:[{id:"viewster-be",name:"민재",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"viewster-web",name:"하은",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"viewster-mobile",name:"지호",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"viewster-design",name:"수아",role:"UI/UX 디자인",model:"claude-sonnet-4-6"},{id:"viewster-qa",name:"예준",role:"품질보증/테스트",model:"claude-sonnet-4-6"}]},"gary-pm":{label:"Gary Projects",description:"Nestack, gold-message, lotto-pick 등 개인 프로젝트",members:[{id:"gary-be",name:"서연",role:"백엔드 개발",model:"claude-sonnet-4-6"},{id:"gary-web",name:"주원",role:"웹 프론트엔드",model:"claude-sonnet-4-6"},{id:"gary-mobile",name:"다은",role:"모바일 개발",model:"claude-sonnet-4-6"},{id:"gary-design",name:"현우",role:"UI/UX 디자인",model:"claude-sonnet-4-6"},{id:"gary-qa",name:"소율",role:"품질보증/테스트",model:"claude-sonnet-4-6"}]}},i={pm:{text:"text-indigo-500 dark:text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20",ring:"ring-indigo-500/20",chatBorder:"border-l-indigo-500"},"viewster-pm":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"gary-pm":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"viewster-be":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-web":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-mobile":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-design":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"viewster-qa":{text:"text-pink-500 dark:text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20",ring:"ring-pink-500/20",chatBorder:"border-l-pink-500"},"gary-be":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-web":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-mobile":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-design":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"},"gary-qa":{text:"text-emerald-500 dark:text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",ring:"ring-emerald-500/20",chatBorder:"border-l-emerald-500"}},o=["pm","viewster-pm","gary-pm","viewster-be","viewster-web","viewster-mobile","viewster-design","viewster-qa","gary-be","gary-web","gary-mobile","gary-design","gary-qa"],c=["pm","viewster-pm","gary-pm"],d=s.default.env.NEXT_PUBLIC_API_URL||"";function m(e){let t=a[e.id];return t?{...e,name:t.name,role:t.role,parent:t.parent}:e}let x=s.default.env.NEXT_PUBLIC_API_URL||"",u=s.default.env.NEXT_PUBLIC_API_URL||"",h=s.default.env.NEXT_PUBLIC_API_URL||"";var p=e.i(65150);function f(){let e,s,n,a=(0,r.c)(9),{resolved:l,setTheme:i}=(0,p.useTheme)();a[0]!==l||a[1]!==i?(e=()=>{i("dark"===l?"light":"dark")},a[0]=l,a[1]=i,a[2]=e):e=a[2];let o=e,c="dark"===l?"라이트 모드로 전환":"다크 모드로 전환";return a[3]!==l?(s="dark"===l?(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,t.jsx)("svg",{className:"h-4.5 w-4.5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),a[3]=l,a[4]=s):s=a[4],a[5]!==c||a[6]!==s||a[7]!==o?(n=(0,t.jsx)("button",{onClick:o,className:"flex h-9 w-9 items-center justify-center rounded-xl bg-surface-hover transition-colors hover:bg-surface-light cursor-pointer","aria-label":c,children:s}),a[5]=c,a[6]=s,a[7]=o,a[8]=n):n=a[8],n}function b(e){let s,n,a,l,i,o,c,d,m=(0,r.c)(17),{connected:x}=e;m[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("span",{className:"text-base font-semibold tracking-tight text-text-primary",children:"Gary Agent Team"}),(0,t.jsx)("span",{className:"rounded-md bg-accent-indigo/10 px-2 py-0.5 text-sm font-medium text-accent-indigo","aria-label":"Dashboard",children:"Dashboard"})]}),m[0]=s):s=m[0];let u=x?"연결됨":"연결 끊김";m[1]!==x?(n=x&&(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-accent-emerald opacity-60"}),m[1]=x,m[2]=n):n=m[2];let h=`relative inline-flex h-2 w-2 rounded-full ${x?"bg-accent-emerald":"bg-accent-rose"}`;m[3]!==h?(a=(0,t.jsx)("span",{className:h}),m[3]=h,m[4]=a):a=m[4],m[5]!==n||m[6]!==a?(l=(0,t.jsxs)("span",{className:"relative flex h-2 w-2 items-center justify-center",children:[n,a]}),m[5]=n,m[6]=a,m[7]=l):l=m[7];let p=x?"연결됨":"연결 끊김";return m[8]!==p?(i=(0,t.jsx)("span",{className:"hidden text-sm font-medium text-text-secondary sm:inline",children:p}),m[8]=p,m[9]=i):i=m[9],m[10]!==u||m[11]!==l||m[12]!==i?(o=(0,t.jsxs)("div",{className:"flex items-center gap-1.5",role:"status","aria-live":"polite","aria-label":u,children:[l,i]}),m[10]=u,m[11]=l,m[12]=i,m[13]=o):o=m[13],m[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(f,{}),m[14]=c):c=m[14],m[15]!==o?(d=(0,t.jsxs)("header",{className:"sticky top-0 z-10 flex h-12 shrink-0 items-center justify-between border-b border-border-subtle bg-background/80 px-4 backdrop-blur-xl lg:px-6",role:"banner",children:[s,(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[o,c]})]}),m[15]=o,m[16]=d):d=m[16],d}let g=[{id:"chat",label:"채팅",icon:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{id:"agents",label:"에이전트",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"detail",label:"상세",icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,t.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,t.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}];function j(e){let s,n,a=(0,r.c)(5),{activeTab:l,onTabChange:i}=e;return a[0]!==l||a[1]!==i?(s=g.map(e=>{let r=l===e.id;return(0,t.jsxs)("button",{role:"tab","aria-selected":r,"aria-label":e.label,onClick:()=>i(e.id),className:`flex min-h-[48px] flex-1 flex-col items-center justify-center gap-1 px-2 py-2 text-xs font-medium transition-colors ${r?"text-accent-indigo":"text-text-muted hover:text-text-secondary"}`,children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.id)}),a[0]=l,a[1]=i,a[2]=s):s=a[2],a[3]!==s?(n=(0,t.jsx)("nav",{className:"safe-bottom border-t border-border-subtle bg-surface/80 backdrop-blur-lg md:hidden",role:"tablist","aria-label":"모바일 탭 네비게이션",children:(0,t.jsx)("div",{className:"flex",children:s})}),a[3]=s,a[4]=n):n=a[4],n}function y(e){let s,a,l,i,o,c,d,m,x,u,h,p,f,g,y,v=(0,r.c)(42),{connected:k,leftPanel:w,centerPanel:N,rightPanel:C}=e,[B,_]=(0,n.useState)("chat");return v[0]!==k?(s=(0,t.jsx)(b,{connected:k}),v[0]=k,v[1]=s):s=v[1],v[2]!==w?(a=(0,t.jsx)("aside",{className:"w-[280px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:w}),v[2]=w,v[3]=a):a=v[3],v[4]!==N?(l=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:N}),v[4]=N,v[5]=l):l=v[5],v[6]!==C?(i=(0,t.jsx)("aside",{className:"w-[320px] shrink-0 border-l border-border-subtle overflow-y-auto","aria-label":"상세 정보",children:C}),v[6]=C,v[7]=i):i=v[7],v[8]!==a||v[9]!==l||v[10]!==i?(o=(0,t.jsxs)("div",{className:"hidden xl:flex flex-1 min-h-0",children:[a,l,i]}),v[8]=a,v[9]=l,v[10]=i,v[11]=o):o=v[11],v[12]!==w?(c=(0,t.jsx)("aside",{className:"w-[240px] shrink-0 border-r border-border-subtle overflow-y-auto","aria-label":"에이전트 목록",children:w}),v[12]=w,v[13]=c):c=v[13],v[14]!==N?(d=(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-y-auto","aria-label":"채팅",children:N}),v[14]=N,v[15]=d):d=v[15],v[16]!==c||v[17]!==d?(m=(0,t.jsxs)("div",{className:"hidden md:flex xl:hidden flex-1 min-h-0",children:[c,d]}),v[16]=c,v[17]=d,v[18]=m):m=v[18],v[19]!==B||v[20]!==N?(x="chat"===B&&(0,t.jsx)("main",{"aria-label":"채팅",className:"h-full",children:N}),v[19]=B,v[20]=N,v[21]=x):x=v[21],v[22]!==B||v[23]!==w?(u="agents"===B&&(0,t.jsx)("section",{"aria-label":"에이전트 목록",className:"h-full",children:w}),v[22]=B,v[23]=w,v[24]=u):u=v[24],v[25]!==B||v[26]!==C?(h="detail"===B&&(0,t.jsx)("section",{"aria-label":"상세 정보",className:"h-full",children:C}),v[25]=B,v[26]=C,v[27]=h):h=v[27],v[28]!==u||v[29]!==h||v[30]!==x?(p=(0,t.jsxs)("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[x,u,h]}),v[28]=u,v[29]=h,v[30]=x,v[31]=p):p=v[31],v[32]!==B?(f=(0,t.jsx)(j,{activeTab:B,onTabChange:_}),v[32]=B,v[33]=f):f=v[33],v[34]!==p||v[35]!==f?(g=(0,t.jsxs)("div",{className:"flex md:hidden flex-1 min-h-0 flex-col",children:[p,f]}),v[34]=p,v[35]=f,v[36]=g):g=v[36],v[37]!==s||v[38]!==g||v[39]!==o||v[40]!==m?(y=(0,t.jsxs)("div",{className:"h-dvh flex flex-col bg-background",children:[s,o,m,g]}),v[37]=s,v[38]=g,v[39]=o,v[40]=m,v[41]=y):y=v[41],y}let v={active:"bg-emerald-500",idle:"bg-amber-400",offline:"bg-gray-300"},k={active:"animate-pulse",idle:"",offline:""};function w(e){let s,n=(0,r.c)(3),{status:a,size:l}=e,i=`inline-block rounded-full ${"sm"===(void 0===l?"md":l)?"h-2 w-2":"h-2.5 w-2.5"} ${v[a]} ${k[a]}`;return n[0]!==a||n[1]!==i?(s=(0,t.jsx)("span",{className:i,"aria-label":a}),n[0]=a,n[1]=i,n[2]=s):s=n[2],s}let N={xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-14 w-14",xl:"h-20 w-20"},C={xs:"sm",sm:"sm",md:"md",lg:"md",xl:"md"},B={active:"animate-avatar-bounce",idle:"animate-avatar-breathe",offline:"grayscale opacity-40"},_=["https://t1.daumcdn.net/cfile/tistory/236B6242548B720328","https://t1.daumcdn.net/cfile/tistory/24747C42548B720522","https://t1.daumcdn.net/cfile/tistory/246FB942548B720426","https://t1.daumcdn.net/cfile/tistory/240ACD42548B720416","https://t1.daumcdn.net/cfile/tistory/255BD13D548B6C161B","https://t1.daumcdn.net/cfile/tistory/2659E13D548B6C161D","https://t1.daumcdn.net/cfile/tistory/2558C23D548B6C161E","https://t1.daumcdn.net/cfile/tistory/245C133D548B6C171B","https://t1.daumcdn.net/cfile/tistory/245B1A3D548B6C171C","https://t1.daumcdn.net/cfile/tistory/255B143D548B6C171C","https://t1.daumcdn.net/cfile/tistory/235C203D548B6C181B","https://t1.daumcdn.net/cfile/tistory/2758DF3D548B6C181E","https://t1.daumcdn.net/cfile/tistory/2231A644548B6C180B","https://t1.daumcdn.net/cfile/tistory/213FFE44548B6C1903","https://t1.daumcdn.net/cfile/tistory/273E2C44548B6C1904","https://t1.daumcdn.net/cfile/tistory/273A4444548B6C1A06","https://t1.daumcdn.net/cfile/tistory/2341F144548B6C1A02","https://t1.daumcdn.net/cfile/tistory/2631EB44548B6C1B0A","https://t1.daumcdn.net/cfile/tistory/2231ED44548B6C1B0B","https://t1.daumcdn.net/cfile/tistory/21351244548B6C1B09","https://t1.daumcdn.net/cfile/tistory/23400144548B6C1B03","https://t1.daumcdn.net/cfile/tistory/2531EF44548B6C1C0B","https://t1.daumcdn.net/cfile/tistory/23366C44548B6C1C08","https://t1.daumcdn.net/cfile/tistory/21351F44548B6C1C09","https://t1.daumcdn.net/cfile/tistory/21698C44548B6C1C39","https://t1.daumcdn.net/cfile/tistory/27478F41548B6C1D34","https://t1.daumcdn.net/cfile/tistory/2641E341548B6C1D38","https://t1.daumcdn.net/cfile/tistory/2243FC41548B6C1D36","https://t1.daumcdn.net/cfile/tistory/214A3741548B6C1D31","https://t1.daumcdn.net/cfile/tistory/22151E41548B6C1D01","https://t1.daumcdn.net/cfile/tistory/22486C41548B6C1D33","https://t1.daumcdn.net/cfile/tistory/214A1841548B6C1E31","https://t1.daumcdn.net/cfile/tistory/2515823E548B6C1E0A","https://t1.daumcdn.net/cfile/tistory/2378A83E548B6C1E1B","https://t1.daumcdn.net/cfile/tistory/2179963E548B6C1F1A","https://t1.daumcdn.net/cfile/tistory/2777DF3E548B6C1F1C","https://t1.daumcdn.net/cfile/tistory/2145AA46548B6C1F33","https://t1.daumcdn.net/cfile/tistory/25490246548B6C1F37","https://t1.daumcdn.net/cfile/tistory/26451246548B6C1F34","https://t1.daumcdn.net/cfile/tistory/2744A846548B6C2035","https://t1.daumcdn.net/cfile/tistory/254AF146548B6C202E","https://t1.daumcdn.net/cfile/tistory/25435B46548B6C2036","https://t1.daumcdn.net/cfile/tistory/2244AA46548B6C2035","https://t1.daumcdn.net/cfile/tistory/27251840548B6C2136","https://t1.daumcdn.net/cfile/tistory/2728E940548B6C2133","https://t1.daumcdn.net/cfile/tistory/2425D240548B6C2134","https://t1.daumcdn.net/cfile/tistory/25747240548B6C2103","https://t1.daumcdn.net/cfile/tistory/26262140548B6C2133","https://t1.daumcdn.net/cfile/tistory/2474BA40548B6C2203","https://t1.daumcdn.net/cfile/tistory/25709E42548B6C2E1C","https://t1.daumcdn.net/cfile/tistory/2471FD42548B6C2F1B","https://t1.daumcdn.net/cfile/tistory/216E3F42548B6C2F1D","https://t1.daumcdn.net/cfile/tistory/217A7F42548B6C2F15","https://t1.daumcdn.net/cfile/tistory/27088042548B6C2F0E","https://t1.daumcdn.net/cfile/tistory/25034C42548B6C2F11","https://t1.daumcdn.net/cfile/tistory/27720242548B6C301B","https://t1.daumcdn.net/cfile/tistory/2571FF42548B6C301A","https://t1.daumcdn.net/cfile/tistory/227C7142548B6C3014","https://t1.daumcdn.net/cfile/tistory/221F3642548B6C3052","https://t1.daumcdn.net/cfile/tistory/23517246548B6C312B","https://t1.daumcdn.net/cfile/tistory/21476446548B6C3132"];function S(e){let s,n,a,l,i=(0,r.c)(13),{agentId:o,status:c,size:d,showStatus:m}=e,x=void 0===d?"md":d,u=void 0!==m&&m,h=N[x],p=B[c],f=C[x];if(i[0]!==o){let e;e=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return Math.abs(t)}(o)%_.length,s=_[e],i[0]=o,i[1]=s}else s=i[1];let b=s,g=`${o} 아바타`,j=`${h} ${p} rounded-full object-cover transition-all duration-300 bg-gray-100 dark:bg-white/10`;return i[2]!==b||i[3]!==g||i[4]!==j?(n=(0,t.jsx)("img",{src:b,alt:g,className:j,loading:"lazy"}),i[2]=b,i[3]=g,i[4]=j,i[5]=n):n=i[5],i[6]!==f||i[7]!==u||i[8]!==c?(a=u&&(0,t.jsx)("span",{className:"absolute bottom-0 right-0 flex items-center justify-center","aria-hidden":"true",children:(0,t.jsx)(w,{status:c,size:f})}),i[6]=f,i[7]=u,i[8]=c,i[9]=a):a=i[9],i[10]!==n||i[11]!==a?(l=(0,t.jsxs)("span",{className:"relative inline-flex items-center justify-center select-none",children:[n,a]}),i[10]=n,i[11]=a,i[12]=l):l=i[12],l}let L={active:{label:"열일중",dot:"bg-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-500 dark:text-emerald-400",pulse:!0,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},idle:{label:"쉬는중",dot:"bg-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-500 dark:text-amber-400",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 9v6m4-6v6"})})},offline:{label:"오프라인",dot:"bg-gray-400 dark:bg-gray-500",bg:"bg-gray-500/10",border:"border-gray-500/20",text:"text-gray-500",pulse:!1,icon:(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})})}};function $(e){let s,n,a,l=(0,r.c)(11),{status:i,size:o}=e,c=L[i],d=`inline-flex items-center gap-1 rounded-full border ${"sm"===(void 0===o?"md":o)?"px-1.5 py-0.5":"px-2 py-0.5"} ${c.bg} ${c.border}`;l[0]!==c.icon||l[1]!==c.text?(s=(0,t.jsx)("span",{className:c.text,children:c.icon}),l[0]=c.icon,l[1]=c.text,l[2]=s):s=l[2];let m=`font-medium text-xs ${c.text}`;return l[3]!==c.label||l[4]!==m?(n=(0,t.jsx)("span",{className:m,children:c.label}),l[3]=c.label,l[4]=m,l[5]=n):n=l[5],l[6]!==c.label||l[7]!==d||l[8]!==s||l[9]!==n?(a=(0,t.jsxs)("span",{className:d,role:"status","aria-label":c.label,children:[s,n]}),l[6]=c.label,l[7]=d,l[8]=s,l[9]=n,l[10]=a):a=l[10],a}function T(e){let s,n,a,l,o,c,d,m,x,u,h,p,f,b=(0,r.c)(39),{agent:g,selected:j,onClick:y}=e,v=i[g.id];b[0]!==g.id?(s=({pm:"border-l-accent-indigo","viewster-pm":"border-l-accent-pink","gary-pm":"border-l-accent-emerald"})[g.id]??"border-l-accent-indigo",b[0]=g.id,b[1]=s):s=b[1];let k=s,w=`에이전트 ${g.name} 선택`,N=j?`bg-surface-hover ${k}`:"border-l-transparent hover:bg-surface-hover";b[2]!==N?(n=["w-full flex items-center gap-3 px-3 py-3 text-left","min-h-[60px]","transition-all duration-150 ease-in-out","border-l-[3px]","cursor-pointer",N,"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-indigo focus-visible:ring-inset"],b[2]=N,b[3]=n):n=b[3];let C=n.join(" ");b[4]!==g.id||b[5]!==g.status?(a=(0,t.jsx)("span",{className:"shrink-0","aria-hidden":"true",children:(0,t.jsx)(S,{agentId:g.id,status:g.status,size:"md",showStatus:!0})}),b[4]=g.id,b[5]=g.status,b[6]=a):a=b[6];let B="text-text-primary";b[7]!==B?(l=["text-base font-semibold leading-tight truncate",B],b[7]=B,b[8]=l):l=b[8];let _=l.join(" ");return b[9]!==g.name||b[10]!==_?(o=(0,t.jsx)("span",{className:_,children:g.name}),b[9]=g.name,b[10]=_,b[11]=o):o=b[11],b[12]!==g.status?(c=(0,t.jsx)($,{status:g.status,size:"sm"}),b[12]=g.status,b[13]=c):c=b[13],b[14]!==g.model?(d=function(e){let t=e.toLowerCase(),r=t.match(/(\d+)[-.](\d+)(?:[-.](\d+))?$/),s=r?`${r[1]}.${r[2]}${r[3]?"."+r[3]:""}`:"";for(let[e,r]of[["opus","오푸스"],["sonnet","소넷"],["haiku","하이쿠"],["gemini","젬미니"],["gpt-4o","GPT-4o"],["gpt-4","GPT-4"],["gpt","GPT"],["llama","라마"],["mistral","미스트랄"],["deepseek","딥시크"]])if(t.includes(e))return s?`${r} ${s}`:r;return e}(g.model),b[14]=g.model,b[15]=d):d=b[15],b[16]!==d?(m=(0,t.jsx)("span",{className:"text-[10px] font-medium text-text-tertiary bg-gray-100 dark:bg-white/[0.06] px-1.5 py-0.5 rounded-full leading-none whitespace-nowrap",children:d}),b[16]=d,b[17]=m):m=b[17],b[18]!==o||b[19]!==c||b[20]!==m?(x=(0,t.jsxs)("span",{className:"flex items-center gap-2 flex-wrap",children:[o,c,m]}),b[18]=o,b[19]=c,b[20]=m,b[21]=x):x=b[21],b[22]!==g.role||b[23]!==v?(u=g.role&&(0,t.jsx)("span",{className:["text-xs font-medium leading-tight truncate",v?v.text:"text-text-tertiary"].join(" "),children:g.role}),b[22]=g.role,b[23]=v,b[24]=u):u=b[24],b[25]!==g.currentTask||b[26]!==g.status?(h=g.currentTask&&"active"===g.status&&(0,t.jsx)("span",{className:"text-[11px] text-text-tertiary leading-tight truncate mt-0.5",children:g.currentTask}),b[25]=g.currentTask,b[26]=g.status,b[27]=h):h=b[27],b[28]!==x||b[29]!==u||b[30]!==h?(p=(0,t.jsxs)("span",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[x,u,h]}),b[28]=x,b[29]=u,b[30]=h,b[31]=p):p=b[31],b[32]!==y||b[33]!==j||b[34]!==p||b[35]!==w||b[36]!==C||b[37]!==a?(f=(0,t.jsxs)("button",{type:"button",onClick:y,"aria-pressed":j,"aria-label":w,className:C,children:[a,p]}),b[32]=y,b[33]=j,b[34]=p,b[35]=w,b[36]=C,b[37]=a,b[38]=f):f=b[38],f}function A(e){return"pm"===e.id}function M(e){return"pm"===e.parent&&"pm"!==e.id}function E(e){return!!e.parent&&"pm"!==e.parent}function D(e){let s,n,a,i,o,c,d,m,x,u,h=(0,r.c)(37),{agents:p,selectedAgentId:f,onSelectAgent:b,className:g}=e,j=void 0===g?"":g;h[0]!==p?(s=p.find(A),h[0]=p,h[1]=s):s=h[1];let y=s;if(h[2]!==p||h[3]!==j||h[4]!==y||h[5]!==b||h[6]!==f){let e,r,s,x,u,g=p.filter(M),v=p.filter(E);h[14]!==p?(e=p.filter(I),h[14]=p,h[15]=e):e=h[15];let k=e.length;h[16]!==j?(r=["flex flex-col bg-surface h-full",j],h[16]=j,h[17]=r):r=h[17],c=r.join(" "),d="에이전트 목록",h[18]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("h2",{className:"text-xs font-bold uppercase tracking-widest text-text-tertiary",children:"AI 팀원"}),h[18]=s):s=h[18];let w=`총 ${p.length}명, ${k}명 활성`;h[19]!==k?(x=k>0&&(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse","aria-hidden":"true"}),h[19]=k,h[20]=x):x=h[20],h[21]!==p.length?(u=(0,t.jsx)("span",{className:"text-xs font-semibold text-text-secondary tabular-nums",children:p.length}),h[21]=p.length,h[22]=u):u=h[22],h[23]!==w||h[24]!==x||h[25]!==u?(m=(0,t.jsxs)("div",{className:"shrink-0 flex items-center gap-2.5 px-4 py-3.5 border-b border-border-subtle",children:[s,(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-surface-hover border border-border-subtle px-2 py-0.5","aria-label":w,children:[x,u]})]}),h[23]=w,h[24]=x,h[25]=u,h[26]=m):m=h[26],n="flex-1 overflow-y-auto scrollbar-hide",a="list",i="에이전트 선택",o=0===p.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-24 px-4",children:(0,t.jsx)("p",{className:"text-sm text-text-tertiary text-center",children:"에이전트 없음"})}):(0,t.jsxs)(t.Fragment,{children:[y&&(0,t.jsxs)("div",{role:"group","aria-label":"총괄 PM",children:[(0,t.jsx)("div",{className:"px-4 pt-3 pb-1",children:(0,t.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-widest text-text-tertiary/70",children:"총괄 PM"})}),(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(T,{agent:y,selected:f===y.id,onClick:()=>b(y.id)})})]}),g.map(e=>{var r;let s=(r=e.id,v.filter(e=>e.parent===r)),n=l[e.id],a=n?.label||e.name;return(0,t.jsxs)("div",{role:"group","aria-label":`${a} 팀`,children:[(0,t.jsx)("div",{className:"mx-3 my-1 h-px bg-border-subtle",role:"separator","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-4 pt-2 pb-1",children:[(0,t.jsxs)("span",{className:"text-[11px] font-bold uppercase tracking-widest text-text-tertiary/70 flex-1",children:[a," 팀"]}),(0,t.jsx)("span",{className:"text-[10px] font-medium text-text-muted tabular-nums",children:s.length+1})]}),(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(T,{agent:e,selected:f===e.id,onClick:()=>b(e.id)})}),s.length>0&&(0,t.jsx)("div",{className:"pl-4",children:s.map(e=>(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(T,{agent:e,selected:f===e.id,onClick:()=>b(e.id)})},e.id))})]},e.id)}),(0,t.jsx)("div",{className:"h-3","aria-hidden":"true"})]}),h[2]=p,h[3]=j,h[4]=y,h[5]=b,h[6]=f,h[7]=n,h[8]=a,h[9]=i,h[10]=o,h[11]=c,h[12]=d,h[13]=m}else n=h[7],a=h[8],i=h[9],o=h[10],c=h[11],d=h[12],m=h[13];return h[27]!==n||h[28]!==a||h[29]!==i||h[30]!==o?(x=(0,t.jsx)("div",{className:n,role:a,"aria-label":i,children:o}),h[27]=n,h[28]=a,h[29]=i,h[30]=o,h[31]=x):x=h[31],h[32]!==x||h[33]!==c||h[34]!==d||h[35]!==m?(u=(0,t.jsxs)("div",{className:c,"aria-label":d,children:[m,x]}),h[32]=x,h[33]=c,h[34]=d,h[35]=m,h[36]=u):u=h[36],u}function I(e){return"active"===e.status}let z=s.default.env.NEXT_PUBLIC_API_URL||"",F="group-chat-messages",P="group-chat-session",W="group-chat-cleared-at",O=0;function U(){return`msg-${Date.now()}-${++O}`}function R(){try{let e=localStorage.getItem(F);return e?JSON.parse(e):[]}catch{return[]}}function H(e){try{localStorage.setItem(F,JSON.stringify(e))}catch{}}let q={};for(let[e,t]of Object.entries(a))q[t.name]=e;async function K(e,t,r){try{let s=await fetch(`${z}/api/chat`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,sessionId:r,agentId:t})});if(!s.ok)throw Error(`HTTP ${s.status}`);let n=await s.json();return{content:n.data?.content||n.content||"응답을 받지 못했습니다."}}catch(e){return{content:"",error:e instanceof Error?e.message:"알 수 없는 오류"}}}async function X(){try{let e=await fetch(`${z}/api/chat/history?days=7`,{credentials:"include"});if(!e.ok)return[];let t=await e.json();return t.data?.messages||[]}catch{return[]}}function G(e){return new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})}function V(e){let s,n,a,l,i=(0,r.c)(9),{message:o}=e;return i[0]!==o.content?(s=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:o.content}),i[0]=o.content,i[1]=s):s=i[1],i[2]!==o.timestamp?(n=G(o.timestamp),i[2]=o.timestamp,i[3]=n):n=i[3],i[4]!==n?(a=(0,t.jsx)("p",{className:"mt-1 text-xs text-white/60",children:n}),i[4]=n,i[5]=a):a=i[5],i[6]!==s||i[7]!==a?(l=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("div",{className:"max-w-[78%]",children:(0,t.jsxs)("div",{className:"rounded-2xl rounded-tr-sm bg-chat-user-bg px-4 py-2.5 text-base leading-relaxed text-chat-user-text",children:[s,a]})})}),i[6]=s,i[7]=a,i[8]=l):l=i[8],l}function J(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-text-muted animate-bounce [animation-delay:0ms]"}),(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-text-muted animate-bounce [animation-delay:150ms]"}),(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-text-muted animate-bounce [animation-delay:300ms]"})]}),s[0]=e):e=s[0],e}function Q(e){let s,n,a,l,o,c,d,m,x=(0,r.c)(23),{message:u}=e,h=u.from.id,p=i[h]??i.pm,f="typing"===u.status;x[0]!==h?(s=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(S,{agentId:h,status:"active",size:"xs"})}),x[0]=h,x[1]=s):s=x[1];let b=`mb-1 text-xs font-semibold ${p.text}`;x[2]!==u.from.name||x[3]!==b?(n=(0,t.jsx)("p",{className:b,children:u.from.name}),x[2]=u.from.name,x[3]=b,x[4]=n):n=x[4];let g=`rounded-2xl rounded-tl-sm border-l-[3px] bg-chat-agent-bg px-4 py-2.5 text-base leading-relaxed text-chat-agent-text ${p.chatBorder}`;return x[5]!==f||x[6]!==u.content?(a=f?(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(J,{})}):(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:u.content}),x[5]=f,x[6]=u.content,x[7]=a):a=x[7],x[8]!==f||x[9]!==u.timestamp?(l=f?"응답 중...":G(u.timestamp),x[8]=f,x[9]=u.timestamp,x[10]=l):l=x[10],x[11]!==l?(o=(0,t.jsx)("p",{className:"mt-1 text-xs text-text-muted",children:l}),x[11]=l,x[12]=o):o=x[12],x[13]!==g||x[14]!==a||x[15]!==o?(c=(0,t.jsxs)("div",{className:g,children:[a,o]}),x[13]=g,x[14]=a,x[15]=o,x[16]=c):c=x[16],x[17]!==n||x[18]!==c?(d=(0,t.jsxs)("div",{className:"max-w-[78%]",children:[n,c]}),x[17]=n,x[18]=c,x[19]=d):d=x[19],x[20]!==s||x[21]!==d?(m=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[s,d]}),x[20]=s,x[21]=d,x[22]=m):m=x[22],m}function Y(e){let s,n,a,l,o,c,d,m,x,u,h,p,f=(0,r.c)(30),{message:b}=e,g=b.from.id,j=b.to?.id??"",y=i[g]??i.pm,v=i[j]??i.pm;f[0]!==g?(s=(0,t.jsx)("div",{className:"shrink-0 mt-0.5",children:(0,t.jsx)(S,{agentId:g,status:"active",size:"xs"})}),f[0]=g,f[1]=s):s=f[1];let k=`text-xs font-semibold ${y.text}`;f[2]!==b.from.name||f[3]!==k?(n=(0,t.jsx)("span",{className:k,children:b.from.name}),f[2]=b.from.name,f[3]=k,f[4]=n):n=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("svg",{className:"h-3 w-3 text-text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),f[5]=a):a=f[5];let w=`text-xs font-semibold ${v.text}`,N=b.to?.name??"";return f[6]!==w||f[7]!==N?(l=(0,t.jsx)("span",{className:w,children:N}),f[6]=w,f[7]=N,f[8]=l):l=f[8],f[9]!==j?(o=(0,t.jsx)(S,{agentId:j,status:"idle",size:"xs"}),f[9]=j,f[10]=o):o=f[10],f[11]!==n||f[12]!==l||f[13]!==o?(c=(0,t.jsxs)("div",{className:"mb-1 flex items-center gap-1.5 text-[11px]",children:[n,a,l,o]}),f[11]=n,f[12]=l,f[13]=o,f[14]=c):c=f[14],f[15]!==b.content?(d=(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",children:b.content}),f[15]=b.content,f[16]=d):d=f[16],f[17]!==b.timestamp?(m=G(b.timestamp),f[17]=b.timestamp,f[18]=m):m=f[18],f[19]!==m?(x=(0,t.jsx)("p",{className:"mt-1 text-xs opacity-60",children:m}),f[19]=m,f[20]=x):x=f[20],f[21]!==d||f[22]!==x?(u=(0,t.jsxs)("div",{className:"rounded-xl bg-chat-inter-bg px-3.5 py-2 text-sm leading-relaxed text-chat-inter-text",children:[d,x]}),f[21]=d,f[22]=x,f[23]=u):u=f[23],f[24]!==u||f[25]!==c?(h=(0,t.jsxs)("div",{className:"max-w-[74%]",children:[c,u]}),f[24]=u,f[25]=c,f[26]=h):h=f[26],f[27]!==s||f[28]!==h?(p=(0,t.jsxs)("div",{className:"flex items-start gap-2 pl-4",children:[s,h]}),f[27]=s,f[28]=h,f[29]=p):p=f[29],p}function Z(e){let s,n=(0,r.c)(2),{message:a}=e;return n[0]!==a.content?(s=(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("p",{className:"text-center text-xs text-text-muted",children:a.content})}),n[0]=a.content,n[1]=s):s=n[1],s}function ee(e){let s=(0,r.c)(8),{message:n}=e;switch(n.type){case"user-to-agent":{let e;return s[0]!==n?(e=(0,t.jsx)(V,{message:n}),s[0]=n,s[1]=e):e=s[1],e}case"agent-to-user":{let e;return s[2]!==n?(e=(0,t.jsx)(Q,{message:n}),s[2]=n,s[3]=e):e=s[3],e}case"agent-to-agent":{let e;return s[4]!==n?(e=(0,t.jsx)(Y,{message:n}),s[4]=n,s[5]=e):e=s[5],e}case"system":{let e;return s[6]!==n?(e=(0,t.jsx)(Z,{message:n}),s[6]=n,s[7]=e):e=s[7],e}default:return null}}function et(e){let s,a,l,i,c,d,m,x,u,h,p=(0,r.c)(24),{onSend:f,sending:b}=e,[g,j]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),[k,w]=(0,n.useState)(""),[N,C]=(0,n.useState)(0),B=(0,n.useRef)(null),_=(0,n.useRef)(null),L=(0,n.useRef)(!1),$=[{id:"all",name:"모두",role:"모든 에이전트에게 전송"},...o.map(er)].filter(e=>!k||e.name.includes(k)||e.id.includes(k)),T=()=>{let e=B.current;e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,120)}px`)},A=()=>{g.trim()&&!b&&(f(g.trim()),j(""),v(!1),B.current&&(B.current.style.height="auto"))},M=e=>{let t=B.current;if(!t)return;let r=t.selectionStart??g.length,s=g.substring(0,r),n=s.lastIndexOf("@");if(-1===n)return;let a=g.substring(r);j(s.substring(0,n)+`@${e} `+a),v(!1),w(""),requestAnimationFrame(()=>{t.focus();let r=n+e.length+2;t.setSelectionRange(r,r),T()})},E=e=>{let t=e.target.value;j(t),T();let r=e.target.selectionStart??t.length,s=t.substring(0,r),n=s.lastIndexOf("@");if(-1!==n&&(0===n||" "===s[n-1]||"\n"===s[n-1])){let e=s.substring(n+1);if(!e.includes(" ")){w(e),v(!0),C(0);return}}v(!1)},D=e=>{if(y&&$.length>0){if("ArrowDown"===e.key){e.preventDefault(),C(e=>(e+1)%$.length);return}if("ArrowUp"===e.key){e.preventDefault(),C(e=>(e-1+$.length)%$.length);return}if("Enter"===e.key||"Tab"===e.key){e.preventDefault(),M($[N].name);return}if("Escape"===e.key){e.preventDefault(),v(!1);return}}"Enter"!==e.key||e.shiftKey||L.current||(e.preventDefault(),A())};p[0]!==y?(s=()=>{if(!y)return;let e=e=>{_.current&&!_.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},a=[y],p[0]=y,p[1]=s,p[2]=a):(s=p[1],a=p[2]),(0,n.useEffect)(s,a);let I=y&&$.length>0&&(0,t.jsxs)("div",{ref:_,className:"absolute bottom-full left-0 mb-2 w-56 rounded-xl border border-border-subtle bg-surface shadow-lg overflow-hidden z-10",children:[$.map((e,r)=>(0,t.jsxs)("button",{type:"button",onClick:()=>M(e.name),className:`flex items-center gap-2.5 w-full px-3 py-2 text-left transition-colors cursor-pointer ${r===N?"bg-accent-indigo/10":"hover:bg-gray-100 dark:hover:bg-white/[0.04]"}`,children:["all"===e.id?(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-accent-indigo/20",children:(0,t.jsx)("svg",{className:"h-3.5 w-3.5 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})})}):(0,t.jsx)(S,{agentId:e.id,status:"active",size:"xs"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:e.role})]})]},e.id)),(0,t.jsx)("div",{className:"px-3 py-1.5 border-t border-border-subtle",children:(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"@로 에이전트 멘션"})})]});return p[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{L.current=!0},i=()=>{L.current=!1},p[3]=l,p[4]=i):(l=p[3],i=p[4]),p[5]!==E||p[6]!==D||p[7]!==g||p[8]!==B||p[9]!==b?(c=(0,t.jsx)("textarea",{ref:B,value:g,onChange:E,onKeyDown:D,onCompositionStart:l,onCompositionEnd:i,placeholder:"메시지를 입력하세요... (@로 에이전트 멘션)",disabled:b,rows:1,"aria-label":"메시지 입력",className:"flex-1 resize-none rounded-xl border border-border-subtle bg-surface-light px-4 py-2.5 text-base text-text-primary placeholder:text-text-muted focus:border-accent-indigo/40 focus:bg-surface focus:outline-none focus:ring-1 focus:ring-accent-indigo/30 disabled:opacity-50"}),p[5]=E,p[6]=D,p[7]=g,p[8]=B,p[9]=b,p[10]=c):c=p[10],p[11]!==g||p[12]!==b?(d=!g.trim()||b,p[11]=g,p[12]=b,p[13]=d):d=p[13],p[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),p[14]=m):m=p[14],p[15]!==A||p[16]!==d?(x=(0,t.jsx)("button",{type:"button",onClick:A,disabled:d,"aria-label":"전송",className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-accent-indigo text-white transition-colors hover:bg-accent-indigo/80 disabled:cursor-not-allowed disabled:bg-surface-light disabled:text-text-muted",children:m}),p[15]=A,p[16]=d,p[17]=x):x=p[17],p[18]!==x||p[19]!==c?(u=(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[c,x]}),p[18]=x,p[19]=c,p[20]=u):u=p[20],p[21]!==u||p[22]!==I?(h=(0,t.jsx)("div",{className:"px-3 py-3 shrink-0",children:(0,t.jsxs)("div",{className:"relative",children:[I,u]})}),p[21]=u,p[22]=I,p[23]=h):h=p[23],h}function er(e){return{id:e,name:a[e]?.name??e,role:a[e]?.role??""}}function es(){let e,s,n=(0,r.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[e,(0,t.jsx)("div",{className:"rounded-2xl rounded-tl-sm bg-chat-agent-bg px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",role:"status","aria-label":"에이전트가 응답 중",children:[(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:0ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:150ms]"}),(0,t.jsx)("span",{className:"h-2 w-2 animate-bounce rounded-full bg-text-tertiary [animation-delay:300ms]"})]})})]}),n[1]=s):s=n[1],s}function en(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center px-6",children:[(0,t.jsx)("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-accent-indigo/10",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})})}),(0,t.jsx)("p",{className:"text-base font-medium text-text-primary",children:"팀에게 메시지를 보내보세요"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-text-muted",children:"@로 에이전트를 멘션하면 지목할 수 있어요"})]}),s[0]=e):e=s[0],e}function ea(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"space-y-3 animate-pulse","aria-label":"히스토리 로딩중",children:[void 0,void 0,void 0].map(el)}),s[0]=e):e=s[0],e}function el(e,r){return(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"h-6 w-6 rounded-full bg-gray-200 dark:bg-white/[0.06] shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1.5 flex-1",children:[(0,t.jsx)("div",{className:"h-3 w-16 rounded bg-gray-200 dark:bg-white/[0.06]"}),(0,t.jsx)("div",{className:"h-10 w-3/4 rounded-xl bg-gray-100 dark:bg-white/[0.04]"})]})]},r)}function ei(e){let s,n,a,l,i=(0,r.c)(6),{label:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("div",{className:"flex-1 h-px bg-border-subtle"}),i[0]=s):s=i[0],i[1]!==o?(n=(0,t.jsx)("span",{className:"text-xs font-medium text-text-muted shrink-0",children:o}),i[1]=o,i[2]=n):n=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"flex-1 h-px bg-border-subtle"}),i[3]=a):a=i[3],i[4]!==n?(l=(0,t.jsxs)("div",{className:"flex items-center gap-3 py-2",role:"separator",children:[s,n,a]}),i[4]=n,i[5]=l):l=i[5],l}function eo(e){let s,l,i,o,d,m,x,u,h,p,f,b=(0,r.c)(27),{className:g}=e,{messages:j,sending:y,historyLoaded:v,sendMessage:k,clearMessages:w}=function(){let[e,t]=(0,n.useState)(R),[r,s]=(0,n.useState)(!1),[l,i]=(0,n.useState)(!1),o=(0,n.useRef)(function(){try{return localStorage.getItem(P)||`web-${Date.now()}`}catch{return`web-${Date.now()}`}}());(0,n.useEffect)(()=>{let e=0;try{e=Number(localStorage.getItem(W))||0}catch{}X().then(r=>{let s=e?r.filter(t=>t.timestamp>e):r;s.length>0&&(t(s),H(s)),i(!0)})},[]),(0,n.useEffect)(()=>{H(e)},[e]),(0,n.useEffect)(()=>{try{localStorage.setItem(P,o.current)}catch{}},[]);let d=(0,n.useCallback)(async e=>{let n=e.trim();if(!n||r)return;let l=function(e){let t=e.match(/@(\S+)/);if(t){let e=t[1];if("모두"===e)return"all";if(q[e])return q[e];if(a[e])return e}return"pm"}(n),i={id:U(),type:"user-to-agent",from:{id:"user",name:"나"},to:"all"===l?{id:"all",name:"모두"}:{id:l,name:a[l]?.name??l},content:n,timestamp:Date.now(),status:"sending"};if(t(e=>[...e,i]),s(!0),t(e=>e.map(e=>e.id===i.id?{...e,status:"sent"}:e)),window.dispatchEvent(new CustomEvent("agent-chat-sent")),"all"===l){s(!1);let e={},r=c.map(t=>{let r=U();return e[t]=r,{id:r,type:"agent-to-user",from:{id:t,name:a[t]?.name??t},to:{id:"user",name:"나"},content:"",timestamp:Date.now(),status:"typing"}});for(let s of(t(e=>[...e,...r]),c)){let r=e[s];K(n,s,o.current).then(e=>{t(t=>t.map(t=>t.id===r?{...t,content:e.error?`오류: ${e.error}`:e.content,status:e.error?"error":"sent",timestamp:Date.now()}:t))})}return}{let e=a[l]?.name??l,r=await K(n,l,o.current);r.error?t(e=>[...e,{id:U(),type:"system",from:{id:"system",name:"System"},content:`오류가 발생했습니다: ${r.error}`,timestamp:Date.now(),status:"error"}]):t(t=>[...t,{id:U(),type:"agent-to-user",from:{id:l,name:e},to:{id:"user",name:"나"},content:r.content,timestamp:Date.now(),status:"sent"}])}s(!1)},[r]);return{messages:e,sending:r,historyLoaded:l,sendMessage:d,clearMessages:(0,n.useCallback)(()=>{t([]),o.current=`web-${Date.now()}`;try{localStorage.removeItem(F),localStorage.setItem(P,o.current),localStorage.setItem(W,String(Date.now()))}catch{}},[])}}(),N=(0,n.useRef)(null);b[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{let e=N.current;e&&(e.scrollTop=e.scrollHeight)},b[0]=s):s=b[0],b[1]!==j||b[2]!==y?(l=[j,y],b[1]=j,b[2]=y,b[3]=l):l=b[3],(0,n.useEffect)(s,l);let C=`flex h-full flex-col bg-surface ${g??""}`;return b[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("svg",{className:"h-4 w-4 text-accent-indigo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),o=(0,t.jsx)("h2",{className:"text-base font-bold text-text-primary",children:"팀 채팅"}),b[4]=i,b[5]=o):(i=b[4],o=b[5]),b[6]!==j.length?(d=j.length>0&&(0,t.jsx)("span",{className:"rounded-full bg-accent-indigo/10 px-2 py-0.5 text-xs font-medium text-accent-indigo",children:j.length}),b[6]=j.length,b[7]=d):d=b[7],b[8]!==d?(m=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i,o,d]}),b[8]=d,b[9]=m):m=b[9],b[10]!==w?(x=(0,t.jsx)("button",{type:"button",onClick:w,className:"rounded-lg border border-accent-indigo/30 bg-accent-indigo/10 px-3 py-1.5 text-sm font-medium text-accent-indigo transition-colors hover:bg-accent-indigo/20 hover:border-accent-indigo/50",children:"+ 새 대화"}),b[10]=w,b[11]=x):x=b[11],b[12]!==m||b[13]!==x?(u=(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border-subtle px-4 py-3 shrink-0",children:[m,x]}),b[12]=m,b[13]=x,b[14]=u):u=b[14],b[15]!==v||b[16]!==j||b[17]!==y?(h=(0,t.jsx)("div",{ref:N,className:"flex-1 overflow-y-auto px-4 py-4",role:"log","aria-label":"채팅 메시지","aria-live":"polite",children:v?0!==j.length||y?(0,t.jsxs)("div",{className:"space-y-3",children:[function(e){let r=[],s="";for(let n of e){let e=function(e){let t=new Date(e),r=new Date,s=t.toDateString()===r.toDateString(),n=new Date(r);n.setDate(n.getDate()-1);let a=t.toDateString()===n.toDateString();if(s)return"오늘";if(a)return"어제";let l=t.getMonth()+1,i=t.getDate();return`${l}월 ${i}일`}(n.timestamp);e!==s&&(r.push((0,t.jsx)(ei,{label:e},`date-${n.timestamp}`)),s=e),r.push((0,t.jsx)(ee,{message:n},n.id))}return r}(j),y&&(0,t.jsx)(es,{})]}):(0,t.jsx)(en,{}):(0,t.jsx)(ea,{})}),b[15]=v,b[16]=j,b[17]=y,b[18]=h):h=b[18],b[19]!==k||b[20]!==y?(p=(0,t.jsx)("div",{className:"border-t border-border-subtle shrink-0",children:(0,t.jsx)(et,{onSend:k,sending:y})}),b[19]=k,b[20]=y,b[21]=p):p=b[21],b[22]!==h||b[23]!==p||b[24]!==C||b[25]!==u?(f=(0,t.jsxs)("div",{className:C,children:[u,h,p]}),b[22]=h,b[23]=p,b[24]=C,b[25]=u,b[26]=f):f=b[26],f}function ec(e){let s,n,a,l,i,o,c,d=(0,r.c)(8),{className:m}=e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),n=(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),a=(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),l=(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),i=(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),o=(0,t.jsx)("path",{d:"M9 16.5h6"}),d[0]=s,d[1]=n,d[2]=a,d[3]=l,d[4]=i,d[5]=o):(s=d[0],n=d[1],a=d[2],l=d[3],i=d[4],o=d[5]),d[6]!==m?(c=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:m,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,n,a,l,i,o]}),d[6]=m,d[7]=c):c=d[7],c}function ed(e){let s,n,a,l,i,o=(0,r.c)(6),{className:c}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),n=(0,t.jsx)("circle",{cx:"9",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),a=(0,t.jsx)("circle",{cx:"12",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),l=(0,t.jsx)("circle",{cx:"15",cy:"11",r:"0.75",fill:"currentColor",stroke:"none"}),o[0]=s,o[1]=n,o[2]=a,o[3]=l):(s=o[0],n=o[1],a=o[2],l=o[3]),o[4]!==c?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:c,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,n,a,l]}),o[4]=c,o[5]=i):i=o[5],i}function em(e){let s,n,a,l,i=(0,r.c)(5),{className:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M12 2l2.09 6.26L21 10l-6.91 1.74L12 18l-2.09-6.26L3 10l6.91-1.74L12 2z"}),n=(0,t.jsx)("path",{d:"M19 3l.75 2.25L22 6l-2.25.75L19 9l-.75-2.25L16 6l2.25-.75L19 3z"}),a=(0,t.jsx)("path",{d:"M5 16l.5 1.5 1.5.5-1.5.5L5 20l-.5-1.5L3 18l1.5-.5L5 16z"}),i[0]=s,i[1]=n,i[2]=a):(s=i[0],n=i[1],a=i[2]),i[3]!==o?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:o,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,n,a]}),i[3]=o,i[4]=l):l=i[4],l}function ex(e){let s,n,a,l=(0,r.c)(4),{className:i}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"9"}),n=(0,t.jsx)("polyline",{points:"12 7 12 12 15.5 15.5"}),l[0]=s,l[1]=n):(s=l[0],n=l[1]),l[2]!==i?(a=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s,n]}),l[2]=i,l[3]=a):a=l[3],a}function eu(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function eh(e){let s,n,a,l,i,o,c,d=(0,r.c)(17),{label:m,value:x,sub:u,icon:h}=e;return d[0]!==h?(s=(0,t.jsx)("span",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg bg-gray-100 dark:bg-white/[0.04] text-text-secondary","aria-hidden":"true",children:h}),d[0]=h,d[1]=s):s=d[1],d[2]!==m?(n=(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary",children:m}),d[2]=m,d[3]=n):n=d[3],d[4]!==s||d[5]!==n?(a=(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[s,n]}),d[4]=s,d[5]=n,d[6]=a):a=d[6],d[7]!==x?(l=(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums text-text-primary",children:x}),d[7]=x,d[8]=l):l=d[8],d[9]!==u?(i=u&&(0,t.jsx)("p",{className:"text-xs leading-tight text-text-muted",children:u}),d[9]=u,d[10]=i):i=d[10],d[11]!==l||d[12]!==i?(o=(0,t.jsxs)("div",{className:"text-right",children:[l,i]}),d[11]=l,d[12]=i,d[13]=o):o=d[13],d[14]!==a||d[15]!==o?(c=(0,t.jsxs)("div",{className:"flex items-center justify-between py-2",children:[a,o]}),d[14]=a,d[15]=o,d[16]=c):c=d[16],c}function ep(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 animate-pulse","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("div",{className:"h-7 w-7 rounded-lg bg-gray-100 dark:bg-white/[0.04]"}),(0,t.jsx)("div",{className:"h-3 w-14 rounded bg-gray-200 dark:bg-white/[0.06]"})]}),(0,t.jsx)("div",{className:"h-4 w-12 rounded bg-gray-200 dark:bg-white/[0.06]"})]}),s[0]=e):e=s[0],e}function ef(e){let s,n,a,l,i,o,c,d,m,x,u,h,p,f=(0,r.c)(28),{stats:b,loading:g}=e;if(g||!b){let e;return f[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"통계 로딩중",children:(0,t.jsx)("div",{className:"rounded-xl border border-border-subtle bg-gray-50 dark:bg-white/[0.02] p-3",children:(0,t.jsx)("div",{className:"divide-y divide-border-subtle",children:[0,1,2,3].map(eb)})})}),f[0]=e):e=f[0],e}let j=b.totalInputTokens+b.totalOutputTokens,y=String(b.totalAgents),v=`${b.activeAgents} active / ${b.idleAgents} idle`;f[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(ec,{className:"h-4 w-4"}),f[1]=s):s=f[1],f[2]!==y||f[3]!==v?(n=(0,t.jsx)(eh,{label:"에이전트",value:y,sub:v,icon:s}),f[2]=y,f[3]=v,f[4]=n):n=f[4];let k=String(b.totalSessions);f[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(ed,{className:"h-4 w-4"}),f[5]=a):a=f[5],f[6]!==k?(l=(0,t.jsx)(eh,{label:"세션",value:k,icon:a}),f[6]=k,f[7]=l):l=f[7],f[8]!==j?(i=eu(j),f[8]=j,f[9]=i):i=f[9],f[10]!==b.totalInputTokens?(o=eu(b.totalInputTokens),f[10]=b.totalInputTokens,f[11]=o):o=f[11],f[12]!==b.totalOutputTokens?(c=eu(b.totalOutputTokens),f[12]=b.totalOutputTokens,f[13]=c):c=f[13];let w=`in ${o} / out ${c}`;if(f[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(em,{className:"h-4 w-4"}),f[14]=d):d=f[14],f[15]!==w||f[16]!==i?(m=(0,t.jsx)(eh,{label:"토큰",value:i,sub:w,icon:d}),f[15]=w,f[16]=i,f[17]=m):m=f[17],f[18]!==b.uptimeMs){var N;let e,t;e=Math.floor((N=b.uptimeMs)/36e5),t=Math.floor(N%36e5/6e4),x=e>0?`${e}h ${t}m`:`${t}m`,f[18]=b.uptimeMs,f[19]=x}else x=f[19];return f[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(ex,{className:"h-4 w-4"}),f[20]=u):u=f[20],f[21]!==x?(h=(0,t.jsx)(eh,{label:"가동시간",value:x,icon:u}),f[21]=x,f[22]=h):h=f[22],f[23]!==m||f[24]!==h||f[25]!==n||f[26]!==l?(p=(0,t.jsx)("section",{"aria-label":"시스템 통계",children:(0,t.jsx)("div",{className:"rounded-xl border border-border-subtle bg-gray-50 dark:bg-white/[0.02] p-3",children:(0,t.jsxs)("div",{className:"divide-y divide-border-subtle",children:[n,l,m,h]})})}),f[23]=m,f[24]=h,f[25]=n,f[26]=l,f[27]=p):p=f[27],p}function eb(e){return(0,t.jsx)(ep,{},e)}function eg(e){let s,n,a,l,i,o,c,d,m,x,u,h=(0,r.c)(28),{label:p,info:f,accentBarColor:b}=e;if(!f)return null;h[0]!==f.utilization?(s=Math.round(f.utilization>1?f.utilization:100*f.utilization),h[0]=f.utilization,h[1]=s):s=h[1];let g=Math.min(100,s);h[2]!==f.resets_at?(n=function(e){if(!e)return"";let t=new Date(e).getTime()-Date.now();if(t<=0)return"곧 리셋";let r=Math.floor(t/36e5),s=Math.floor(t%36e5/6e4);return r>0?`${r}시간 ${s}분`:`${s}분`}(f.resets_at),h[2]=f.resets_at,h[3]=n):n=h[3];let j=n,y=g>=90?"bg-rose-500":g>=70?"bg-amber-500":b;h[4]!==p?(a=(0,t.jsx)("span",{className:"text-text-tertiary",children:p}),h[4]=p,h[5]=a):a=h[5],h[6]!==g?(l=(0,t.jsxs)("span",{className:"font-mono text-text-secondary tabular-nums",children:[g,"%"]}),h[6]=g,h[7]=l):l=h[7],h[8]!==j?(i=j&&(0,t.jsx)("span",{className:"text-text-muted",children:j}),h[8]=j,h[9]=i):i=h[9],h[10]!==l||h[11]!==i?(o=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,i]}),h[10]=l,h[11]=i,h[12]=o):o=h[12],h[13]!==a||h[14]!==o?(c=(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[a,o]}),h[13]=a,h[14]=o,h[15]=c):c=h[15];let v=`${p} 사용률 ${g}%`,k=`h-full rounded-full transition-all duration-500 ${y}`,w=`${g}%`;return h[16]!==w?(d={width:w},h[16]=w,h[17]=d):d=h[17],h[18]!==d||h[19]!==k?(m=(0,t.jsx)("div",{className:k,style:d}),h[18]=d,h[19]=k,h[20]=m):m=h[20],h[21]!==g||h[22]!==m||h[23]!==v?(x=(0,t.jsx)("div",{className:"h-1.5 overflow-hidden rounded-full bg-gray-200 dark:bg-white/[0.06]",role:"progressbar","aria-valuenow":g,"aria-valuemin":0,"aria-valuemax":100,"aria-label":v,children:m}),h[21]=g,h[22]=m,h[23]=v,h[24]=x):x=h[24],h[25]!==x||h[26]!==c?(u=(0,t.jsxs)("div",{className:"space-y-1",children:[c,x]}),h[25]=x,h[26]=c,h[27]=u):u=h[27],u}function ej(e){let s,n,a,l,i,o,c=(0,r.c)(18),{account:d}=e,m="claude-viewster"===d.id,x=m?"bg-violet-500":"bg-cyan-500",u=`text-sm font-bold ${m?"text-accent-violet":"text-accent-indigo"}`;return c[0]!==d.label||c[1]!==u?(s=(0,t.jsx)("span",{className:u,children:d.label}),c[0]=d.label,c[1]=u,c[2]=s):s=c[2],c[3]!==d.id?(n=(0,t.jsx)("span",{className:"text-xs text-text-muted",children:d.id}),c[3]=d.id,c[4]=n):n=c[4],c[5]!==s||c[6]!==n?(a=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s,n]}),c[5]=s,c[6]=n,c[7]=a):a=c[7],c[8]!==d.error||c[9]!==d.usage?(l=d.error&&!d.usage&&(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"데이터 없음"}),c[8]=d.error,c[9]=d.usage,c[10]=l):l=c[10],c[11]!==x||c[12]!==d.usage?(i=d.usage&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eg,{label:"5시간",info:d.usage.five_hour,accentBarColor:x}),(0,t.jsx)(eg,{label:"7일",info:d.usage.seven_day,accentBarColor:x}),(0,t.jsx)(eg,{label:"7일 소넷",info:d.usage.seven_day_sonnet,accentBarColor:x})]}),c[11]=x,c[12]=d.usage,c[13]=i):i=c[13],c[14]!==a||c[15]!==l||c[16]!==i?(o=(0,t.jsxs)("div",{className:"space-y-2.5",children:[a,l,i]}),c[14]=a,c[15]=l,c[16]=i,c[17]=o):o=c[17],o}function ey(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-1","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-2.5 w-10 rounded bg-gray-200 dark:bg-white/[0.06]"}),(0,t.jsx)("div",{className:"h-2.5 w-8 rounded bg-gray-200 dark:bg-white/[0.06]"})]}),(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-gray-100 dark:bg-white/[0.04]"})]}),s[0]=e):e=s[0],e}function ev(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"animate-pulse space-y-2.5","aria-hidden":"true",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-16 rounded bg-gray-200 dark:bg-white/[0.08]"}),(0,t.jsx)("div",{className:"h-2.5 w-24 rounded bg-gray-100 dark:bg-white/[0.04]"})]}),(0,t.jsx)(ey,{}),(0,t.jsx)(ey,{}),(0,t.jsx)(ey,{})]}),s[0]=e):e=s[0],e}function ek(e){let s,n,a=(0,r.c)(6),{accounts:l,loading:i}=e;if(i){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량 로딩중",children:(0,t.jsx)("div",{className:"space-y-4",children:[0,1].map(eN)})}),a[0]=e):e=a[0],e}if(0===l.length){let e;return a[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"사용량",children:(0,t.jsx)("p",{className:"text-center text-xs text-text-muted py-2",children:"사용량 데이터 없음"})}),a[1]=e):e=a[1],e}return a[2]!==l?(s=l.map(ew),a[2]=l,a[3]=s):s=a[3],a[4]!==s?(n=(0,t.jsx)("section",{"aria-label":"계정 사용량",children:(0,t.jsx)("div",{className:"space-y-4",children:s})}),a[4]=s,a[5]=n):n=a[5],n}function ew(e,r){return(0,t.jsx)("div",{className:r>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(ej,{account:e})},e.id)}function eN(e){return(0,t.jsx)("div",{className:e>0?"border-t border-border-subtle pt-4":"",children:(0,t.jsx)(ev,{})},e)}function eC(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function eB(e){let s,n,a,l=(0,r.c)(7),{label:i,value:o}=e;return l[0]!==i?(s=(0,t.jsx)("span",{className:"text-xs text-text-muted whitespace-nowrap",children:i}),l[0]=i,l[1]=s):s=l[1],l[2]!==o?(n=(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary tabular-nums truncate max-w-full",children:o}),l[2]=o,l[3]=n):n=l[3],l[4]!==s||l[5]!==n?(a=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-gray-100 dark:bg-white/[0.04] px-3 py-2 min-w-0",children:[s,n]}),l[4]=s,l[5]=n,l[6]=a):a=l[6],a}function e_(e){let s,n,a,l,i,o,c,d,m,x,u,h,p,f,b,g,j,y,v,k,w,N,C,B,_=(0,r.c)(61),{agent:L}=e;if(!L){let e;return _[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{"aria-label":"에이전트 상세",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-center",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gray-100 dark:bg-white/[0.04] text-text-muted","aria-hidden":"true",children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),(0,t.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"3"}),(0,t.jsx)("circle",{cx:"12",cy:"2.5",r:"0.75",fill:"currentColor",stroke:"none"}),(0,t.jsx)("circle",{cx:"9",cy:"13",r:"1.25"}),(0,t.jsx)("circle",{cx:"15",cy:"13",r:"1.25"}),(0,t.jsx)("path",{d:"M9 16.5h6"})]})}),(0,t.jsx)("p",{className:"text-base text-text-muted",children:"에이전트를 선택하세요"})]})}),_[0]=e):e=_[0],e}let T=L.inputTokens+L.outputTokens,A=`${L.name} 에이전트 상세`;_[1]!==L.id||_[2]!==L.status?(s=(0,t.jsx)(S,{agentId:L.id,status:L.status,size:"lg"}),_[1]=L.id,_[2]=L.status,_[3]=s):s=_[3],_[4]!==L.name?(n=(0,t.jsx)("h3",{className:"text-lg font-bold text-text-primary",children:L.name}),_[4]=L.name,_[5]=n):n=_[5],_[6]!==L.role?(a=L.role&&(0,t.jsx)("p",{className:"text-sm text-accent-indigo font-medium",children:L.role}),_[6]=L.role,_[7]=a):a=_[7],_[8]!==L.status?(l=(0,t.jsx)($,{status:L.status,size:"sm"}),_[8]=L.status,_[9]=l):l=_[9],_[10]!==n||_[11]!==a||_[12]!==l?(i=(0,t.jsxs)("div",{className:"space-y-1",children:[n,a,l]}),_[10]=n,_[11]=a,_[12]=l,_[13]=i):i=_[13],_[14]!==s||_[15]!==i?(o=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[s,i]}),_[14]=s,_[15]=i,_[16]=o):o=_[16],_[17]!==L.model?(c=(0,t.jsx)(eB,{label:"모델",value:L.model}),_[17]=L.model,_[18]=c):c=_[18],_[19]!==T?(d=eC(T),_[19]=T,_[20]=d):d=_[20],_[21]!==d?(m=(0,t.jsx)(eB,{label:"총 토큰",value:d}),_[21]=d,_[22]=m):m=_[22],_[23]!==L.lastActivity?(x=function(e){if(!e)return"N/A";let t=Date.now()-e;if(t<6e4)return"방금 전";let r=Math.floor(t/6e4);if(r<60)return`${r}분 전`;let s=Math.floor(r/60);return s<24?`${s}시간 전`:`${Math.floor(s/24)}일 전`}(L.lastActivity),_[23]=L.lastActivity,_[24]=x):x=_[24],_[25]!==x?(u=(0,t.jsx)(eB,{label:"마지막 활동",value:x}),_[25]=x,_[26]=u):u=_[26];let M=String(L.sessionCount??0);return _[27]!==M?(h=(0,t.jsx)(eB,{label:"세션 수",value:M}),_[27]=M,_[28]=h):h=_[28],_[29]!==m||_[30]!==u||_[31]!==h||_[32]!==c?(p=(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[c,m,u,h]}),_[29]=m,_[30]=u,_[31]=h,_[32]=c,_[33]=p):p=_[33],_[34]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-text-muted",children:"토큰 상세"}),_[34]=f):f=_[34],_[35]!==L.inputTokens?(b=eC(L.inputTokens),_[35]=L.inputTokens,_[36]=b):b=_[36],_[37]!==b?(g={label:"입력",value:b,color:"text-sky-600 dark:text-sky-400"},_[37]=b,_[38]=g):g=_[38],_[39]!==L.outputTokens?(j=eC(L.outputTokens),_[39]=L.outputTokens,_[40]=j):j=_[40],_[41]!==j?(y={label:"출력",value:j,color:"text-violet-600 dark:text-violet-400"},_[41]=j,_[42]=y):y=_[42],_[43]!==L.contextTokens?(v=eC(L.contextTokens),_[43]=L.contextTokens,_[44]=v):v=_[44],_[45]!==v?(k={label:"컨텍스트",value:v,color:"text-text-secondary"},_[45]=v,_[46]=k):k=_[46],_[47]!==g||_[48]!==y||_[49]!==k?(w=(0,t.jsxs)("div",{className:"rounded-xl bg-gray-50 dark:bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[f,(0,t.jsx)("dl",{className:"space-y-1.5",children:[g,y,k].map(eS)})]}),_[47]=g,_[48]=y,_[49]=k,_[50]=w):w=_[50],_[51]!==L.currentTask?(N=L.currentTask&&(0,t.jsxs)("div",{className:"rounded-xl border border-accent-indigo/20 bg-accent-indigo/5 p-3 space-y-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-accent-indigo",children:"현재 작업"}),(0,t.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed",children:L.currentTask})]}),_[51]=L.currentTask,_[52]=N):N=_[52],_[53]!==p||_[54]!==w||_[55]!==N||_[56]!==o?(C=(0,t.jsxs)("div",{className:"space-y-4",children:[o,p,w,N]}),_[53]=p,_[54]=w,_[55]=N,_[56]=o,_[57]=C):C=_[57],_[58]!==A||_[59]!==C?(B=(0,t.jsx)("section",{"aria-label":A,children:C}),_[58]=A,_[59]=C,_[60]=B):B=_[60],B}function eS(e){let{label:r,value:s,color:n}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("dt",{className:"text-xs text-text-tertiary",children:r}),(0,t.jsx)("dd",{className:`text-xs font-mono font-medium tabular-nums ${n}`,children:s})]},r)}function eL(e){let s,n,a,l,i,o,c=(0,r.c)(7),{className:d}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M12 2v4m-3-1v2m6-2v2"}),n=(0,t.jsx)("rect",{x:"5",y:"6",width:"14",height:"14",rx:"3"}),a=(0,t.jsx)("circle",{cx:"9.5",cy:"13",r:"1.5"}),l=(0,t.jsx)("circle",{cx:"14.5",cy:"13",r:"1.5"}),i=(0,t.jsx)("path",{d:"M9 17h6"}),c[0]=s,c[1]=n,c[2]=a,c[3]=l,c[4]=i):(s=c[0],n=c[1],a=c[2],l=c[3],i=c[4]),c[5]!==d?(o=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:d,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[s,n,a,l,i]}),c[5]=d,c[6]=o):o=c[6],o}function e$(e){let s,n,a=(0,r.c)(3),{className:l}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}),a[0]=s):s=a[0],a[1]!==l?(n=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:l,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:s}),a[1]=l,a[2]=n):n=a[2],n}function eT(e){let s,n,a=(0,r.c)(3),{className:l}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"}),a[0]=s):s=a[0],a[1]!==l?(n=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:l,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:s}),a[1]=l,a[2]=n):n=a[2],n}function eA(e){let s,n,a,l=(0,r.c)(4),{className:i}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n=(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"}),l[0]=s,l[1]=n):(s=l[0],n=l[1]),l[2]!==i?(a=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[s,n]}),l[2]=i,l[3]=a):a=l[3],a}function eM(e){let s,n,a,l=(0,r.c)(4),{className:i}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),n=(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"}),l[0]=s,l[1]=n):(s=l[0],n=l[1]),l[2]!==i?(a=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:i,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[s,n]}),l[2]=i,l[3]=a):a=l[3],a}function eE(e){let s,n,a=(0,r.c)(3),{open:l,className:i}=e,o=`${i} transition-transform duration-200 ${l?"rotate-90":""}`;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"}),a[0]=s):s=a[0],a[1]!==o?(n=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:o,fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:s}),a[1]=o,a[2]=n):n=a[2],n}function eD(){let e,s=(0,r.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 w-24 rounded bg-gray-200 dark:bg-white/[0.06] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-full rounded-lg bg-gray-100 dark:bg-white/[0.04] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-full rounded-lg bg-gray-100 dark:bg-white/[0.04] animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-3/4 rounded-lg bg-gray-100 dark:bg-white/[0.04] animate-pulse"})]}),s[0]=e):e=s[0],e}function eI(e){let s,n,a=(0,r.c)(9),{items:l,icon:i,emptyText:o}=e;if(0===l.length){let e;return a[0]!==o?(e=(0,t.jsx)("p",{className:"text-xs text-text-muted",children:o}),a[0]=o,a[1]=e):e=a[1],e}if(a[2]!==i||a[3]!==l){let e;a[5]!==i?(e=e=>(0,t.jsxs)("li",{className:"flex items-center gap-2 rounded-lg bg-gray-50 dark:bg-white/[0.03] border border-border-subtle px-2.5 py-2",children:[i,(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:e.name}),e.sub&&(0,t.jsx)("p",{className:"text-xs text-text-muted truncate",children:e.sub})]})]},e.name),a[5]=i,a[6]=e):e=a[6],s=l.map(e),a[2]=i,a[3]=l,a[4]=s}else s=a[4];return a[7]!==s?(n=(0,t.jsx)("ul",{className:"space-y-1.5",children:s}),a[7]=s,a[8]=n):n=a[8],n}function ez(e){let s,n,a,l,i,o=(0,r.c)(16),{tools:c,agentName:d}=e;return o[0]!==c.allowed?(s=c.allowed.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-emerald-600 dark:text-emerald-400 mb-1.5",children:"허용 도구"}),(0,t.jsx)("ul",{className:"space-y-1",children:c.allowed.map(eW)})]}),o[0]=c.allowed,o[1]=s):s=o[1],o[2]!==c.forbidden?(n=c.forbidden.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-rose-600 dark:text-rose-400 mb-1.5",children:"금지 도구"}),(0,t.jsx)("ul",{className:"space-y-1",children:c.forbidden.map(eP)})]}),o[2]=c.forbidden,o[3]=n):n=o[3],o[4]!==c.cron?(a=c.cron.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-sky-600 dark:text-sky-400 mb-1.5",children:"Cron 작업"}),(0,t.jsx)("ul",{className:"space-y-1",children:c.cron.map(eF)})]}),o[4]=c.cron,o[5]=a):a=o[5],o[6]!==d||o[7]!==c.allowed.length||o[8]!==c.cron.length||o[9]!==c.forbidden.length?(l=0===c.allowed.length&&0===c.forbidden.length&&0===c.cron.length&&(0,t.jsxs)("p",{className:"text-xs text-text-muted",children:[d,"의 도구 설정 없음"]}),o[6]=d,o[7]=c.allowed.length,o[8]=c.cron.length,o[9]=c.forbidden.length,o[10]=l):l=o[10],o[11]!==s||o[12]!==n||o[13]!==a||o[14]!==l?(i=(0,t.jsxs)("div",{className:"space-y-3",children:[s,n,a,l]}),o[11]=s,o[12]=n,o[13]=a,o[14]=l,o[15]=i):i=o[15],i}function eF(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-sm text-text-secondary",children:[(0,t.jsx)(eM,{className:"h-3 w-3 text-sky-600 dark:text-sky-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eP(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-sm text-text-secondary",children:[(0,t.jsx)(eA,{className:"h-3 w-3 text-rose-600 dark:text-rose-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eW(e){return(0,t.jsxs)("li",{className:"flex items-start gap-1.5 text-sm text-text-secondary",children:[(0,t.jsx)(eT,{className:"h-3 w-3 text-emerald-600 dark:text-emerald-400 shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:e})]},e)}function eO(e){let s,a,l,i,o,c,d,m=(0,r.c)(20),{title:x,count:u,icon:h,defaultOpen:p,children:f}=e,[b,g]=(0,n.useState)(void 0!==p&&p);return m[0]!==b?(s=()=>g(!b),m[0]=b,m[1]=s):s=m[1],m[2]!==x?(a=(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary flex-1",children:x}),m[2]=x,m[3]=a):a=m[3],m[4]!==u?(l=(0,t.jsx)("span",{className:"text-xs font-medium text-text-muted bg-gray-200 dark:bg-white/[0.06] rounded-full px-2 py-0.5",children:u}),m[4]=u,m[5]=l):l=m[5],m[6]!==b?(i=(0,t.jsx)(eE,{open:b,className:"h-3.5 w-3.5 text-text-muted"}),m[6]=b,m[7]=i):i=m[7],m[8]!==h||m[9]!==s||m[10]!==a||m[11]!==l||m[12]!==i?(o=(0,t.jsxs)("button",{onClick:s,className:"flex items-center gap-2 w-full px-3 py-2.5 text-left hover:bg-gray-50 dark:bg-white/[0.02] transition-colors cursor-pointer",children:[h,a,l,i]}),m[8]=h,m[9]=s,m[10]=a,m[11]=l,m[12]=i,m[13]=o):o=m[13],m[14]!==f||m[15]!==b?(c=b&&(0,t.jsx)("div",{className:"px-3 pb-3 pt-1 border-t border-border-subtle",children:f}),m[14]=f,m[15]=b,m[16]=c):c=m[16],m[17]!==o||m[18]!==c?(d=(0,t.jsxs)("div",{className:"rounded-xl bg-gray-50 dark:bg-white/[0.02] border border-border-subtle overflow-hidden",children:[o,c]}),m[17]=o,m[18]=c,m[19]=d):d=m[19],d}function eU(e){let s,n,a,l,i,o,c,d,m,x,u,h=(0,r.c)(27),{environment:p,loading:f,selectedAgentId:b,selectedAgentName:g}=e;if(f&&!p){let e;return h[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(eD,{}),h[0]=e):e=h[0],e}if(!p){let e;return h[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"환경 정보 없음"}),h[1]=e):e=h[1],e}if(b&&p.agentTools[b]){let e,r,s=p.agentTools[b];if(!(s.allowed.length>0||s.forbidden.length>0||s.cron.length>0))return null;h[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-text-muted",children:"도구 설정"}),h[2]=e):e=h[2];let n=g||b;return h[3]!==n||h[4]!==s?(r=(0,t.jsxs)("div",{className:"rounded-xl bg-gray-50 dark:bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[e,(0,t.jsx)(ez,{tools:s,agentName:n})]}),h[3]=n,h[4]=s,h[5]=r):r=h[5],r}h[6]!==p.plugins?(s=p.plugins.map(eH),h[6]=p.plugins,h[7]=s):s=h[7];let j=s;h[8]!==p.skills?(n=p.skills.map(eR),h[8]=p.skills,h[9]=n):n=h[9];let y=n;return h[10]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(eL,{className:"h-4 w-4 text-accent-indigo shrink-0"}),h[10]=a):a=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(eL,{className:"h-3.5 w-3.5 text-accent-indigo shrink-0"}),h[11]=l):l=h[11],h[12]!==j?(i=(0,t.jsx)(eI,{items:j,icon:l,emptyText:"플러그인 없음"}),h[12]=j,h[13]=i):i=h[13],h[14]!==p.plugins.length||h[15]!==i?(o=(0,t.jsx)(eO,{title:"플러그인",count:p.plugins.length,icon:a,defaultOpen:!1,children:i}),h[14]=p.plugins.length,h[15]=i,h[16]=o):o=h[16],h[17]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(e$,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 shrink-0"}),h[17]=c):c=h[17],h[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(e$,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-400 shrink-0"}),h[18]=d):d=h[18],h[19]!==y?(m=(0,t.jsx)(eI,{items:y,icon:d,emptyText:"스킬 없음"}),h[19]=y,h[20]=m):m=h[20],h[21]!==p.skills.length||h[22]!==m?(x=(0,t.jsx)(eO,{title:"스킬",count:p.skills.length,icon:c,defaultOpen:!1,children:m}),h[21]=p.skills.length,h[22]=m,h[23]=x):x=h[23],h[24]!==x||h[25]!==o?(u=(0,t.jsxs)("div",{className:"space-y-2.5",children:[o,x]}),h[24]=x,h[25]=o,h[26]=u):u=h[26],u}function eR(e){return{name:e.name,sub:e.description||void 0}}function eH(e){return{name:e.name,sub:e.marketplace}}function eq(e){let s,n=(0,r.c)(2),{children:a}=e;return n[0]!==a?(s=(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-text-muted mb-2.5",children:a}),n[0]=a,n[1]=s):s=n[1],s}function eK(e){let s,n,a,l,i,o,c,d,m,x,u,h=(0,r.c)(28),{stats:p,statsLoading:f,accounts:b,usageLoading:g,selectedAgent:j,environment:y,environmentLoading:v,className:k}=e,w=`flex flex-col gap-5 overflow-y-auto px-4 py-5 ${k??""}`;h[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(eq,{children:"통계"}),h[0]=s):s=h[0],h[1]!==p||h[2]!==f?(n=(0,t.jsxs)("div",{children:[s,(0,t.jsx)(ef,{stats:p,loading:f})]}),h[1]=p,h[2]=f,h[3]=n):n=h[3],h[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),l=(0,t.jsx)(eq,{children:"사용량"}),h[4]=a,h[5]=l):(a=h[4],l=h[5]),h[6]!==b||h[7]!==g?(i=(0,t.jsxs)("div",{children:[l,(0,t.jsx)(ek,{accounts:b,loading:g})]}),h[6]=b,h[7]=g,h[8]=i):i=h[8],h[9]!==j?(o=null!==j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eq,{children:"에이전트 상세"}),(0,t.jsx)(e_,{agent:j})]})]}),h[9]=j,h[10]=o):o=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"border-t border-border-subtle","aria-hidden":"true"}),h[11]=c):c=h[11];let N=j?"도구 & 환경":"시스템 환경";h[12]!==N?(d=(0,t.jsx)(eq,{children:N}),h[12]=N,h[13]=d):d=h[13];let C=j?.id??null,B=j?.name??null;return h[14]!==y||h[15]!==v||h[16]!==C||h[17]!==B?(m=(0,t.jsx)(eU,{environment:y,loading:v,selectedAgentId:C,selectedAgentName:B}),h[14]=y,h[15]=v,h[16]=C,h[17]=B,h[18]=m):m=h[18],h[19]!==d||h[20]!==m?(x=(0,t.jsxs)("div",{children:[d,m]}),h[19]=d,h[20]=m,h[21]=x):x=h[21],h[22]!==w||h[23]!==x||h[24]!==n||h[25]!==i||h[26]!==o?(u=(0,t.jsxs)("div",{className:w,children:[n,a,i,o,c,x]}),h[22]=w,h[23]=x,h[24]=n,h[25]=i,h[26]=o,h[27]=u):u=h[27],u}function eX(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function eG(e){let s,a,l,i,o,c,d,m,x,u,h,p,f,b,g,j,y,v,k,w,N,C,B,_,L,T,A,M,E,D,I,z,F,P,W=(0,r.c)(76),{agent:O,onClose:U}=e,R=(0,n.useRef)(null);W[0]!==U?(s=()=>{let e=function(e){"Escape"===e.key&&U()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},a=[U],W[0]=U,W[1]=s,W[2]=a):(s=W[1],a=W[2]),(0,n.useEffect)(s,a),W[3]!==U?(l=function(e){e.target===R.current&&U()},W[3]=U,W[4]=l):l=W[4];let H=l,q=O.inputTokens+O.outputTokens,K=`${O.name} 에이전트 상세`;W[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:(0,t.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})}),W[5]=i):i=W[5],W[6]!==U?(o=(0,t.jsx)("button",{onClick:U,className:"absolute top-3 right-3 flex h-7 w-7 items-center justify-center rounded-lg text-text-muted hover:text-text-primary hover:bg-gray-100 dark:hover:bg-white/[0.06] transition-colors cursor-pointer","aria-label":"닫기",children:i}),W[6]=U,W[7]=o):o=W[7],W[8]!==O.id||W[9]!==O.status?(c=(0,t.jsx)(S,{agentId:O.id,status:O.status,size:"lg"}),W[8]=O.id,W[9]=O.status,W[10]=c):c=W[10],W[11]!==O.name?(d=(0,t.jsx)("h3",{className:"text-lg font-bold text-text-primary",children:O.name}),W[11]=O.name,W[12]=d):d=W[12],W[13]!==O.role?(m=O.role&&(0,t.jsx)("p",{className:"text-sm text-accent-indigo font-medium",children:O.role}),W[13]=O.role,W[14]=m):m=W[14],W[15]!==O.status?(x=(0,t.jsx)($,{status:O.status,size:"sm"}),W[15]=O.status,W[16]=x):x=W[16],W[17]!==x||W[18]!==d||W[19]!==m?(u=(0,t.jsxs)("div",{className:"space-y-1",children:[d,m,x]}),W[17]=x,W[18]=d,W[19]=m,W[20]=u):u=W[20],W[21]!==u||W[22]!==c?(h=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center pt-1",children:[c,u]}),W[21]=u,W[22]=c,W[23]=h):h=W[23],W[24]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("span",{className:"text-xs text-text-muted",children:"모델"}),W[24]=p):p=W[24],W[25]!==O.model?(f=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-gray-100 dark:bg-white/[0.04] px-3 py-2",children:[p,(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary tabular-nums text-center break-all",children:O.model})]}),W[25]=O.model,W[26]=f):f=W[26],W[27]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)("span",{className:"text-xs text-text-muted",children:"총 토큰"}),W[27]=b):b=W[27],W[28]!==q?(g=eX(q),W[28]=q,W[29]=g):g=W[29],W[30]!==g?(j=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-gray-100 dark:bg-white/[0.04] px-3 py-2",children:[b,(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary tabular-nums",children:g})]}),W[30]=g,W[31]=j):j=W[31],W[32]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)("span",{className:"text-xs text-text-muted",children:"마지막 활동"}),W[32]=y):y=W[32],W[33]!==O.lastActivity?(v=function(e){if(!e)return"활동 없음";let t=Date.now()-e;if(t<6e4)return"방금 전";let r=Math.floor(t/6e4);if(r<60)return`${r}분 전`;let s=Math.floor(r/60);return s<24?`${s}시간 전`:`${Math.floor(s/24)}일 전`}(O.lastActivity),W[33]=O.lastActivity,W[34]=v):v=W[34],W[35]!==v?(k=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-gray-100 dark:bg-white/[0.04] px-3 py-2",children:[y,(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary tabular-nums",children:v})]}),W[35]=v,W[36]=k):k=W[36],W[37]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)("span",{className:"text-xs text-text-muted",children:"세션 수"}),W[37]=w):w=W[37];let X=String(O.sessionCount??0);return W[38]!==X?(N=(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5 rounded-xl bg-gray-100 dark:bg-white/[0.04] px-3 py-2",children:[w,(0,t.jsx)("span",{className:"text-sm font-semibold text-text-primary tabular-nums",children:X})]}),W[38]=X,W[39]=N):N=W[39],W[40]!==f||W[41]!==j||W[42]!==k||W[43]!==N?(C=(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[f,j,k,N]}),W[40]=f,W[41]=j,W[42]=k,W[43]=N,W[44]=C):C=W[44],W[45]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-text-muted",children:"토큰 상세"}),W[45]=B):B=W[45],W[46]!==O.inputTokens?(_=eX(O.inputTokens),W[46]=O.inputTokens,W[47]=_):_=W[47],W[48]!==_?(L={label:"입력",value:_,color:"text-sky-600 dark:text-sky-400"},W[48]=_,W[49]=L):L=W[49],W[50]!==O.outputTokens?(T=eX(O.outputTokens),W[50]=O.outputTokens,W[51]=T):T=W[51],W[52]!==T?(A={label:"출력",value:T,color:"text-violet-600 dark:text-violet-400"},W[52]=T,W[53]=A):A=W[53],W[54]!==O.contextTokens?(M=eX(O.contextTokens),W[54]=O.contextTokens,W[55]=M):M=W[55],W[56]!==M?(E={label:"컨텍스트",value:M,color:"text-text-secondary"},W[56]=M,W[57]=E):E=W[57],W[58]!==L||W[59]!==A||W[60]!==E?(D=(0,t.jsxs)("div",{className:"rounded-xl bg-gray-50 dark:bg-white/[0.03] border border-border-subtle p-3 space-y-2",children:[B,(0,t.jsx)("dl",{className:"space-y-1.5",children:[L,A,E].map(eV)})]}),W[58]=L,W[59]=A,W[60]=E,W[61]=D):D=W[61],W[62]!==O.currentTask?(I=O.currentTask&&(0,t.jsxs)("div",{className:"rounded-xl border border-accent-indigo/20 bg-accent-indigo/5 p-3 space-y-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-accent-indigo",children:"현재 작업"}),(0,t.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed",children:O.currentTask})]}),W[62]=O.currentTask,W[63]=I):I=W[63],W[64]!==h||W[65]!==C||W[66]!==D||W[67]!==I?(z=(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[h,C,D,I]}),W[64]=h,W[65]=C,W[66]=D,W[67]=I,W[68]=z):z=W[68],W[69]!==z||W[70]!==K||W[71]!==o?(F=(0,t.jsxs)("div",{className:"relative w-[320px] max-h-[80vh] overflow-y-auto rounded-2xl border border-border-subtle bg-background shadow-2xl",role:"dialog","aria-label":K,children:[o,z]}),W[69]=z,W[70]=K,W[71]=o,W[72]=F):F=W[72],W[73]!==H||W[74]!==F?(P=(0,t.jsx)("div",{ref:R,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:H,children:F}),W[73]=H,W[74]=F,W[75]=P):P=W[75],P}function eV(e){let{label:r,value:s,color:n}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("dt",{className:"text-xs text-text-tertiary",children:r}),(0,t.jsx)("dd",{className:`text-xs font-mono font-medium tabular-nums ${n}`,children:s})]},r)}function eJ(){let e,s,a,i,o,c,p,f=(0,r.c)(25),{agents:b,selectedAgent:g,selectedAgentId:j,selectAgent:v,loading:k,connected:w}=function(){let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)([]),[a,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(!0),[x,u]=(0,n.useState)(null),[h,p]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),g=(0,n.useRef)(new Map),j=(0,n.useCallback)(async()=>{try{let e=await fetch(`${d}/api/agents`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json(),n=(r.data??r).map(m);t(n),s(function(e){let t=new Map(e.map(e=>[e.id,e])),r=[];for(let[s,n]of Object.entries(l)){let a=t.get(s);if(!a)continue;let l=n.members.map(t=>{let r=e.find(e=>e.id===t.id);return r?{id:r.id,name:t.name,role:t.role,model:r.model||t.model,status:r.status,isPlaceholder:!1,lastActivity:r.lastActivity,inputTokens:r.inputTokens,outputTokens:r.outputTokens}:{id:t.id,name:t.name,role:t.role,model:t.model,status:"offline",isPlaceholder:!0}});r.push({pm:a,members:l,label:n.label,description:n.description})}return r}(n)),p(!0),u(null);let a=g.current,o=[],c=Date.now();for(let e of n){let t=a.get(e.id);void 0!==t&&t!==e.status&&o.push({time:c,agentName:e.name,status:e.status})}o.length>0&&i(e=>[...o,...e].slice(0,20));let x=new Map;for(let e of n)x.set(e.id,e.status);g.current=x}catch(e){u(e instanceof Error?e.message:"Failed to fetch agents"),p(!1)}finally{c(!1)}},[]);(0,n.useEffect)(()=>{j();let e=setInterval(j,1e4),t=()=>{setTimeout(j,500)};return window.addEventListener("agent-chat-sent",t),()=>{clearInterval(e),window.removeEventListener("agent-chat-sent",t)}},[j]);let y=e.find(e=>"pm"===e.id)||null,v=f&&e.find(e=>e.id===f)||null;return{agents:e,teams:r,headPM:y,activities:a,selectedAgent:v,selectedAgentId:f,selectAgent:(0,n.useCallback)(e=>{b(t=>t===e?null:e)},[]),loading:o,error:x,connected:h}}(),{stats:N,loading:C}=function(){let[e,t]=(0,n.useState)(null),[r,s]=(0,n.useState)(!0),[a,l]=(0,n.useState)(null),i=(0,n.useCallback)(async()=>{try{let e=await fetch(`${x}/api/stats`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json(),s=r.data??r;t(s),l(null)}catch(e){l(e instanceof Error?e.message:"Failed to fetch stats")}finally{s(!1)}},[]);return(0,n.useEffect)(()=>{i();let e=setInterval(i,1e4);return()=>clearInterval(e)},[i]),{stats:e,loading:r,error:a}}(),{accounts:B,loading:_}=function(){let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!0),a=(0,n.useCallback)(async()=>{try{let e=await fetch(`${u}/api/usage`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json();t(r.data??[])}catch{}finally{s(!1)}},[]);return(0,n.useEffect)(()=>{a();let e=setInterval(a,6e4);return()=>clearInterval(e)},[a]),{accounts:e,loading:r}}(),{environment:S,loading:L}=function(){let[e,t]=(0,n.useState)(null),[r,s]=(0,n.useState)(!0),a=(0,n.useCallback)(async()=>{try{let e=await fetch(`${h}/api/environment`);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json();t(r.data??null)}catch{}finally{s(!1)}},[]);return(0,n.useEffect)(()=>{a();let e=setInterval(a,3e5);return()=>clearInterval(e)},[a]),{environment:e,loading:r}}();return f[0]!==b||f[1]!==k?(e=k?[]:b,f[0]=b,f[1]=k,f[2]=e):e=f[2],f[3]!==v||f[4]!==j||f[5]!==e?(s=(0,t.jsx)(D,{agents:e,selectedAgentId:j,onSelectAgent:v}),f[3]=v,f[4]=j,f[5]=e,f[6]=s):s=f[6],f[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(eo,{}),f[7]=a):a=f[7],f[8]!==L||f[9]!==S||f[10]!==N||f[11]!==C||f[12]!==B||f[13]!==_?(i=(0,t.jsx)(eK,{stats:N,statsLoading:C,accounts:B,usageLoading:_,selectedAgent:null,environment:S,environmentLoading:L}),f[8]=L,f[9]=S,f[10]=N,f[11]=C,f[12]=B,f[13]=_,f[14]=i):i=f[14],f[15]!==w||f[16]!==s||f[17]!==i?(o=(0,t.jsx)(y,{connected:w,leftPanel:s,centerPanel:a,rightPanel:i}),f[15]=w,f[16]=s,f[17]=i,f[18]=o):o=f[18],f[19]!==v||f[20]!==g?(c=g&&(0,t.jsx)(eG,{agent:g,onClose:()=>v(g.id)}),f[19]=v,f[20]=g,f[21]=c):c=f[21],f[22]!==o||f[23]!==c?(p=(0,t.jsxs)(t.Fragment,{children:[o,c]}),f[22]=o,f[23]=c,f[24]=p):p=f[24],p}e.s(["default",()=>eJ],52683)}]);